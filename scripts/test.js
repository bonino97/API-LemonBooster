angular.module("templates").run(["$templateCache",function(e){e.put("accordionMenu.html","<li ng-class='{&#39;opened&#39;: $ctrl.open, &#39;hp-settings-menu&#39;: !$ctrl.open}' ng-click='$ctrl.toggleHeadlineNews()'>\n<div class='accordion-menu-title'>\n<div class='accordion-menu-arrow' ng-if='!$ctrl.open'></div>\n<div class='accordion-menu-arrow down' ng-if='$ctrl.open'></div>\n<div class='accordion-title-name'>\n{{$ctrl.title}}\n</div>\n</div>\n</li>\n<div class='accordian-menu animate-me' ng-show='$ctrl.open'>\n<div ng-transclude></div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("adminListEditor.html","<div class='btn btn-list' ng-click='ctrl.showEditModal(&quot;rank&quot;)'>\n<div class='rank'>\n<div class='list-svg-icon rank-type-blue'></div>\n<span class='publishing-button-description'>Ranking</span>\n</div>\n</div>\n<div class='btn btn-list right' ng-click='ctrl.showEditModal(&quot;roster&quot;)'>\n<div class='rank'>\n<div class='list-svg-icon roster-type-blue'></div>\n<span class='publishing-button-description'>Roster</span>\n</div>\n</div>\n<div class='btn btn-list' ng-click='ctrl.showEditModal(&quot;depth_chart&quot;)'>\n<div class='rank'>\n<div class='depth-chart-type-blue list-svg-icon'></div>\n<span class='publishing-button-description'>Depth Chart</span>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("adminProspectEditor.html","<span class='link-button' ng-click='ctrl.showEditModal()' ng-if='!isNewProspect'>Edit</span>\n<div class='btn btn-default create-new-profile-btn' ng-click='ctrl.showEditModal()' ng-if='isNewProspect'>Create a new Profile</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("articleList.html","<article class='medium-article' ng-repeat='article in articles | limitTo: numArticlesShown'>\n  <div class='content'>\n    <div class='byline'>\n      <span ng-bind-html='article.live_at'></span> |\n      <span>{{article.byline_author}}</span>\n      <span ng-bind-html='article.premium'></span>\n      <span ng-bind-html='article.frontpage_link_icon'></span>\n    </div>\n    <a class='headline' ng-href='{{article.content_url}}' ng-target='{{article.link_target}}'>{{article.title}}</a>\n    <div class='summary'>{{article.summary}}</div>\n  </div>\n  <a class='thumbnail' ng-href='{{article.content_url}}' ng-target='{{article.link_target}}' ng-alt='article.title'>\n    <img ng-src='{{article.thumbnail_url}}'></img>\n  </a>\n</article>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("breakingNewsBar.html","<div class='breaking-news-container' ng-class='{&#39;select-bar&#39;: $ctrl.selected, &#39;site-color&#39;: $ctrl.info.site_color}' ng-cloak ng-show='$ctrl.info'>\n<div class='breaking-news-headline'>\n<div class='arrow-box' ng-class='{ &#39;color&#39;: $ctrl.info.site_color }' ng-cloak>\n<div class='box-title'>\n{{$ctrl.info.title}}\n</div>\n</div>\n<div class='arrow' ng-class='{&#39;site-color-arrow&#39;: $ctrl.info.site_color}'>\n<div class='upper-right-triangle' ng-if='$ctrl.info.site_color'></div>\n<div class='lower-right-triangle' ng-if='$ctrl.info.site_color'></div>\n</div>\n<div class='box-site-color' ng-if='$ctrl.info.site_color'></div>\n<div class='content' ng-class='{&#39;big-font&#39;: $ctrl.info.big_font}'>\n<a ng-href='{{$ctrl.info.url}}' ng-if='$ctrl.info.url'>\n{{$ctrl.info.text}}\n</a>\n<div ng-if='!$ctrl.info.url'>\n{{$ctrl.info.text}}\n</div>\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("changePassword.html",'<div id="change-password">\n  <div ng-hide="ctrl.changing || ctrl.changed">\n    <a class="btn btn-default" href="#" ng-click="ctrl.showChangeForm()">Change password</a>\n  </div>\n  <div class="change-password-form" ng-show="ctrl.changing">\n    <div class="form-group" ng-class="{error: ctrl.errors}">\n      <div class="row">\n        <div class="col-sm-5">\n          <label class="control-label" for="new_password">New password</label>\n        </div>\n        <div class="col-sm-5 show-password checkbox txt-r">\n          <input id="showcheckbox" type="checkbox" ng-model="ctrl.showPassword" tabindex="-1"/>\n          <label for="showcheckbox">Show password</label>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-sm-10">\n          <input class="form-control input input-block" type="{{ctrl.passwordInputType()}}" id="new_password" ng-model="ctrl.newPassword" ng-change="ctrl.validatePassword(ctrl.newPassword)">\n        </div>\n        <div class="col-sm-2">\n          <a class="btn btn-default save" href="#" ng-click="ctrl.changePassword()" id="savepassword" ng-disabled="!ctrl.validPassword">Save</a>\n        </div>\n        <div class="col-sm-2">\n          <a class="btn btn-no-outline cancel" href="#" ng-click="ctrl.hideChangeForm()">Cancel</a>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-sm-10">\n          <div ng-show="ctrl.errors" class="error-reason">\n            {{ctrl.errors[0]}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div ng-show="ctrl.changed">\n    Password changed\n  </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("cloudinaryUrlUploader.html",'<div class="rivals-icon-image"></div>\n<div ng-show="!loading">\n    <input class="url-upload image_url"\n           type="text"\n           ng-keypress="onKeypress($event)"\n           ng-model="fileUrl"\n           placeholder="Copy and paste image url"\n           name="image-url"\n      />\n    <button class="insert-url" ng-if="imageUpload" ng-click="onClick()">Select</button>\n    <button class="insert-url" ng-if="!imageUpload" ng-click="onClick()">Insert</button>\n</div>\n<div ng-show="loading">\n    <div class="loading-spinner"></div>\n</div>\n<div class="close-sub-block thumbnail" ng-click="onBack()">\xd7</div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("enrichmentModules.html","<div class='enrichment-module-settings'>\n<div class='settings-panel' ng-cloak ng-if='$ctrl.addCustomEnrichment == false'>\n<div class='enrichment-module-instructions'>\nSelect up to three enrichment modules to show on the homepage.\n</div>\n<div class='modules'>\n<div class='no-modules-published' ng-cloak ng-if='$ctrl.numModules == 0'>\nNo modules are published on the homepage.\n</div>\n<ul class='published-modules' ng-cloak ng-if='$ctrl.numModules &gt; 0'>\n<li class='full-module' ng-repeat='module in $ctrl.activeEnrichments'>\n<div class='module-item'>\n<div class='module-header-settings' ng-click='$ctrl.toggleActive($index)' ng-mouseleave='$ctrl.activeHoverId = null' ng-mouseover='$ctrl.activeHoverId = $index'>\n<input checked class='checkbox' id='active{{module[&quot;type&quot;]}}' ng-click='$ctrl.addToInactive($index)' type='checkbox'>\n<div class='item-text'>\n{{ $ctrl.moduleDisplayName(module) }}\n</div>\n</div>\n<div class='selected-item-highlight' ng-if='$ctrl.openActive == $index'></div>\n<div class='arrow-swap-buttons' ng-mouseleave='$ctrl.activeHoverId = null' ng-mouseover='$ctrl.activeHoverId = $index'>\n<div class='arrow-up disabled' ng-if='$index == 0'></div>\n<div class='arrow-up' ng-click='$ctrl.swapModules($index, true)' ng-if='$index != 0'></div>\n<div class='arrow-down disabled' ng-if='$index == ($ctrl.numModules - 1)'></div>\n<div class='arrow-down' ng-click='$ctrl.swapModules($index, false)' ng-if='$index != ($ctrl.numModules - 1)'></div>\n</div>\n</div>\n<div class='module-item-contents' ng-if='$ctrl.openActive == $index'>\n<div class='module-item-settings' ng-cloak ng-if='(module[&#39;type&#39;] != &#39;Twitter&#39;) &amp;&amp; (module[&#39;type&#39;] != &#39;Rank&#39;) &amp;&amp; (module[&#39;type&#39;] != &#39;Roster&#39;) &amp;&amp; (module[&#39;type&#39;] != &#39;FanFuturecastLeaderboard&#39;)'>\n<div ng-if='!$ctrl.isInvalidForSite(module[&quot;type&quot;])'>\n<div class='item-contents-title'>\nSport\n</div>\n<div class='sport-selection'>\n<div class='option-one'>\n<input class='radio-styling' id='basketball{{module[&quot;type&quot;]}}' ng-disabled='module[&#39;type&#39;] == &#39;Schedule&#39;' ng-model='$ctrl.scheduleModuleFootball' ng-value='false' type='radio'>\n<div class='option-text'>\nBasketball\n</div>\n</div>\n<div class='option-two'>\n<input class='radio-styling' id='football{{module[&quot;type&quot;]}}' ng-disabled='module[&#39;type&#39;] == &#39;Schedule&#39;' ng-model='$ctrl.scheduleModuleFootball' ng-value='true' type='radio'>\n<div class='option-text'>\nFootball\n</div>\n</div>\n</div>\n</div>\n<div ng-if='$ctrl.isInvalidForSite(module[&quot;type&quot;])'>\n<div class='option-text'>\nModule is invalid on non-college sites.\n</div>\n</div>\n</div>\n<div class='module-item-settings' ng-cloak ng-if='module[&#39;type&#39;] == &#39;Twitter&#39;'>\n<div class='item-contents-title'>\nHandle\n</div>\n<input class='text-input-box' id='twitter_enrichment_handle' ng-blur='$ctrl.validateTwitterTimeline()' ng-change='$ctrl.changes = true' ng-model='$ctrl.twitterHandle' placeholder='Twitter Handle' required='true' type='text'>\n<div class='error-message' ng-if='!$ctrl.twitterHandle'>\nTwitter handle is required\n</div>\n<div class='item-contents-title'>\nList Name\n</div>\n<input class='text-input-box' id='twitter_enrichment_list_name' ng-change='$ctrl.changes = true' ng-invalid='!$ctrl.twitterListName' ng-model='$ctrl.twitterListName' placeholder='Twitter List Name' required='true' type='text'>\n<div class='error-message' ng-if='!$ctrl.twitterListName'>\nTwitter list name is required\n</div>\n</div>\n</div>\n</li>\n</ul>\n</div>\n<div class='break-line'></div>\n<div class='modules'>\n<div class='module-item' ng-cloak ng-if='$ctrl.numModules == 3'>\n<div class='module-header-settings maximum-tooltip'>\n<div class='max-modules'></div>\n<div class='item-text max-module-text'>\nThree modules are selected. Uncheck a module before adding a new module to the homepage.\n</div>\n</div>\n</div>\n<ul class='unpublished-modules'>\n<li class='full-module' ng-repeat='module in $ctrl.inactiveEnrichments'>\n<div class='module-item'>\n<div class='module-header-settings' ng-class='{&#39;disabled-item&#39;: $ctrl.numModules === 3 }' ng-click='$ctrl.toggleInactive($index)' ng-mouseleave='$ctrl.inactiveHoverId = null' ng-mouseover='$ctrl.inactiveHoverId = $index'>\n<input class='checkbox' id='inactive{{module[&quot;type&quot;]}}' ng-click='$ctrl.addToActive($index)' ng-disabled='$ctrl.numModules == 3 || $ctrl.isInvalidForSite(module[&quot;type&quot;])' type='checkbox'>\n<div class='item-text' ng-class='{&#39;disabled-text&#39;: $ctrl.numModules === 3 || $ctrl.isInvalidForSite(module[&#39;type&#39;]) }'>\n{{ $ctrl.moduleDisplayName(module) }}\n</div>\n<div class='remove-enrichment' ng-click='$ctrl.delete(module)' ng-if='module.list_id'></div>\n</div>\n<div class='selected-item-highlight' ng-if='$ctrl.openInactive == $index &amp;&amp; $ctrl.numModules &lt; 3 &amp;&amp; !$ctrl.isInvalidForSite(module[&quot;type&quot;])'></div>\n</div>\n<div class='module-item-contents' ng-if='$ctrl.openInactive == $index &amp;&amp; $ctrl.numModules &lt; 3 &amp;&amp; $ctrl.isValidForSite(module[&quot;type&quot;])'>\n<div class='module-item-settings' ng-cloak ng-if='(module[&#39;type&#39;] != &#39;Twitter&#39;) &amp;&amp; (module[&#39;type&#39;] != &#39;Rank&#39;) &amp;&amp; (module[&#39;type&#39;] != &#39;Roster&#39;)'>\n<div ng-if='!$ctrl.isInvalidForSite(module[&quot;type&quot;])'>\n<div class='item-contents-title'>\nSport\n</div>\n<div class='sport-selection'>\n<div class='option-one'>\n<input class='radio-styling' id='basketball{{module[&quot;type&quot;]}}' ng-model='$ctrl.football[module[&quot;type&quot;]]' ng-value='false' type='radio'>\n<div class='option-text'>\nBasketball\n</div>\n</div>\n<div class='option-two'>\n<input class='radio-styling' id='football{{module[&quot;type&quot;]}}' ng-model='$ctrl.football[module[&quot;type&quot;]]' ng-value='true' type='radio'>\n<div class='option-text'>\nFootball\n</div>\n</div>\n</div>\n</div>\n<div ng-if='$ctrl.isInvalidForSite(module[&quot;type&quot;])'>\n<div class='option-text'>\nModule is invalid on non-college sites.\n</div>\n</div>\n</div>\n<div class='module-item-settings' ng-cloak ng-if='module[&#39;type&#39;] == &#39;Twitter&#39;'>\n<div class='item-contents-title'>\nHandle\n</div>\n<input class='text-input-box' name='twitter_enrichment_handle' ng-model='$ctrl.twitterHandle' placeholder='Twitter Handle' type='text'>\n<div class='item-contents-title'>\nList Name\n</div>\n<input class='text-input-box' name='twitter_enrichment_list_name' ng-model='$ctrl.twitterListName' placeholder='Twitter List Name' type='text'>\n</div>\n</div>\n</li>\n</ul>\n<div class='module-item add-ranking-roster'>\n<a class='module-header-settings' ng-click='$ctrl.openAddCustomEnrichment()'>\n<div class='add-ranking-roster'></div>\n<div class='item-text'>\nAdd a ranking or roster\n</div>\n</a>\n</div>\n</div>\n<div class='submit'>\n<div class='submit-button-block'>\n<div class='submit-button-box'>\n<button class='btn btn-primary-short publish-button' ng-class='{&#39;disabled&#39;: $ctrl.changes == false || !$ctrl.isTwitterEnrichmentValid()}' ng-click='$ctrl.saveEnrichments(true)'>\nPublish\n</button>\n</div>\n<div class='cancel-button-box' ng-cloak>\n<button class='btn btn-primary-short btn-gray' ng-class='{&#39;disabled&#39;: $ctrl.changes == false}' ng-click='$ctrl.doubleCheckChanges()'>\nCancel\n</button>\n</div>\n</div>\n</div>\n</div>\n<div class='add-custom-module-panel' ng-cloak ng-if='$ctrl.addCustomEnrichment == true'>\n<rv-add-custom-enrichment on-add-enrichment='$ctrl.onAddCustomEnrichment($selectedList)'></rv-add-custom-enrichment>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("fakeBraintreeForm.html",'<div>\n  <h1>This is a Fake Braintree Form</h1>\n  <label class="card-label credit-card-number-label" for="credit-card-number">\n    <span class="field-name">Card Number</span>\n\n    <input id="credit-card-number" class="card-field" type="tel" inputmode="numeric" placeholder="Card Number" autocomplete="off"><span class="payment-method-icon"></span>\n    <div class="invalid-bottom-bar"></div>\n  </label>\n\n  <div class="row">\n    <div class="column half">\n      <label class="card-label expiration-label right-border" for="expiration">\n        <span class="field-name">MM / YY</span>\n        <input id="expiration" class="expiration card-field" type="tel" inputmode="numeric" placeholder="Expiration Date" autocomplete="off">\n        <div class="invalid-bottom-bar"></div>\n      </label>\n    </div>\n    <div class="column half">\n      <label class="card-label cvv-label" for="cvv">\n        <span class="field-name">CVV (3 digits)</span>\n        <input id="cvv" class="cvv card-field" maxlength="3" type="tel" inputmode="numeric" placeholder="CVV" autocomplete="off" autocapitalize="off">\n        <span class="payment-method-icon" id="undefined"></span>\n        <div class="invalid-bottom-bar"></div>\n      </label>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="column">\n      <label class="card-label postal-code-label" for="postal-code">\n        <span class="field-name">Postal Code</span>\n        <input id="postal-code" class="postal-code card-field" autocomplete="off" maxlength="8" placeholder="Postal Code" autofill="off" autocapitalize="off">\n        <div class="invalid-bottom-bar"></div>\n      </label>\n    </div>\n  </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("headlineNews.html","<ul class='headline-news-wrapper'>\n<li class='item' ng-class='{opened: $index == $ctrl.openItem}' ng-repeat='article in $ctrl.serializedArticles | limitTo:7'>\n<div class='item-body'>\n<div class='item-col-wrapper'>\n<div class='item-col-2' ng-class='{&#39;itemhover&#39;: $ctrl.hoverId == $index}' ng-click='$ctrl.itemClick($index, $ctrl.currentArticles[$index])' ng-mouseleave='$ctrl.hoverId = null' ng-mouseover='$ctrl.hoverId = $index'>\n<div class='slot-header'>\n<div class='position-line'>\nSlot {{$index + 1}}\n</div>\n<div class='promotion-line' ng-if='$ctrl.serializedArticles[$index].programming[0].includes($ctrl.siteId)'>\n<div class='promotion-line-icon'>\nP\n</div>\n<div class='promotion-line-text' ng-if='!$ctrl.serializedArticles[$index].programming[0][1]'>\nProgrammed\n</div>\n<div class='promotion-line-text' ng-if='$ctrl.serializedArticles[$index].programming[0][1]'>\nProgram expires {{$ctrl.serializedArticles[$index].programming[0][1] | timestampToDate}}\n</div>\n</div>\n</div>\n<div class='article-title'>\n{{ $ctrl.currentArticles[$index].title }}\n</div>\n</div>\n<div class='item-swap-buttons' ng-mouseleave='$ctrl.hoverId = null' ng-mouseover='$ctrl.hoverId = $index'>\n<div class='item-up' ng-class='{&#39;disabled&#39;: $index == 0}' ng-click='$ctrl.swapArticles($index, true)'></div>\n<div class='item-down' ng-class='{&#39;disabled&#39;: $index == 6}' ng-click='$ctrl.swapArticles($index, false)'></div>\n</div>\n</div>\n<div class='item-inner' ng-show='$index == $ctrl.openItem'>\n<div class='instruction-box'>\nProgram the Headline News position with a recently published article or search past articles.\n</div>\n<div class='recent-news'>\n<h2>\nRecently published\n</h2>\n<selection-scroller article='$ctrl.currentArticles[$index]' deselect-item='$ctrl.originalArticle' items='$ctrl.serializedRecentlyPublished' on-select='$ctrl.recentArticleSelected();' selected-item='$ctrl.recentSelected'></selection-scroller>\n</div>\n<div class='headline-news-search-block'>\n<div class='search-bar'>\n<span class='search-box-holder'>\n<input class='search-box' enter-key='$ctrl.loadItems()' name='headline_news_search' ng-model='$ctrl.search.query' placeholder='Search articles' type='text'>\n</span>\n<span class='search-button' ng-if='!$ctrl.showClear'>\n<button class='search-submit-gray attached btn' ng-click='$ctrl.loadItems()' type='button'></button>\n</span>\n<span class='clear-search' ng-click='$ctrl.clearSearch()' ng-if='$ctrl.showClear'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close_blue-4cb03208ca7bb7f3331265f5800bd61aaa046b5bcad2ab390f098b757c1d0e20.svg'>\n</span>\n</div>\n<div class='advanced-search' ng-click='$ctrl.showSearchFilters = !$ctrl.showSearchFilters' ng-cloak ng-if='$ctrl.showAdvancedSearch'>\nAdvanced search\n</div>\n<div class='advanced-search-panel' ng-cloak ng-if='$ctrl.showAdvancedSearch' ng-show='$ctrl.showSearchFilters'>\n<div class='filter-name'>Author Filter</div>\n<input class='filter-box' name='author_filter' placeholder='Author Filter' type='text'>\n<div class='filter-name'>Date Filter</div>\n<input class='filter-box' name='date_filter' placeholder='Date Filter' type='text'>\n<div class='filter-name'>Site Filter</div>\n<input class='filter-box' name='site_filter' placeholder='Site Filter' type='text'>\n<span class='btn btn-primary btn-thin publish-button' ng-click='$ctrl.loadItems()'>\nSearch\n</span>\n<span class='clear-filters'>\nClear Filters\n</span>\n</div>\n<div class='search-results' ng-cloak ng-show='$ctrl.showClear'>\n<div class='no-result-header' ng-cloak ng-show='$ctrl.noResults &amp;&amp; !$ctrl.loading'>\nNo results found\n</div>\n<div class='spinner' ng-show='$ctrl.loading'></div>\n<div class='result-header' ng-show='!$ctrl.noResults &amp;&amp; !$ctrl.loading'>\nSearch results\n</div>\n<selection-scroller article='$ctrl.currentArticles[$index]' deselect-item='$ctrl.originalArticle' items='$ctrl.results' ng-show='!$ctrl.noResults &amp;&amp; !$ctrl.loading' on-select='$ctrl.searchArticleSelected();' selected-item='$ctrl.searchSelected'></selection-scroller>\n</div>\n</div>\n<div class='bumpdown-check-block' ng-click='$ctrl.bumpDown = !$ctrl.bumpDown' ng-if='$index &lt; 6'>\n<input class='bumpdown-check' ng-click='$ctrl.bumpDown = !$ctrl.bumpDown' ng-model='$ctrl.bumpDown' type='checkbox'>\n<div class='bumpdown-text'>\nMove all programmed articles down\n</div>\n</div>\n<div class='programming-expiration-block' ng-if='$ctrl.expirationOn'>\n<h2>Program Expiration</h2>\n<input datepicker-options='$ctrl.datePickerOptions' is-open='$ctrl.datePickerOpen.expirationDate' name='expirationDate' ng-change='$ctrl.changes = true; $ctrl.expirationDateChanged = true' ng-click='$ctrl.openDatePicker($event,&quot;expirationDate&quot;)' ng-model='$ctrl.expirationDate[$index]' placeholder='mm/dd/yyyy' type='text' uib-datepicker-popup='MM/dd/yyyy'>\n</div>\n<div class='submit-button-block'>\n<form class='submit-button-box' ng-submit='$ctrl.updateArticle($ctrl.currentArticles[$index], &quot;program&quot;, $ctrl.expirationDate[$index])'>\n<button class='btn btn-primary-short publish-button' ng-class='{&#39;disabled&#39;: $ctrl.disableSubmit()}'>\nUpdate\n</button>\n</form>\n<div class='cancel-button-box' ng-cloak>\n<button class='btn btn-primary-short btn-gray' ng-class='{&#39;disabled&#39;: $ctrl.changes == false}' ng-click='$ctrl.doubleCheckChanges(&quot;cancel&quot;, nil)'>\nCancel\n</button>\n</div>\n<form class='clear-programming-box' ng-cloak ng-if='$ctrl.serializedArticles[$index].programming[0].includes($ctrl.siteId)' ng-submit='$ctrl.doubleCheckChanges(&quot;clear&quot;, {article: $ctrl.currentArticles[$index], program: &quot;deprogram&quot;})'>\n<button class='btn invisible-btn'>\nClear Programming\n</button>\n</form>\n</div>\n</div>\n</div>\n</li>\n</ul>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("highschoolTypeahead.html","<a>\n<div class='typeahead-name'>\n{{ match.model.display_name }}\n</div>\n<div class='typeahead-details'>\n{{ match.model.city }}\n</div>\n</a>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("homepage_settings/customModuleEdit.html","<div class='instruction-box'>\n<div class='item'>\n<h2>\nModule title\n</h2>\n<input name='title' ng-blur='$ctrl.titleFocusClick(false)' ng-change='$ctrl.titleChanged()' ng-class='{&#39;ng-invalid&#39;: $ctrl.showTitleError($ctrl.module.title)}' ng-focus='$ctrl.titleFocusClick(true)' ng-model='$ctrl.module.title' placeholder='Title' type='text'>\n<div class='error-message' ng-if='$ctrl.showTitleError($ctrl.module.title) &amp;&amp; !$ctrl.isValid($ctrl.module.title)'>\nTitle is required\n</div>\n<div class='error-message' ng-if='$ctrl.showTitleError($ctrl.module.title) &amp;&amp; $ctrl.isValid($ctrl.module.title) &amp;&amp; !$ctrl.isTitleLengthValid($ctrl.module.title)'>\nTitle must be 5-50 characters\n</div>\n<div class='warning-message' ng-if='!$ctrl.showTitleError($ctrl.module.title) &amp;&amp; !$ctrl.isTitleLengthValid($ctrl.module.title)'>\nTitle must be 5-50 characters\n</div>\n</div>\n<div class='item'>\n<h2>\nModule type\n</h2>\n<div class='selection-container'>\n<div class='selection' ng-repeat='kind in $ctrl.kinds'>\n<input id='{{kind.name+$ctrl.module.position}}' ng-change='$ctrl.kindSelected(&quot;{{$ctrl.module.kind.id}}&quot;)' ng-model='$ctrl.module.kind.id' ng-value='kind.id' type='radio'>\n<label for='{{kind.name+$ctrl.module.position}}'>\n{{kind.name}}\n</label>\n</div>\n</div>\n<div class='error-message' ng-if='$ctrl.module.changesNotSaved &amp;&amp; !$ctrl.titleFocus &amp;&amp; !$ctrl.isValid($ctrl.module.kind.id)'>\nType is required\n</div>\n</div>\n<div class='item'>\n<h2>\nContent source\n</h2>\n<span>\nSelect content sources and search to define the custom module.\n</span>\n</div>\n<div class='item'>\n<div class='form-row filter-input-container'>\n<div class='filter-wrapper'>\n<div class='select-container-arrow filter-type-select' ng-class='{&#39;disabled&#39;: $ctrl.disableModuleType()}'><select name='filterType' ng-change='$ctrl.filterSelected()' ng-disabled='$ctrl.disableModuleType()' ng-model='$ctrl.currentFilter'>\n<option ng-selected='true' value=''>All</option>\n<option ng-repeat='(id, val) in $ctrl.moduleFilters' value='{{id}}'>{{id}}</option>\n</select></div><input class='filter-input' ng-disabled='true' ng-if='$ctrl.currentFilterType === &quot;&quot;' type='text'><input class='filter-input' ng-if='$ctrl.isStringType($ctrl.currentFilterType)' ng-model='$ctrl.stringInput' placeholder='{{$ctrl.getPlaceholder()}}' type='text'><button class='btn add-filter-btn' ng-click='$ctrl.addQueryComponent($event);' ng-disabled='$ctrl.disableAddFilterButton();' ng-show='$ctrl.showAddFilterButton()'>\n<div class='add-icon'></div>\n</button><input class='filter-input' ng-if='$ctrl.currentFilterType === &quot;Prospect&quot;' ng-model='$ctrl.currentProspect' placeholder='Enter a prospect' type='text' typeahead-min-length='2' typeahead-on-select='$ctrl.selectProspect($item);' typeahead-template-url='typeaheadTemplate.html' typeahead-wait-ms='400' uib-typeahead='prospect as prospect.full_name for prospect in $ctrl.getProspects($viewValue) | limitTo:10'><input class='filter-input' ng-if='$ctrl.currentFilterType === &quot;Site&quot;' ng-model='$ctrl.currentSite' placeholder='Enter a site name' type='text' typeahead-min-length='2' typeahead-on-select='$ctrl.selectSite($item, $model, $label);' typeahead-template-url='siteTypeahead.html' typeahead-wait-ms='400' uib-typeahead='site as site.name for site in $ctrl.sites | filter:$viewValue | limitTo:10'><rv_publisher_typeahead class='filter-input' ng-if='$ctrl.currentFilterType === &quot;PublisherRight&quot;' ng-model='$ctrl.currentAuthor' on_select='$ctrl.selectPublisher(item);'></rv_publisher_typeahead></div>\n</div>\n<div class='results-filters-wrapper'>\n<div class='form-row'>\n<div class='query-item-section' ng-if='value.length' ng-repeat='(key, value) in $ctrl.module.query'>\n<div class='query-item' ng-repeat='item in value track by $index'>\n<div class='term'>\n<div class='index-name'>\n{{ $ctrl.filterTypes[key] }}\n</div>\n<div class='query-value' ng-if='key != &quot;prospects&quot; &amp;&amp; key != &quot;authors&quot;'>\n<div class='primary-query-item'>{{ key == \"sites\" ? item.name : item }}</div>\n</div>\n<div class='query-value' ng-if='key == &quot;prospects&quot;'>\n<div class='primary-query-item'>{{ item.full_name }}</div>\n{{ item.hometown }}\n</div>\n<div class='query-value' ng-if='key == &quot;authors&quot;'>\n<div class='primary-query-item'>{{ item.publisher_name_and_title }}</div>\n{{ item.site_name }}\n</div>\n</div>\n<button class='remove-button' ng-click='$ctrl.removeItem($index, value)' type='button'>\n</div>\n</div>\n</div>\n<div class='example-results-wrapper'>\n<div class='example-results'>\n<div class='header'>\n<h2>Preview</h2>\nContent in the module will change over time as new content is published.\n</div>\n<div class='results' ng-if='$ctrl.hasResults()'>\n<div class='result' ng-repeat='cmResult in $ctrl.exampleResults'>\n<div class='article-info'>\n<div class='live-date' ng-if='cmResult.live_at'>\n{{ $ctrl.timeAgo(cmResult.live_at) }}\n</div>\n<div class='site'>\n{{ cmResult.site.name }}\n</div>\n</div>\n<div class='title' ng-if='!cmResult.gallery_id'>\n{{ cmResult.title }}\n</div>\n<div class='title' ng-if='cmResult.gallery_id'>\n{{ cmResult.name }}\n</div>\n<div class='summary'>\n{{ cmResult.summary }}\n</div>\n</div>\n</div>\n<div class='empty-preview' ng-if='!$ctrl.hasResults()'>\nPreview is currently empty\n</div>\n</div>\n<div class='spinner' ng-if='!$ctrl.exampleResults'></div>\n</div>\n</div>\n</div>\n</div>\n<button class='btn btn-primary btn-action' ng-class='{&#39;disabled&#39;: $ctrl.module.changesNotSaved &amp;&amp; !$ctrl.isModuleValid()}' ng-click='$ctrl.save()' ng-if='!$ctrl.existingModule' value='save'>Publish</button>\n<button class='btn btn-primary btn-action' ng-class='{&#39;disabled&#39;: $ctrl.module.changesNotSaved &amp;&amp; !$ctrl.isModuleValid()}' ng-click='$ctrl.save()' ng-if='$ctrl.existingModule' value='save'>Update</button>\n<button class='btn btn-primary btn-primary-gray cancel btn-action' ng-class='{&#39;disabled&#39;: !$ctrl.module.changesNotSaved &amp;&amp; $ctrl.module.id}' ng-click='$ctrl.cancel()'>Cancel</button>\n<button class='btn btn-no-outline delete-module' ng-click='$ctrl.delete()' ng-if='$ctrl.module.id'>Delete</button>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("homepage_settings/customModules.html","<div class='custom-module-wrapper'>\n<div class='spinner' ng-if='$ctrl.loading'></div>\n</div>\n<ul class='custom-module-wrapper' ng-if='!$ctrl.loading' ng-model='$ctrl.modules' ui-sortable='$ctrl.sortableOptions'>\n<li class='item custom-module' ng-repeat='cm in $ctrl.modules'>\n<div class='item-body'>\n<div class='item-col-wrapper main' ng-class='{&#39;selected&#39;: $ctrl.moduleSelected(cm)}'>\n<div class='item-col-2 module-title' ng-click='$ctrl.itemClick(cm)'>\n<div ng-class='{&#39;new&#39;: !cm.title}'>\n{{ cm.title ? cm.title : 'New Module' }}\n</div>\n</div>\n<div class='unpublished' ng-show='cm.changesNotSaved &amp;&amp; !$ctrl.moduleSelected(cm)'>\nUnpublished changes\n</div>\n<div class='item-swap-buttons' ng-if='$ctrl.existingModules().length &gt; 1 &amp;&amp; cm.id'>\n<div class='item-up' ng-class='{&#39;disabled&#39;: $index == 0}' ng-click='$ctrl.swapModules(cm, true)'></div>\n<div class='item-down' ng-class='{&#39;disabled&#39;: $index == $ctrl.existingModules().length-1}' ng-click='$ctrl.swapModules(cm, false)'></div>\n</div>\n</div>\n<div class='item-inner' ng-show='$ctrl.moduleSelected(cm)'>\n<custom-module-edit cancel-text='&#39;Do you want to abandon your changes?&#39;' delete-text='&#39;Are you sure you want to delete this module and permanently remove it from the published homepage?&#39;' filters='$ctrl.filters' kinds='$ctrl.kinds' max-title-length='50' min-title-length='5' module='cm'></custom-module-edit>\n</div>\n</div>\n</li>\n<li class='item custom-module' ng-if='$ctrl.modules.length === 0'>\n<div class='item-body'>\n<div class='item-col-wrapper'>\n<div class='item-col-2'>\n<span>There are currently no content modules published to the homepage</span>\n</div>\n</div>\n</div>\n</li>\n<li class='item'>\n<div class='item-body'>\n<div class='item-col-wrapper'>\n<div class='item-col-2'>\n<div class='add' ng-click='$ctrl.addNewModule()'>\n<div class='text'>Add custom module</div>\n</div>\n</div>\n</div>\n</div>\n</li>\n</ul>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("homepage_settings/rvAddCustomEnrichment.html","<div class='custom-enrichment-add'>\n<div class='close-row'>\n<div class='close-wrapper' ng-click='$ctrl.close()'><?xml version=\"1.0\" encoding=\"iso-8859-1\"?>\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewbox=\"0 0 241.171 241.171\" style=\"enable-background:new 0 0 241.171 241.171;\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" class=\"close-btn\">\n<g>\n	<path id=\"Close\" d=\"M138.138,120.754l99.118-98.576c4.752-4.704,4.752-12.319,0-17.011c-4.74-4.704-12.439-4.704-17.179,0\n		l-99.033,98.492L21.095,3.699c-4.74-4.752-12.439-4.752-17.179,0c-4.74,4.764-4.74,12.475,0,17.227l99.876,99.888L3.555,220.497\n		c-4.74,4.704-4.74,12.319,0,17.011c4.74,4.704,12.439,4.704,17.179,0l100.152-99.599l99.551,99.563\n		c4.74,4.752,12.439,4.752,17.179,0c4.74-4.764,4.74-12.475,0-17.227L138.138,120.754z\"></path>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n</div>\n</div>\n<div class='input-description'>\nAdd a URL or search the database for a ranking, roster, or depth chart.\n</div>\n<div class='input-field'>\n<div class='input-label-primary stacked'>URL</div>\n<div class='input-row'>\n<input name='listUrl' ng-model='$ctrl.url' type='text'>\n<button class='btn add-btn' ng-click='$ctrl.selectUrl()' ng-disabled='!$ctrl.validUrl()'>\n<div class='add-icon'></div>\n</button>\n</div>\n</div>\n<div class='divider'>\n<span>or</span>\n</div>\n<div class='input-field'>\n<div class='input-label-primary'>Search Database</div>\n<div class='input-row'>\n<input name='listQuery' ng-model='$ctrl.query' type='text'>\n<button class='btn search-submit-gray' ng-click='$ctrl.searchLists()' ng-disabled='!$ctrl.validQuery()'>\n</div>\n</div>\n<div class='search-results' ng-if='$ctrl.searching || $ctrl.searchResults'>\n<div class='input-label-primary stacked'>Search Results</div>\n<div class='spinner' ng-if='$ctrl.searching'></div>\n<div class='search-results' ng-if='!$ctrl.searching &amp;&amp; $ctrl.searchResults'>\n<ul class='selection-scroller' ng-if='$ctrl.searchResults.length &gt; 0'>\n<li ng-repeat='item in $ctrl.searchResults'>\n<p ng-click='$ctrl.selectList(item)'>{{item.name}}</p>\n</li>\n</ul>\n<div class='no-results-header' ng-if='$ctrl.searchResults.length === 0'>\nNo results found\n</div>\n</div>\n</div>\n</div>");
}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/addProspectForecastModal.html","<div class='forecast-modal'>\n<div class='modal-header'>Add prospect</div>\n<div class='modal-body'>\n<div class='text'>Add a prospect to your forecasts</div>\n<div class='forecast-dropdown'>\n<div class='make-forecast add-prospect'>\n<div class='search-container'>\n<input autocomplete='off' class='search-prospect' name='prospect' ng-model='ctrl.prospect' placeholder='Search for a prospect' type='text' typeahead-min-length='2' typeahead-on-select='ctrl.onProspectSelect($item)' typeahead-template-url='typeaheadTemplate.html' typeahead-wait-ms='400' uib-typeahead='prospect as prospect.full_name for prospect in ctrl.getProspects($viewValue)'>\n<div class='search-icon' ng-if='!ctrl.prospect'></div>\n<div class='clear-icon' ng-click='ctrl.clearProspect()' ng-if='ctrl.prospect'></div>\n<div class='error' ng-cloak ng-if='ctrl.prospect &amp;&amp; ctrl.prospect.committed_college_id'>\n{{ctrl.prospect.first_name}} has already committed and cannot be forecasted.\n</div>\n</div>\n<div class='schools'>\n<div class='school-title-header'>\n<span class='header-text'>Select a school from the prospect\u2019s schools of interest</span>\n<span class='required-text'>Required</span>\n</div>\n<ui-select ng-disabled='ctrl.prospectInvalid() || ctrl.prospect.prospect_colleges.length &lt; 1' ng-model='ctrl.forecastSchool' theme='selectize'>\n<ui-select-match allow-clear='false' placeholder='Select a school of interest'>\n{{ ctrl.forecastSchool.college_short_name }}\n</ui-select-match>\n<ui-select-choices repeat='college in ctrl.prospect.prospect_colleges | filter: $select.search'>\n<div class='option-body'>\n<img class='dropdown-college-logo' src='{{college.college_large_logo}}'>\n<div class='dropdown-college-name'>{{ college.college_short_name }}</div>\n</div>\n</ui-select-choices>\n</ui-select>\n<div class='error' ng-if='ctrl.prospect &amp;&amp; ctrl.prospect.prospect_colleges.length &lt; 1'>\nNo schools of interest for this prospect\n</div>\n</div>\n<div class='reason'>\n<div class='header-text'>Reason for forecast</div>\n<textarea class='text-box' maxlength='200' ng-disabled='ctrl.prospectInvalid()' ng-model='ctrl.forecastReason' type='text'></textarea>\n<div class='remaining'>\n{{ \"200\" - ctrl.forecastReason.length }} characters remaining\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='modal-footer'>\n<div class='btn cancel' ng-click='ctrl.cancel()'>Cancel</div>\n<div class='btn' ng-click='ctrl.save()' ng-disabled='ctrl.forecastInvalid()'>\nSave Forecast\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/adjustComp.html","<div class='modal-header'>\n<h3 class='modal-title'>Adjust Comp Expiration</h3>\n</div>\n<form name='extendForm'>\n<div class='modal-body' style='min-height: 320px;'>\n<div class='alert' ng-if='ctrl.errorMessage'>{{ctrl.errorMessage}}</div>\n<div class='admin-modal-subscription-card row'>\n<div class='site col-sm-24'>\n{{ctrl.subscription.site.name}}\n</div>\n<div class='subscription-details col-sm-8'>\n<div class='subscription-period'>\n{{ctrl.subscription.subscription_period}}\n</div>\n</div>\n<div class='subscription-dates col-sm-16'>\n<div class='subscription-billing-date row'>\n<div class='subscription-date-label col-sm-8'>\nCurrently expires on:\n</div>\n<div class='subscription-date-value col-sm-8'>\n{{ctrl.subscription.active_through_date | date:'M/d/yyyy' }}\n</div>\n</div>\n</div>\n</div>\n<div class='extension-details row'>\n<div class='renewal-date details-group'>\n<div class='col-sm-4'>\n<label for='comped-until'>\nChange to:\n</label>\n</div>\n<div class='col-sm-20'>\n<input datepicker-options='ctrl.datePickerOptions' id='compedUntil' is-open='ctrl.datePickerOpen.compedUntil' ng-click='ctrl.openDatePicker($event,&quot;compedUntil&quot;)' ng-model='ctrl.compedUntil' required show-button-bar='false' type='text' uib-datepicker-popup='MM/dd/yy'>\n</div>\n</div>\n</div>\n</div>\n<div class='modal-footer'>\n<a class='btn cancel' ng-click='ctrl.dismiss()'>Cancel</a>\n<button class='btn btn-primary adjust-subscription' ng-click='ctrl.extendComp()' ng-disabled='ctrl.extendForm.$invalid || ctrl.submitting'>\nChange\n</button>\n</div>\n</form>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/cancelSubscription.html","<div class='modal-header'>\n<h3 class='modal-title'>Cancel Subscription</h3>\n</div>\n<form name='cancelForm'>\n<div class='modal-body'>\n<div class='alert' ng-if='errorMessage'>\n{{errorMessage}}\n</div>\n<div class='admin-modal-subscription-card row'>\n<div class='site col-sm-24'>\n{{subscription.site.name}}\n</div>\n<div class='subscription-details col-sm-8'>\n<div class='subscription-period'>\n{{subscription.subscription_period}}\n</div>\n</div>\n<div class='subscription-dates col-sm-16'>\n<div class='subscription-billing-date row'>\n<div class='subscription-date-label col-sm-8'>\nRenews on:\n</div>\n<div class='subscription-date-value col-sm-8'>\n{{subscription.next_billing_date | date:'M/d/yyyy'}}\n</div>\n</div>\n</div>\n</div>\n<div class='cancellation-details row'>\n<div class='details-group col-sm-24'>\n<select class='cancellation-reason form-control form-group' name='cancellation_reason' ng-model='cancellationReason' required>\n<option value=''>\nCancellation Reason\n</option>\n<option value='dont_use'>\nDon't use\n</option>\n<option value='dissatisfied'>\nDissatisfied with content\n</option>\n<option value='blacklisted'>\nBlacklisted\n</option>\n<option value='double_subscription'>\nDouble subscription\n</option>\n<option value='dont_want_to_pay'>\nDon't want to pay for it\n</option>\n<option value='free_trial'>\nFree trial\n</option>\n<option value='fraudulent_claim'>\nFraudulent claim\n</option>\n<option value='deceased'>\nDeceased\n</option>\n<option value='other'>\nOther\n</option>\n</select>\n<select class='refund-amount form-control form-group' name='refund_type' ng-init='refundType=subscription.default_refund_type' ng-model='refundType' required>\n<option ng-if='subscription.actions.already_billed || subscription.actions.in_migration_before_first_bill' value='cancel_now_no_refund'>\nNo Refund (Subscription ends immediately)\n</option>\n<option ng-if='!subscription.lapsed &amp;&amp; (subscription.actions.already_billed || subscription.actions.in_migration_before_first_bill)' value='cancel_next_no_refund'>\nNo Refund (Subscription ends {{ subscription.next_billing_date | date: 'M/d/yy' }})\n</option>\n<option ng-if='subscription.actions.refundable &amp;&amp; subscription.actions.already_billed' value='cancel_now_prorated_refund'>\nProrated Refund {{subscription.prorated_refund_amount}} (Subscription ends immediately)\n</option>\n<option ng-if='subscription.actions.refundable &amp;&amp; !subscription.actions.in_migration_before_first_bill' value='cancel_now_full_refund'>\nFull Refund {{subscription.full_refund_amount}} (Subscription ends immediately)\n</option>\n</select>\n<textarea class='note form-control' name='note' ng-model='note' placeholder='Add a Note' rows='3' type='text'></textarea>\n</div>\n</div>\n</div>\n<div class='modal-footer'>\n<a class='cancel btn btn-no-outline' ng-click='$dismiss()'>Cancel</a>\n<button class='btn btn-primary end-subscription' ng-click='cancelSubscription()' ng-disabled='cancelForm.$invalid || submitting'>\nEnd Subscription\n</button>\n</div>\n</form>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/changeSiteSubscription.html",'<div class="modal-header">\n  <h3 class="modal-title">Change site</h3>\n</div>\n<form name="changeSiteForm">\n  <div class="modal-body">\n    <div class="alert" ng-if="errorMessage">{{errorMessage}}</div>\n    <div class="select-container input-block" >\n        <select id="change-site-selection" class="form-control" name="siteSelect" ng-model="newSite" ng-options="site.friendly_name for site in sites" required>\n          <option value>Select site</option>\n        </select>\n    </div>\n    <div class="change-site-message">Please choose a new site.</div>\n  </div>\n  <div class="modal-footer">\n    <a class="cancel btn btn-no-outline" ng-click="$dismiss()">Cancel</a>\n    <button class="btn btn-primary change-subscription" ng-click="changeSubscription()" ng-disabled="changeSiteForm.$invalid || submitting">\n      Change\n    </button>\n  </div>\n</form>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/collegeModal.html","<form action='{{ctrl.actionUrl}}' class='bootstrap-form form-inline' method='post'>\n<input name='_method' ng-if='!ctrl.isNew' type='hidden' value='put'>\n<div class='college-modal edit-modal'>\n<div class='modal-header-blue'>\n<div class='modal-title' ng-if='ctrl.isNew'>\nAdd a college\n</div>\n<div class='modal-title' ng-if='!ctrl.isNew'>\nEdit a college\n</div>\n<div class='modal-dismiss' ng-click='$dismiss()'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n</div>\n<div class='modal-body'>\n<input name='authenticity_token' type='hidden' value='{{ctrl.csrfToken}}'>\n<div class='input-label-primary stacked'>Official Name</div>\n<input id='full_name' name='college[full_name]' ng-model='ctrl.college.full_name' placeholder='ex. University of California-Santa Cruz' required type='text' value='{{ctrl.college.full_name}}'>\n<div class='input-label-primary stacked'>Common Name</div>\n<input id='common_name' name='college[common_name]' ng-model='ctrl.college.common_name' placeholder='ex. California-Santa Cruz' required type='text' value='{{ctrl.college.common_name}}'>\n<div class='input-label-primary stacked'>Short Name</div>\n<input id='short_name' name='college[short_name]' ng-model='ctrl.college.short_name' placeholder='ex. Santa Cruz' required type='text' value='{{ctrl.college.short_name}}'>\n<div class='input-label-primary stacked'>Abbreviation</div>\n<input id='display_abbr' name='college[display_abbr]' ng-model='ctrl.college.display_abbr' placeholder='ex. UCSC' required type='text' value='{{ctrl.college.display_abbr}}'>\n<div class='input-label-primary stacked'>City</div>\n<input id='city' name='college[city]' ng-model='ctrl.college.city' placeholder='Enter a city' type='text' value='{{ctrl.college.city}}'>\n<div class='input-label-primary stacked'>Interest Eligible</div>\n<input hidden id='interest_eligible' name='college[interest_eligible]' ng-model='ctrl.college.interest_eligible' value='{{ctrl.college.interest_eligible}}'>\n<div class='toggle-box'>\n<div class='toggle-background' ng-class='{&#39;switch-on&#39;: ctrl.college.interest_eligible}' ng-click='ctrl.college.interest_eligible = !ctrl.college.interest_eligible'>\n<img class='toggle-switch' id='interest_eligible' ng-cloak ng-if='!ctrl.college.interest_eligible' src='https://cdn.rivals.com/production/assets/icons/icons_large_toggle_off-87c27eed7b8fa150f882e89e32089c7655c6d0830c2c9e10b04310bcf1425b49.svg'>\n<img class='toggle-switch' id='interest_eligible' ng-cloak ng-if='ctrl.college.interest_eligible' src='https://cdn.rivals.com/production/assets/icons/icons_large_toggle_on-0b0c85344020a6889a1cacee881a129178cd837291d4e2d41a77c72a047a5aed.svg'>\n</div>\n</div>\n<div class='input-label-primary stacked'>State</div>\n<div class='select-container-arrow state'>\n<select change='ctrl.selectState()' id='state' name='college[state_id]' ng-model='ctrl.college.state' ng-options='state as state.name for state in ctrl.states track by state.id' required value='{{ctrl.college.state_id}}'></select>\n<option disabled selected value=''></option>\n</div>\n<div class='input-label-primary stacked'>Site</div>\n<div class='select-container-arrow'>\n<select id='site' name='college[site_id]' ng-model='ctrl.college.site' ng-options='site as site.short_name for site in ctrl.sites track by site.id' value='{{ctrl.college.site_id}}'>\n<option disabled selected value=''></option>\n</select>\n</div>\n<div class='input-label-primary stacked'>Small college logo (CDN URL)</div>\n<input class='logo' id='small_ncaaf_team_logo' name='college[small_ncaaf_team_logo]' ng-model='ctrl.college.small_ncaaf_team_logo' placeholder='Enter a small logo' type='text' value='{{ctrl.college.small_ncaaf_team_logo}}'>\n<br>\n<img ng-show='ctrl.college.small_ncaaf_team_logo' ng-src='{{ctrl.college.small_ncaaf_team_logo}}'>\n<div class='input-label-primary stacked'>Big college logo (CDN URL)</div>\n<input class='logo' id='large_team_logo' name='college[large_team_logo]' ng-model='ctrl.college.large_team_logo' placeholder='Enter a big logo' type='text' value='{{ctrl.college.large_team_logo}}'>\n<br>\n<img ng-show='ctrl.college.large_team_logo' ng-src='{{ctrl.college.large_team_logo}}'>\n</div>\n<div class='modal-footer modal-footer-white'>\n<button class='btn btn-primary' ng-mobile-click='ctrl.submit()'>Submit</button>\n</div>\n</div>\n</form>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/compAllSites.html","<div class='modal-header'>\n<h3 class='modal-title'>\nComp sites & remove subscriptions\n</h3>\n</div>\n<div class='modal-body'>\n<div class='alert' ng-if='errorMessage'>{{errorMessage}}</div>\nComping all sites will remove all existing subscriptions. Unchecking \"Comp All Sites\" will not reinstate previous subscriptions.\n<div class='comp-date-wrapper'>\nSetting comp date to {{compedUntil | date:'M/d/yy'}}\n</div>\n</div>\n<div class='modal-footer'>\n<a class='cancel btn btn-no-outline' ng-click='$dismiss()' ng-disabled='submitting'>\nCancel\n</a>\n<button class='btn btn-primary em-alt' ng-click='compAllSites()' ng-disabled='submitting'>\nComp all sites\n</button>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/confirmationModal.html","<div class='text'>\n{{ctrl.confirmationText}}\n</div>\n<div class='buttons'>\n<button class='btn btn-primary btn-action confirm' ng-click='ctrl.save()'>Yes</button>\n<button class='btn btn-primary btn-primary-gray cancel btn-action' ng-click='ctrl.cancel()'>No</button>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/deleteGalleryModal.html","<form action='{{actionUrl}}' method='post' name='form' url='{{actionUrl}}'>\n<input name='authenticity_token' type='hidden' value='{{csrfToken}}'>\n<input name='_method' type='hidden' value='delete'>\n<div class='delete-gallery-modal'>\n<div class='header'>\n<div class='title'>\n<span>Delete Gallery</span>\n<img class='close-modal-icon' ng-click='$dismiss()' src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n</div>\n<div class='body'>\n<div class='info-wrapper'>\n<p class='info'>You are deleting a gallery.</p>\n<p class='info'>The photos will not be deleted from the database.</p>\n</div>\n</div>\n<div class='footer'>\n<label class='button dismiss' ng-click='$dismiss()'>\n<span>Cancel</span>\n</label>\n<label class='button confirm'>\n<input class='submit-input' type='submit'>\n<span>Delete</span>\n</label>\n</div>\n</div>\n</form>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/downgradeSubscription.html","<div class='modal-header'>\n<h3 class='modal-title'>\nDowngrade subscription to monthly\n</h3>\n</div>\n<form name='downgradeForm'>\n<div class='modal-body'>\n<div class='alert' ng-if='errorMessage'>{{errorMessage}}</div>\n<div class='downgrade-details'>\n<order-summary address='userAddress' change='&#39;END&#39;' refund='&#39;true&#39;' selected-plan='selectedPlan' site-id='siteId' subscription='subscription'></order-summary>\n<order-summary address='userAddress' change='&#39;START&#39;' selected-plan='selectedPlan' site-id='siteId'></order-summary>\n<div class='details-group'>\n<textarea class='note form-control mtxl' name='note' ng-model='note' placeholder='Note' type='text'>}</textarea>\n</div>\n</div>\n</div>\n<div class='modal-footer'>\n<a class='cancel btn btn-no-outline' ng-click='$dismiss()'>\nCancel\n</a>\n<button class='btn btn-primary downgrade-subscription' ng-click='downgradeSubscription()' ng-disabled='downgradeForm.$invalid || submitting'>\nDowngrade\n</button>\n</div>\n</form>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/editBillingInfoModal.html","<div class='edit-billing-modal'>\n<div class='modal-header' id='modal-header'>Edit Billing Info</div>\n<rv-header-alert class='alert-modal'></rv-header-alert>\n<div class='modal-body'>\n<div class='obi-form-container' ng-if='!paymentMethod || editPaymentMethod'>\n<iframe class='obi-iframe' src='/sign_up_obi_iframe'></iframe>\n<div class='update-billing-terms'>\n<div class='terms'>\nThank you for adding a new payment method. By clicking the Update Payment Method button below, you authorize Oath Inc. to bill your new payment method for your designated subscription(s) plus any taxes, fees, or prorated amounts, until you cancel your subscription(s). You also agree that by updating the payment method may result in Oath Inc. collecting an outstanding balance for the service(s) connected to this card or checking account.\n</div>\n</div>\n<div class='debit-card-terms' ng-if='ctrl.usingDebitCard'>\n<div class='terms'>\nBy checking \"I Agree,\" I am confirming my choice of payment method.  <strong>I am also providing my signature to authorize Oath Inc. to automatically deduct from my debit card the non-refundable rate stated above, subject to change, plus any applicable taxes, on an automatic renewal basis until I revoke this consent or cancel my subscription(s). Subscription fees are charged at the beginning of each subscription period. I also acknowledge that to avoid being charged at the rate above, I must cancel my subscription before any applicable free trial period ends.</strong> Oath Inc. will provide electronic notice in advance if there is a change in the amount that will be deducted from my debit card. I will receive all billing and account notices online or by email. I will print and save this page and any further notices for my records. To revoke my authorization for automatic debit, make changes to my account, or for questions about my subscription(s), I acknowledge that I must contact Rivals <a href='https://io.help.yahoo.com/contact/index?page=home&locale=en_US&y=PROD_SPORTS_RIVAL#' target=_blank>chat</a>. If my  subscription is cancelled or terminated, I hereby authorize Oath Inc. to deduct from my bank account all fees I incur through the date of cancellation or termination.\n</div>\n<label>\n<input ng-model='ctrl.debitCardAgreement' type='checkbox'>\nI Agree\n</label>\n</div>\n<div id='vermont_annual_opt_in' ng-if='ctrl.editBillingView() &amp;&amp; ctrl.annualCustomer() &amp;&amp; ctrl.vermontCustomer'>\n<label class='form-group vermont_annual_opt_in'>\n<input ng-model='ctrl.vermontOptedIn' type='checkbox'>\nI understand and agree that my subscription will be automatically renewed on an annual basis at the then-current subscription rate.\n</input>\n</label>\n</div>\n<div class='spinner' ng-if='ctrl.isLoading'></div>\n</div>\n</div>\n<div class='modal-footer'>\n<button class='btn btn-primary' id='modal-submit-button' ng-click='ctrl.submit()' ng-disabled='!ctrl.isValid() || ctrl.isLoading'>\nUpdate Payment Method\n</button>\n<a class='cancel btn btn-no-outline' ng-click='ctrl.cancel()' ng-disabled='ctrl.isLoading'>\nCancel\n</a>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/editGalleryModal.html","<form action='{{actionUrl}}' class='edit-modal edit-gallery-modal bootstrap-form form-inline' method='post' name='form' ng-submit='handleSubmit($event)'>\n<input name='authenticity_token' type='hidden' value='{{csrfToken}}'>\n<input name='_method' ng-if='!isNew' type='hidden' value='put'>\n<div class='modal-header title'>\n<h3 class='modal-title'>\nGallery\n</h3>\n<span class='mobile-close-icon' ng-click='$dismiss()'></span>\n</div>\n<div class='modal-body row'>\n<div class='rank-info col-xs-24'>\n<div class='rows'>\n<input name='gallery[id]' ng-if='!isNew' ng-model='gallery.id' type='hidden' value='{{gallery.id}}'>\n<div class='row' ng-hide='!isSuperAdmin &amp;&amp; sites.length &lt; 2'>\n<label class='em-alt' for='gallery[last_modifying_site_id]'>Site</label>\n</div>\n<div class='row'>\n<select class='form-control margin-bottom sites' name='gallery[last_modifying_site_id]' ng-model='selectedSite' ng-options='site as site.friendly_name for site in sites track by site.id' required>\n<option disabled selected='false' value=''>Site</option>\n</select>\n</div>\n<div class='row'>\n<label class='em-alt' for='gallery[name]'>Gallery</label>\n</div>\n<div class='row'>\n<input class='form-control margin-bottom states' name='gallery[name]' ng-model='gallery.name' placeholder='New Gallery' required type='text' value='{{gallery.name}}'>\n<span class='error-reason reduced' ng-show='form[&#39;gallery[name]&#39;].$touched &amp;&amp; form[&#39;gallery[name]&#39;].$error.required'>\nName is required\n</span>\n</div>\n<div class='row'>\n<label class='em-alt' for='gallery[summary]'>Gallery Summary</label>\n</div>\n<div class='row'>\n<textarea class='form-control margin-bottom states' id='gallery-desc' maxlength='120' name='gallery[summary]' ng-model='gallery.summary' placeholder='Gallery summary' type='text' value='{{gallery.summary}}'></textarea>\n<span class='input-hint'>\n120 max. characters\n</span>\n</div>\n<div class='row'>\n<label class='em-alt' for='gallery[description]'>Gallery Search Keywords</label>\n</div>\n<div class='row'>\n<span>Describe the gallery to help others find galleries and photos in the database. This description is not seen by readers.</span>\n<textarea class='form-control states margin-bottom' id='gallery-smry' maxlength='120' name='gallery[description]' ng-model='gallery.description' placeholder='Add keywords to describe the gallery' type='text' value='{{gallery.description}}'></textarea>\n<span class='input-hint'>\n120 max. characters\n</span>\n</div>\n<div class='row'>\n<label class='form-check-label col-sm-8 col-xs-24'>\n<input class='form-check-input' name='gallery[premium]' ng-model='gallery.premium' type='checkbox' value='{{gallery.premium}}'>\nPremium gallery\n</label>\n<input name='gallery[last_modifying_site_id]' ng-if='!isSuperAdmin &amp;&amp; sites.length === 1' ng-model='gallery.last_modifying_site_id' type='hidden' value='{{sites[0].id}}'>\n</div>\n</div>\n</div>\n</div>\n<hr>\n<div class='modal-footer'>\n<a class='cancel btn' ng-click='$dismiss()'>Cancel</a>\n<input class='btn btn-primary' ng-disabled='form.$invalid' type='submit' value='Save'>\n</div>\n</form>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/editImageModal.html","<div class='edit-image-modal'>\n<div class='modal-header modal-header-blue'>\n<div class='modal-title' ng-if='!existingImage'>\nUpload to Database\n</div>\n<div class='modal-title' ng-if='existingImage'>\nEdit photo\n</div>\n<div class='modal-dismiss' ng-click='dismiss()'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n</div>\n<div class='edit-container'>\n<div class='image-load-container' ng-if='existingImage'>\n<div class='image-thumbnails'>\n<div class='image'>\n<img alt='' ng-src='{{existingImage.thumbnail_url}}'>\n</div>\n</div>\n</div>\n<div class='image-load-container' ng-if='filesUpload'>\n<span class='upload-area'>\n<div class='dropbox' id='dropbox' ngf-accept='filenamePattern' ngf-change='startUpload($files, $invalidFiles)' ngf-drag-over-class='&#39;dragover&#39;' ngf-drop ngf-max-size='fileSizeLimit' ngf-multiple='!singleUpload' ngf-pattern='filenamePattern' ngf-select style='max-width: 120x;'>\n<p>\nDrop images here or click to upload\n</p>\n</div>\n</span>\n<span class='uploading-count uploading' ng-show='loading()'>{{filesCountString()}} uploading</span>\n<span class='uploading-count' ng-show='!showLoadingProgress &amp;&amp; uploadedFilesCount()'>{{filesCountString()}} uploaded</span>\n<rv-progress-bar loading='loading() &amp;&amp; (progress &gt; 0)' max='100' value='progress'></rv-progress-bar>\n<div class='upload-error-display' ng-if='invalidFileErrorCodes().length'>\n<div class='upload-error-code' ng-repeat='code in invalidFileErrorCodes()'>\n{{invalidFileErrorMessageForCode(code)}}\n<ul>\n<li ng-repeat='invalidFile in invalidFilesByErrorCode[code]'>\n{{truncateFilename(invalidFile)}}\n</li>\n</ul>\n</div>\n</div>\n<div class='image-thumbnails' ng-show='bulkImages.length'>\n<div class='image' ng-repeat='image in bulkImages'>\n<img src='{{image.thumbnailUrl}}'>\n<div class='remove-icon' ng-click='remove(image)' ng-if='filesCountString()'></div>\n</div>\n</div>\n</div>\n<div class='image-edit'>\n<div class='input-label-primary stacked' ng-if='!filesUpload &amp;&amp; !existingImage'>PHOTO URL</div>\n<div class='input' ng-if='!filesUpload &amp;&amp; !existingImage'>\n<ng-form class='bootstrap-form' name='this.forms.imageForm'>\n<input class='enable-invalid-highlight' ng-change='clearNotFoundResourceError()' ng-class='{ &#39;ng-invalid-required&#39;: showError(this.forms.imageForm) }' ng-model='input.imageUrl' ng-pattern='urlRegex' placeholder='Copy and paste photo URL' type='text'>\n</ng-form>\n<span class='error-reason reduced' ng-show='showError(this.forms.imageForm)'>\nUrl is invalid\n</span>\n</div>\n<div class='modal-big-description' ng-if='filesUpload '>Tags, photo credit, and search keywords are added to all photos in this upload. This information is stored as metadata in the database.</div>\n<div class='modal-big-description' ng-if='existingImage'>Tags, photo credit, and search keywords are saved to the photo stored in the database and are associated with all instances of the photo.</div>\n<div class='input-label-primary stacked' ng-if='filesUpload'>TAG PHOTOS</div>\n<div class='input-label-primary stacked' ng-disabled='hasInvalidFiles()' ng-if='!filesUpload || existingImage'>TAG PHOTO</div>\n<div class='prospects-multiple-select-container' ng-hide='hideProspects'>\n<ng-form class='bootstrap-form'>\n<ui-select multiple ng-disabled='hasInvalidFiles()' ng-model='imageTags.selectedProspects'>\n<ui-select-match allow-clear='true' placeholder='Enter prospect names'>\n<span>\n{{$item.full_name}}\n</span>\n<div class='clear-tag'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close_blue-4cb03208ca7bb7f3331265f5800bd61aaa046b5bcad2ab390f098b757c1d0e20.svg'>\n</div>\n</ui-select-match>\n<ui-select-choices refresh-delay='400' refresh='getMembers($select.search)' repeat='member in matchingMembers'>\n<div>\n<span class='typeahead-name'>\n{{member.full_name}}\n</span>\n<span class='stars' ng-if='member.stars'>\n<rv-stars num-stars='member.stars'></rv-stars>\n</span>\n<span class='rivals-rating typeahead-details' ng-if='member.rivals_rating'>\nRR: {{member.rivals_rating}}\n</span>\n</div>\n<div class='typeahead-details'>\n<span>\n{{member.year}}\n</span>\n<span>\n{{member.position.abbreviation}}\n</span>\n<span>\n{{member.hometown}}\n</span>\n</div>\n</ui-select-choices>\n</ui-select>\n</ng-form>\n</div>\n<div class='input-label-primary stacked'>PHOTO CREDIT</div>\n<input class='credit' ng-disabled='hasInvalidFiles()' ng-model='imageCredit' placeholder='Enter a name' type='text'>\n<div class='input-label-primary stacked'>PHOTO SEARCH KEYWORDS</div>\n<div class='input-description'>Describe the photos to help others find them in the database. This description is not seen by readers.</div>\n<textarea class='description' ng-class='{ &#39;loading&#39;: loading() }' ng-disabled='hasInvalidFiles()' ng-model='imageDescription' placeholder='{{textPlaceholder}}' type='text'></textarea>\n<div class='images-upload-note' ng-if='filesUpload'>\nNOTE: User-facing photo descriptions are added after photos are added to gallery.\n</div>\n</div>\n</div>\n<div class='modal-footer modal-footer-white'>\n<a class='cancel btn btn-no-outline' ng-click='dismiss()'>Cancel</a>\n<button class='btn btn-primary btn-action' ng-click='submit()' ng-disabled='!bulkImages.length || isFormInvalid() || loading()' ng-if='filesUpload'>Save and Upload</button>\n<button class='btn btn-primary btn-action' ng-click='submit()' ng-disabled='isFormInvalid() || loading()' ng-if='!filesUpload'>Save</button>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/editListModal.html","<form action='{{actionUrl}}' class='edit-modal edit-list-modal bootstrap-form form-inline' method='post' name='form' ng-submit='handleSubmit($event)'>\n<input name='authenticity_token' type='hidden' value='{{csrfToken}}'>\n<div class='modal-header title'>\n<h3 class='modal-title'>\n{{typeSelected.label}}\n</h3>\n<span class='mobile-close-icon' ng-click='$dismiss()'></span>\n</div>\n<div class='modal-body row'>\n<div class='rank-info col-xs-24'>\n<div class='row' ng-if='isNewList'>\n<input ng-model='typeSelected' type='hidden'>\n</div>\n<div class='rows'>\n<div class='row'>\n<div class='col-sm-8 col-xs-24 form-group' ng-class='{&#39;has-error&#39;: !form[&#39;list[kind]&#39;].$valid &amp;&amp; form[&#39;list[kind]&#39;].$touched}' ng-if='isSuperAdmin &amp;&amp; showRanking'>\n<select class='form-control states' name='list[kind]' ng-change='changeRankKind()' ng-model='list.kind' ng-options='kind for kind in kinds track by kind' required>\n<option selected value=''>List types (required)</option>\n</select>\n<span class='error-reason reduced' ng-show='form[&#39;list[kind]&#39;].$touched &amp;&amp; form[&#39;list[kind]&#39;].$error.required'>\nList type is required\n</span>\n</div>\n<div class='col-sm-8 col-xs-24 form-group' ng-class='{&#39;has-error&#39;: !form[&#39;list[year]&#39;].$valid &amp;&amp; form[&#39;list[year]&#39;].$touched}'>\n<select class='form-control states' name='list[year]' ng-model='list.year' ng-options='year for year in years track by year' required value='{{year}}'>\n<option selected value=''>Year</option>\n</select>\n</div>\n<div class='col-sm-8 col-xs-24 form-group select-container' ng-if='isSuperAdmin || sites.length &gt;= 2'>\n<select class='form-control sites' name='list[site_id]' ng-disabled='showRanking &amp;&amp; officialRank' ng-model='list.site' ng-options='site as site.friendly_name for site in sites track by site.id' ng-required='!officialRank'>\n<option disabled selected value=''>Site</option>\n</select>\n<span class='error-reason reduced' ng-show='form[&#39;list[site_id]&#39;].$touched &amp;&amp; form[&#39;list[site_id]&#39;].$error.required'>\nSite is required\n</span>\n</div>\n<input name='list[site_id]' ng-if='!isSuperAdmin &amp;&amp; sites.length &lt; 2' ng-model='list.site' ng-value='sites[0].id' type='hidden'>\n</div>\n<div class='row' ng-if='isSuperAdmin &amp;&amp; showRanking'>\n<div class='col-sm-16 col-xs-24 form-group' ng-class='{&#39;has-error&#39;: !form[&#39;list[sport]&#39;].$valid &amp;&amp; form[&#39;list[sport]&#39;].$touched}'>\n<rv-position-picker disable-position='list.kind == &#39;prep&#39; || list.kind == &#39;juco&#39; || list.kind == &#39;state&#39;' disable='list.kind != &#39;prep&#39; &amp;&amp; list.kind != &#39;juco&#39; &amp;&amp; list.kind != &#39;position&#39; &amp;&amp; list.kind != &#39;state&#39;' position-is-required='list.kind == &#39;position&#39;' position='list.position' positions='positions' selected-sport='list.sport' sport-is-required='list.kind == &#39;prep&#39; || list.kind == &#39;juco&#39; || list.kind == &#39;position&#39; || list.kind == &#39;state&#39;' sports='sports' type='&#39;list&#39;'></rv-position-picker>\n</div>\n<div class='col-sm-8 col-xs-24 form-group' ng-class='{&#39;has-error&#39;: !form[&#39;list[state]&#39;].$valid &amp;&amp; form[&#39;list[state]&#39;].$touched}'>\n<select class='form-control states' name='list[state_id]' ng-disabled='list.kind != &#39;state&#39;' ng-model='list.state' ng-options='state as state.name for state in states track by state.id' ng-required='list.kind == &#39;state&#39;'>\n<option disabled selected value=''>State</option>\n</select>\n</div>\n</div>\n</div>\n<div class='row'>\n<div class='col-sm-24 col-xs-24 form-group' ng-class='{&#39;has-error&#39;: !form[&#39;list[name]&#39;].$valid &amp;&amp; form[&#39;list[name]&#39;].$touched}'>\n<input class='form-control' name='list[name]' ng-model='list.name' placeholder='Name (required)' required type='text'>\n<span class='error-reason reduced' ng-show='form[&#39;list[name]&#39;].$touched &amp;&amp; form[&#39;list[name]&#39;].$error.required'>\nName is required\n</span>\n</div>\n</div>\n</div>\n</div>\n<hr>\n<div class='modal-footer'>\n<span class='note' ng-show='!isNewList'>\n<span>Note:</span>\n<small>Changes will NOT be saved until you save on the edit page.</small>\n</span>\n<a class='cancel btn btn-no-outline' ng-click='$dismiss()'>Close</a>\n<a class='btn btn-primary' ng-click='updateList()' ng-disabled='form.$invalid' ng-show='!isNewList'>Submit</a>\n<input class='btn btn-primary' ng-click='submitList()' ng-disabled='form.$invalid' ng-show='isNewList' type='submit' value='Add'>\n</div>\n</form>");
}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/editProspectModal.html","<form action='{{actionUrl}}' class='edit-modal edit-prospect-modal bootstrap-form form-inline' method='post' name='form' ng-submit='handleSubmit($event)'>\n<input name='authenticity_token' type='hidden' value='{{csrfToken}}'>\n<input name='_method' ng-if='type === null &amp;&amp; (!isNewProspect || college_player)' type='hidden' value='put'>\n<div class='modal-header title'>\n<h3 class='modal-title' ng-if='!isNewProspect &amp;&amp; selectedTab === &quot;prospect&quot; &amp;&amp; !type'>Edit Prospect</h3>\n<h3 class='modal-title' ng-if='(isNewProspect &amp;&amp; !college_player) || type'>Add a profile card</h3>\n<h3 class='modal-title' ng-if='college_player &amp;&amp; selectedTab === &quot;college&quot; &amp;&amp; !type'>Edit College Player</h3>\n<span class='mobile-close-icon' ng-click='$dismiss()'></span>\n</div>\n<div class='modal-content'>\n<div class='modal-header links'>\n<div class='tab prospect-link' ng-click='prospectTabClicked();' ng-if='isNewProspect || (!college_player) || (saveData &amp;&amp; type === &quot;prospect&quot;)'>\n<a ng-class='{selected: selectedTab === &quot;prospect&quot;}'>Prospect profile</a>\n</div>\n<div class='tab college-link' ng-click='collegeTabClicked();' ng-if='isNewProspect || college_player || (saveData &amp;&amp; type === &quot;college&quot;)'>\n<a ng-class='{selected: selectedTab === &quot;college&quot;}'>College profile</a>\n</div>\n</div>\n<div class='modal-body row' ng-if='selectedTab === &quot;prospect&quot;'>\n<div class='prospect-photo col-xs-24' ng-controller='adminProspectProfileImageController' ng-init='cloudinaryPublicId = cloudinaryPublicId'>\n<div class='form-group'>\n<input name='prospect[note_attributes][id]' ng-if='!isNewProspect' ng-model='gallery.id' type='hidden' value='{{note.id}}'>\n<input name='prospect[people_attributes][0][id]' ng-if='!isNewProspect' ng-model='gallery.id' type='hidden' value='{{prospect.person.id}}'>\n<input id='edit_modal_cloudinary_public_id' name='cloudinary_public_id' ng-model='cloudinary_public_id' type='hidden' value='{{cloudinaryPublicId}}'>\n<input type=\"hidden\" name=\"cloudinary_public_id\" id=\"cloudinary_public_id\" value=\"{{ cloudinaryPublicId }}\" />\n<img class='profile-img' ng-if='cloudinaryPublicId' ng-src='{{makeProfileUrl(cloudinaryPublicId, &quot;profile&quot;)}}'>\n<img class='profile-img' ng-if='profileUrl &amp;&amp; !cloudinaryPublicId' ng-src='{{profileUrl}}'>\n<img class='player-img-placeholder' ng-if='!cloudinaryPublicId &amp;&amp; !profileUrl'>\n<a class='btn btn-primary' id='add-thumbnail' ng-click='showThumbnailModal($event, &quot;cloudinaryPublicId&quot;)'>\n<span class='camera-icon'></span>\n<span ng-show='cloudinaryPublicId || profileUrl'>\nChange\n</span>\n<span ng-show='!cloudinaryPublicId &amp;&amp; !profileUrl'>\nAdd\n</span>\n</a>\n</div>\n</div>\n<div class='prospect-info col-xs-24'>\n<div class='row'>\n<div class='col-sm-8 col-xs-24 form-group' ng-class='{&#39;has-error&#39;: !form[&#39;prospect[people_attributes][0][first_name]&#39;].$valid &amp;&amp; form[&#39;prospect[people_attributes][0][first_name]&#39;].$touched}'>\n<input class='form-control' name='prospect[people_attributes][0][first_name]' ng-disabled='type !== null' ng-model='prospect.person.first_name' placeholder='First name' required type='text'>\n<span class='error-reason reduced' ng-show='form[&#39;prospect[people_attributes][0][first_name]&#39;].$touched &amp;&amp; form[&#39;prospect[people_attributes][0][first_name]&#39;].$error.required'>\nFirst name is required\n</span>\n</div>\n<div class='col-sm-8 col-xs-24 form-group'>\n<input class='form-control' name='prospect[people_attributes][0][middle_name]' ng-disabled='type !== null' ng-model='prospect.person.middle_name' placeholder='Middle name' type='text'>\n</div>\n<div class='col-sm-8 col-xs-24 form-group' ng-class='{&#39;has-error&#39;: !form[&#39;prospect[people_attributes][0][last_name]&#39;].$valid &amp;&amp; form[&#39;prospect[people_attributes][0][last_name]&#39;].$touched}'>\n<input class='form-control' name='prospect[people_attributes][0][last_name]' ng-disabled='type !== null' ng-model='prospect.person.last_name' placeholder='Last name' required type='text'>\n<span class='error-reason reduced' ng-show='form[&#39;prospect[people_attributes][0][last_name]&#39;].$touched &amp;&amp; form[&#39;prospect[people_attributes][0][last_name]&#39;].$error.required'>\nLast name is required\n</span>\n</div>\n</div>\n<div class='row' disable-position='!isSuperAdmin &amp;&amp; !isNewProspect' is-college='collegeSelected' position-is-required='true' position='prospect.position' positions='positions' rv-position-picker sport-is-required='true' sports='sports'></div>\n<div class='row'>\n<div class='form-group col-sm-8 col-xs-24'>\n<div class='input-group inline'>\n<label for='height-feet'>Height</label>\n<input name='prospect[height]' ng-model='prospect.height' type='hidden' value='{{prospect.height}}'>\n<input class='form-control' id='height-feet' ng-change='calculateHeight()' ng-model='prospect.heightFeet' placeholder='ft' type='number'>\n<input class='form-control' id='height-inches' ng-change='calculateHeight()' ng-model='prospect.heightInches' placeholder='in' type='number'>\n</div>\n</div>\n<div class='form-group col-sm-8 col-xs-24'>\n<div class='input-group inline'>\n<label for='weight'>Weight</label>\n<input class='form-control' id='weight' name='prospect[weight]' ng-model='prospect.weight' placeholder='lbs' step='0.1' type='number'>\n</div>\n</div>\n</div>\n<div class='row'>\n<div class='form-group col-sm-8 col-xs-24'>\n<div class='input-group'>\n<input name='prospect[verified_height]' ng-model='prospect.verified_height' type='hidden' value='{{prospect.verified_height}}'>\n<input ng-checked='prospect.verified_height' ng-click='prospect.verified_height = !prospect.verified_height' type='checkbox'>\n<label class='verified-stats' for='verified-height'>Official Height</label>\n</div>\n</div>\n<div class='form-group col-sm-8 col-xs-24'>\n<div class='input-group'>\n<input name='prospect[verified_weight]' ng-model='prospect.verified_weight' type='hidden' value='{{prospect.verified_weight}}'>\n<input ng-checked='prospect.verified_weight' ng-click='prospect.verified_weight = !prospect.verified_weight' type='checkbox'>\n<label class='verified-stats' for='verified-weight'>Official Weight</label>\n</div>\n</div>\n</div>\n<div class='row'>\n<div class='form-group col-sm-12 col-xs-24'>\n<div class='stars' ng-if='isSuperAdmin'>\n<label for='stars'>Select stars</label>\n<input class='form-control' name='prospect[stars]' ng-model='prospect.stars' type='hidden' value='{{prospect.stars}}'>\n<rv-rating-bar id='stars' ng-if='isSuperAdmin' ng-model='prospect.stars' rating-options='{cancel: true, score: prospect.stars, hints: false}'></rv-rating-bar>\n</div>\n</div>\n<div class='form-group col-sm-8 col-xs-24'>\n<div class='input-group inline'>\n<label for='rating'>Rivals Rating</label>\n<select class='form-control states' id='rivals-rating' name='prospect[rivals_rating]' ng-disabled='!isSuperAdmin' ng-model='prospect.rivals_rating' ng-options='rating as rating for rating in fetchRatings() track by rating'>\n<option disabled value=''>Rivals Rating</option>\n</select>\n</div>\n</div>\n</div>\n<div class='row'>\n<div class='form-group col-xs-24 col-sm-16'>\n<input class='form-control' name='prospect[people_attributes][0][city]' ng-model='prospect.person.city' placeholder='Hometown' type='text'>\n</div>\n<div class='form-group col-sm-8 col-xs-24 select-container'>\n<select class='form-control states' name='prospect[people_attributes][0][state_id]' ng-change='selectState()' ng-model='prospect.person.state' ng-options='state as state.name for state in states track by state.id' required>\n<option disabled selected value=''>State</option>\n</select>\n</div>\n</div>\n<div class='row'>\n<div class='form-group col-sm-8 col-xs-24' ng-class='{&#39;has-error&#39;: form[&#39;highschool_name&#39;].$touched &amp;&amp; !form[&#39;prospect[highschool_id]&#39;].$valid}'>\n<!-- TODO: Currently unable to use a filter on the value returned by async -->\n<!-- request in the 'typeahead' attribute, per the examples in the doc. -->\n<!-- Issue on GH: -->\n<!-- https://github.com/mgcrea/angular-strap/issues/1567 -->\n<!-- Upgrading Angular and/or NG UI BS should fix, but deferring until -->\n<!-- post cutover. -->\n<input name='prospect[highschool_id]' ng-model='prospect.highschool.id' required type='hidden' value='{{prospect.highschool.id}}'>\n<input class='form-control' id='highschool' name='highschool_name' ng-model='prospect.highschool' placeholder='High school' required type='text' typeahead-min-length='2' typeahead-on-select='setStateForHighschool()' typeahead-template-url='highschoolTypeahead.html' uib-typeahead='school as school.display_name for school in getSchools($viewValue)'>\n<span class='error-reason reduced' ng-show='form[&#39;highschool_name&#39;].$touched &amp;&amp; form[&#39;prospect[highschool_id]&#39;].$error.required'>\nHighschool is invalid\n</span>\n</div>\n<div class='form-group col-sm-8 col-xs-24 select-container'>\n<select class='form-control years' name='prospect[recruit_year]' ng-model='prospect.recruit_year' ng-options='year as year for year in years track by year' required>\n<option disabled selected value=''>Year</option>\n</select>\n</div>\n</div>\n<div class='row'>\n<div class='form-group'>\n<div class='input-group'>\n<label for='notes'>Notes</label>\n<small>(Not visible on the profile card)</small>\n<textarea class='form-control' id='notes' name='prospect[note_attributes][note]' ng-model='note.note' placeholder='Add contact and/or social info' type='textarea'></textarea>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='modal-body row' ng-if='selectedTab === &quot;college&quot;'>\n<div class='prospect-photo col-xs-24' ng-controller='adminProspectProfileImageController' ng-init='cloudinaryPublicId = cloudinaryPublicId'>\n<div class='form-group'>\n<input name='college_player[note_attributes][id]' ng-if='!isNewProspect' ng-model='gallery.id' type='hidden' value='{{note.id}}'>\n<input name='college_player[people_attributes][0][id]' ng-if='!isNewProspect' ng-model='gallery.id' type='hidden' value='{{college_player.person.id}}'>\n<input id='edit_modal_cloudinary_public_id' name='cloudinary_public_id' ng-model='cloudinary_public_id' type='hidden' value='{{cloudinaryPublicId}}'>\n<input type=\"hidden\" name=\"cloudinary_public_id\" id=\"cloudinary_public_id\" value=\"{{ cloudinaryPublicId }}\" />\n<img class='profile-img' ng-if='cloudinaryPublicId' ng-src='{{makeProfileUrl(cloudinaryPublicId, &quot;profile&quot;)}}'>\n<img class='profile-img' ng-if='profileUrl &amp;&amp; !cloudinaryPublicId' ng-src='{{profileUrl}}'>\n<img class='player-img-placeholder' ng-if='!cloudinaryPublicId &amp;&amp; !profileUrl'>\n<a class='btn btn-primary' id='add-college-thumbnail' ng-click='showThumbnailModal($event, &quot;cloudinaryPublicId&quot;)'>\n<span class='camera-icon'></span>\n<span ng-show='cloudinaryPublicId || profileUrl'>\nChange\n</span>\n<span ng-show='!cloudinaryPublicId &amp;&amp; !profileUrl'>\nAdd\n</span>\n</a>\n</div>\n</div>\n<div class='prospect-info col-xs-24'>\n<div class='row'>\n<div class='col-sm-8 col-xs-24 form-group' ng-class='{&#39;has-error&#39;: !form[&#39;college_player[people_attributes][0][first_name]&#39;].$valid &amp;&amp; form[&#39;college_player[people_attributes][0][first_name]&#39;].$touched}'>\n<input class='form-control' name='college_player[people_attributes][0][first_name]' ng-disabled='type !== null' ng-model='college_player.person.first_name' placeholder='First name' required type='text'>\n<span class='error-reason reduced' ng-show='form[&#39;college_player[people_attributes][0][first_name]&#39;].$touched &amp;&amp; form[&#39;college_player[people_attributes][0][first_name]&#39;].$error.required'>\nFirst name is required\n</span>\n</div>\n<div class='col-sm-8 col-xs-24 form-group'>\n<input class='form-control' name='college_player[people_attributes][0][middle_name]' ng-disabled='type !== null' ng-model='college_player.person.middle_name' placeholder='Middle name' type='text'>\n</div>\n<div class='col-sm-8 col-xs-24 form-group' ng-class='{&#39;has-error&#39;: !form[&#39;college_player[people_attributes][0][last_name]&#39;].$valid &amp;&amp; form[&#39;college_player[people_attributes][0][last_name]&#39;].$touched}'>\n<input class='form-control' name='college_player[people_attributes][0][last_name]' ng-disabled='type !== null' ng-model='college_player.person.last_name' placeholder='Last name' required type='text'>\n<span class='error-reason reduced' ng-show='form[&#39;college_player[people_attributes][0][last_name]&#39;].$touched &amp;&amp; form[&#39;college_player[people_attributes][0][last_name]&#39;].$error.required'>\nLast name is required\n</span>\n</div>\n</div>\n<div class='row'>\n<rv-position-picker disable-position='!college_player' is-college='selectedTab === &quot;college&quot;' position-is-required='true' position='college_player.position' positions='positions' sport-is-required='true' sports='sports'></rv-position-picker>\n<rv-college-picker college='college_player.college'></rv-college-picker>\n</div>\n<div class='row'>\n<div class='form-group col-sm-8 col-xs-24'>\n<div class='input-group inline'>\n<label for='height-feet'>Height</label>\n<input name='college_player[height]' ng-model='college_player.height' type='hidden' value='{{college_player.height}}'>\n<input class='form-control' id='height-feet' ng-change='calculateCollegeHeight()' ng-model='collegeHeightFeet' placeholder='ft' type='number'>\n<input class='form-control' id='height-inches' ng-change='calculateCollegeHeight()' ng-model='collegeHeightInches' placeholder='in' type='number'>\n</div>\n</div>\n<div class='form-group col-sm-8 col-xs-24'>\n<div class='input-group inline'>\n<label for='weight'>Weight</label>\n<input class='form-control' id='weight' name='college_player[weight]' ng-model='college_player.weight' placeholder='lbs' step='0.1' type='number'>\n</div>\n</div>\n</div>\n<div class='row'>\n<div class='form-group col-xs-24 col-sm-8'>\n<input class='form-control' name='college_player[people_attributes][0][city]' ng-model='college_player.person.city' placeholder='Hometown' type='text'>\n</div>\n<div class='form-group col-sm-8 col-xs-24 select-container'>\n<select class='form-control states' name='college_player[people_attributes][0][state_id]' ng-change='selectState()' ng-model='college_player.person.state' ng-options='state as state.name for state in states track by state.id' required>\n<option disabled selected value=''>State</option>\n</select>\n</div>\n</div>\n<div class='row'>\n<div class='form-group col-sm-8 col-xs-24' ng-class='{&#39;has-error&#39;: form[&#39;highschool_name&#39;].$touched &amp;&amp; !form[&#39;prospect[highschool_id]&#39;].$valid}'>\n<!-- TODO: Currently unable to use a filter on the value returned by async -->\n<!-- request in the 'typeahead' attribute, per the examples in the doc. -->\n<!-- Issue on GH: -->\n<!-- https://github.com/mgcrea/angular-strap/issues/1567 -->\n<!-- Upgrading Angular and/or NG UI BS should fix, but deferring until -->\n<!-- post cutover. -->\n<input name='college_player[highschool_id]' ng-model='college_player.highschool.id' required type='hidden' value='{{college_player.highschool.id}}'>\n<input class='form-control' id='highschool' name='highschool_name' ng-model='college_player.highschool' placeholder='High school' required type='text' typeahead-min-length='2' typeahead-on-select='setStateForHighschool()' uib-typeahead='school as school.display_name for school in getSchools($viewValue)'>\n<span class='error-reason reduced' ng-show='form[&#39;highschool_name&#39;].$touched &amp;&amp; form[&#39;college_player[highschool_id]&#39;].$error.required'>\nHighschool is invalid\n</span>\n</div>\n<div class='form-group col-sm-8 col-xs-24 select-container'>\n<select class='form-control years' name='college_player[recruit_year]' ng-model='college_player.recruit_year' ng-options='year as year for year in years track by year' required>\n<option disabled selected value=''>Year</option>\n</select>\n</div>\n</div>\n<div class='row'>\n<div class='form-group'>\n<div class='input-group'>\n<label for='notes'>Notes</label>\n<small>(Not visible on the profile card)</small>\n<textarea class='form-control' id='notes' name='college_player[note_attributes][note]' ng-model='note.note' placeholder='Add contact and/or social info' type='textarea'></textarea>\n</div>\n</div>\n</div>\n</div>\n</div>\n<hr>\n<div class='modal-footer'>\n<a class='cancel btn btn-no-outline' ng-click='$dismiss()'>Close</a>\n<input class='btn btn-primary' id='update' ng-disabled='form.$invalid' ng-show='!isNewProspect &amp;&amp; type === null' type='submit' value='Save'>\n<input class='btn btn-primary' ng-disabled='form.$invalid' ng-show='isNewProspect || type !== null' type='submit' value='Create profile'>\n</div>\n</div>\n</form>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/editRankHistoryModal.html","<form action='{{ctrl.actionUrl}}' class='history-modal edit-modal edit-list-modal bootstrap-form form-inline' method='post' name='form' ng-submit='ctrl.handleSubmit($event)'>\n<input name='authenticity_token' type='hidden' value='{{ctrl.csrfToken}}'>\n<div class='modal-header title'>\n<h3 class='modal-title'>\nVersion History\n</h3>\n<span class='mobile-close-icon' ng-click='$dismiss()'></span>\n</div>\n<div class='modal-body row'>\n<div class='row'>\n<span class='note'>\nSelect a past version of\n<strong>\n{{ ctrl.rankName }}\n</strong>\nto review.\n</span>\n</div>\n<rv-sortable-table categories='ctrl.categories' is-admin-tool='true' is-mobile='isMobile' loading='ctrl.loading' no-results='ctrl.noResults' selected-sport='ctrl.selectedSport' subject='ctrl.subject'></rv-sortable-table>\n</div>\n<hr>\n<div class='modal-footer'>\n<a class='cancel btn btn-no-outline' ng-click='$dismiss()'>Close</a>\n</div>\n</form>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/eventModal.html","<div class='container' id='event-container' ng-bind-html='ctrl.html'></div>\n<hr>\n<div id='event-button-container'>\n<button class='btn btn-primary' ng-click='ctrl.agreeToTerms()'>\n{{ctrl.buttonTitle}}\n</button>\n<br>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/extendSubscription.html",'<div class="modal-header">\n  <h3 class="modal-title">Extend subscription</h3>\n</div>\n<form name="extendForm">\n  <div class="modal-body">\n    <div class="alert" ng-if="errorMessage">{{errorMessage}}</div>\n    <div class="admin-modal-subscription-card row">\n      <div class="site col-sm-24">\n        {{subscription.site.name}}\n      </div>\n      <div class="subscription-details col-sm-8">\n        <div class="subscription-period">\n          {{subscription.subscription_period}}\n        </div>\n      </div>\n      <div class="subscription-dates col-sm-16">\n        <div class="subscription-billing-date row">\n          <div class="subscription-date-label col-sm-8">\n            Renews on:\n          </div>\n          <div class="subscription-date-value col-sm-8">\n            {{subscription.next_billing_date | date:\'M/d/yyyy\' }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="extension-details row">\n      <div class="renewal-date details-group">\n        <div class="col-sm-4">\n          <label for="renewal-date">Extend to</label>\n        </div>\n        <div class="col-sm-20">\n          <input id="renewal-date" class="form-control" name="extend_to" date-picker date-picker-options="{\'datesDisabled\': datesDisabled, \'endDate\': endDate}" start-date="startDate" ng-model="renewalDate" required />\n        </div>\n      </div>\n      <div class="details-group col-sm-24">\n        <textarea class="note form-control mtxl mbxl" type="text" name="note" ng-model="note" placeholder="Note" />\n      </div>\n      <div class="account-save details-group col-sm-24">\n        <label>\n          <input type="checkbox" id="is_a_save" name="is_a_save" ng-model="isASave">\n          This is a save\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <a class="cancel btn btn-no-outline" ng-click="$dismiss()">Cancel</a>\n    <button class="btn btn-primary extend-subscription" ng-click="extendSubscription()" ng-disabled="extendForm.$invalid || submitting">\n      Extend\n    </button>\n  </div>\n</form>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/favoriteBlockDeleteModal.html","<div class='delete-favorite-modal'>\n<div class='modal-header'>\n<div class='modal-dismiss' ng-click='ctrl.dismiss()'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close_modal_gray-c9f44b7ef5c5a8b6fb469c27cc56f1d3b506d191be435540ff77ff3b910f62eb.svg'>\n</div>\n</div>\n<div class='container'>\n<div class='text'>Deleting will permanently remove the content block from the list of favorites.</div>\n</div>\n<div class='modal-footer modal-footer-white'>\n<a class='cancel btn btn-no-outline' ng-click='ctrl.dismiss()'>Cancel</a>\n<a class='delete btn btn-no-outline' ng-click='ctrl.delete()'>Delete</a>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/favoriteModal.html","<form class='save-favorite-modal' name='form'>\n<div class='modal-header modal-header-blue'>\n<div class='modal-title'>Favorite Content Block</div>\n<div class='modal-dismiss' ng-click='ctrl.dismiss()'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n</div>\n<div class='input-container'>\n<div class='favorite-name'>\n<div class='input-label-primary stacked'>Name</div>\n<input class='name' name='favorite_name' ng-model='ctrl.name' required='true' type='text'>\n<span class='error-reason reduced' ng-show='ctrl.showError'>Name is already taken</span>\n</div>\n</div>\n<div class='modal-footer modal-footer-white'>\n<a class='cancel btn btn-no-outline' ng-click='ctrl.dismiss()'>Cancel</a>\n<button class='btn btn-primary btn-action save-favorite' ng-click='ctrl.submit()' ng-disabled='!form.$valid'>Save to Favorites</button>\n</div>\n</form>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/forecastsConfirmationModal.html","<div class='forecast-modal'>\n<div class='modal-header' ng-if='ctrl.unlikely'>\nNo Longer Likely\n</div>\n<div class='modal-header' ng-if='!ctrl.unlikely'>\nForecast\n</div>\n<div class='modal-body'>\n<div class='information'>\n<div class='warning' ng-cloak ng-if='!ctrl.isMyForecasts'>\n<div class='warning-label'>\nWarning\n</div>\n<div class='warning-text' ng-if='ctrl.actionType === &quot;add&quot;'>\nYou are adding a forecast for {{ctrl.selectedPublisher.username | capitalize}}\n</div>\n<div class='warning-text' ng-if='ctrl.actionType === &quot;edit&quot; || ctrl.unlikely'>\nYou are editing {{ctrl.authorName | capitalize}}'s forecast\n</div>\n</div>\n<div class='main-text' ng-if='(ctrl.isMyForecasts || ctrl.actionType === &quot;edit&quot;) &amp;&amp; !ctrl.unlikely'>\nPlease confirm your forecast.\n</div>\n</div>\n<div class='futurecast-content'>\n<div ng-if='!ctrl.unlikely'>\n<div class='small-header'>School</div>\n<div class='school'>\n<img class='school-logo' ng-if='ctrl.forecastSchool.large_team_logo' ng-src='{{ctrl.forecastSchool.large_team_logo}}'>\n<div class='school-name'>{{ctrl.forecastSchool.short_name}}</div>\n</div>\n</div>\n<div class='small-header' ng-if='!ctrl.unlikely'>\nReason for forecast\n</div>\n<div class='small-header' ng-if='ctrl.unlikely'>\nReason for marking unlikely (optional)\n</div>\n<div class='reason' ng-cloak ng-if='ctrl.actionType === &quot;add&quot;'>\n<div class='no-reason' ng-cloak ng-if='ctrl.forecastReason === &quot;&quot; '>\nNo reason given\n</div>\n<div class='reason-text' ng-cloak ng-if='ctrl.forecastReason !== &quot;&quot; '>\n{{ctrl.forecastReason}}\n</div>\n</div>\n<div class='reason' ng-cloak ng-if='ctrl.actionType === &quot;edit&quot;'>\n<textarea class='edit-reason' maxlength='200' ng-model='ctrl.forecastReason' type='text'></textarea>\n<div class='remaining'>\n{{ \"200\" - ctrl.forecastReason.length }} characters remaining\n</div>\n</div>\n<div class='reason' ng-cloak ng-if='ctrl.unlikely'>\n<textarea class='edit-reason' maxlength='200' ng-model='ctrl.forecastReason' type='text'></textarea>\n<div class='remaining'>\n{{ \"200\" - ctrl.forecastReason.length }} characters remaining\n</div>\n</div>\n<div class='nll-content' ng-if='ctrl.unlikely'>\n<div class='small-header'>\nOriginal Forecast\n</div>\n<div class='school'>\n<img class='school-logo' ng-if='ctrl.forecastSchool.large_team_logo' ng-src='{{ctrl.forecastSchool.large_team_logo}}'>\n<div class='school-name'>{{ctrl.forecastSchool.short_name}}</div>\n<div class='previous-forecast-date'>{{ ctrl.previousForecastDate }}</div>\n</div>\n<div class='reason'>\n<div class='no-reason' ng-cloak ng-if='ctrl.previousReason === &quot;&quot;'>\nNo reason given\n</div>\n<div class='reason-text' ng-cloak ng-if='ctrl.previousReason !== &quot;&quot; '>\n{{ctrl.previousReason}}\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='modal-footer'>\n<div class='btn' ng-click='ctrl.save()'>\n<div ng-if='!ctrl.unlikely'>\nSave Forecast\n</div>\n<div ng-if='ctrl.unlikely'>\nMark Unlikely\n</div>\n</div>\n<div class='btn cancel' ng-click='ctrl.cancel()'>\nCancel\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/fullImageModal.html",'<div class=\'full-image\'>\n<div class=\'close-modal-icon\' ng-click=\'ctrl.close()\'><?xml version="1.0" encoding="iso-8859-1"?>\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewbox="0 0 241.171 241.171" style="enable-background:new 0 0 241.171 241.171;" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">\n<g>\n	<path id="Close" d="M138.138,120.754l99.118-98.576c4.752-4.704,4.752-12.319,0-17.011c-4.74-4.704-12.439-4.704-17.179,0\n		l-99.033,98.492L21.095,3.699c-4.74-4.752-12.439-4.752-17.179,0c-4.74,4.764-4.74,12.475,0,17.227l99.876,99.888L3.555,220.497\n		c-4.74,4.704-4.74,12.319,0,17.011c4.74,4.704,12.439,4.704,17.179,0l100.152-99.599l99.551,99.563\n		c4.74,4.752,12.439,4.752,17.179,0c4.74-4.764,4.74-12.475,0-17.227L138.138,120.754z"></path>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n</div>\n<img ng-src=\'{{ctrl.imageUrl}}\'>\n</div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/galleryAdModal.html","<div class='gallery-ad'>\n<div class='modal-header'>\n<div class='modal-dismiss' ng-click='$dismiss()'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/galleryPreviewModal.html",'<div class=\'gallery-preview\'>\n<div class=\'preview-header\' ng-hide=\'hideHeader\'>\n<div class=\'gallery-info\'>\n<div class=\'name-container\'>\n<div class=\'name\'>\n{{ gallery.name }}\n</div>\n<div class=\'creation-date-desktop\'>\n{{ gallery.created_at | timestampToDate }}\n</div>\n<div class=\'share-preview-icons\' ng-show=\'showPreviewIcons\'>\n<a href=\'\' ng-click=\'openShareWindow(&quot;twitter&quot;)\'>\n<div class=\'btn-twitter-share\'><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 420 341.16"><title>share_twitter</title>\n<path id="twitter_icon" d="M420,40.36A172.18,172.18,0,0,1,370.52,54,86.79,86.79,0,0,0,408.45,6.27a171.72,171.72,0,0,1-54.86,20.9,86.14,86.14,0,0,0-148.92,59,89.46,89.46,0,0,0,2.2,19.62,244.61,244.61,0,0,1-177.63-90,86.15,86.15,0,0,0,26.64,115A84.84,84.84,0,0,1,16.93,120V121A86.38,86.38,0,0,0,86,205.59a88.88,88.88,0,0,1-22.67,2.92A87.05,87.05,0,0,1,47,207a86.45,86.45,0,0,0,80.48,59.85,173.16,173.16,0,0,1-107,36.78A184.86,184.86,0,0,1,0,302.48a243.84,243.84,0,0,0,132.12,38.68c158.41,0,245.06-131.24,245.06-245L376.92,85A173.57,173.57,0,0,0,420,40.36Zm0,0"></path></svg></div>\n</a>\n<a href=\'\' ng-click=\'openShareWindow(&quot;facebook&quot;)\'>\n<div class=\'btn-facebook-share\'><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 700 700"><title>share_facebook</title>\n<path id="facebook_icon" d="M525,.14,434.22,0c-102,0-167.9,67.63-167.9,172.27v79.44H175A14.25,14.25,0,0,0,160.79,266V381.08A14.28,14.28,0,0,0,175,395.33h91.28V685.74A14.28,14.28,0,0,0,280.61,700h119a14.28,14.28,0,0,0,14.29-14.26V395.33H520.65a14.26,14.26,0,0,0,14.26-14.26L535,266a14.41,14.41,0,0,0-4.2-10.1,14.25,14.25,0,0,0-10.09-4.16H413.94V184.37c0-32.36,7.72-48.79,49.85-48.79l61.16,0a14.25,14.25,0,0,0,14.25-14.26V14.44A14.28,14.28,0,0,0,525,.14Zm0,0"></path></svg></div>\n</a>\n<a href=\'\' ng-click=\'openShareWindow(&quot;reddit&quot;)\'>\n<div class=\'btn-reddit-share\'><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 420 397.35"><title>share_reddit</title>\n<path id="reddit_icon" d="M420,188.57a52.55,52.55,0,0,0-93.5-32.94C298.67,143,267,135.18,233.39,132.71l28.83-91.12,64.4,14a44.52,44.52,0,1,0,2.9-30.1L255.22,9.35a15,15,0,0,0-17.49,10.15L202.13,131.95c-39.28,1-76.55,9.09-108.63,23.69A52.56,52.56,0,0,0,0,188.57a52.2,52.2,0,0,0,15.34,37.09,91.64,91.64,0,0,0-8.82,38.94c0,36.1,21.62,69.8,60.86,94.88,38.21,24.42,88.86,37.86,142.61,37.86s104.41-13.44,142.62-37.86c39.25-25.08,60.86-58.78,60.86-94.88a91.57,91.57,0,0,0-8.82-38.94A52.2,52.2,0,0,0,420,188.57Zm-396.92,18a34.09,34.09,0,0,1-5.06-18A34.57,34.57,0,0,1,52.55,154a34.16,34.16,0,0,1,22,7.9C52.59,174.4,35.3,189.39,23.08,206.58ZM102.16,237a37.53,37.53,0,1,1,37.53,37.53A37.57,37.57,0,0,1,102.16,237ZM287,322.67c-14.63,16-44.13,25.89-77,25.89s-62.36-9.93-77-25.89a15,15,0,1,1,22.14-20.29c8.71,9.51,31.27,16.15,54.86,16.15s46.15-6.64,54.86-16.15A15,15,0,1,1,287,322.67Zm-6.68-48.13A37.53,37.53,0,1,1,317.85,237a37.57,37.57,0,0,1-37.53,37.53Zm116.61-68c-12.24-17.19-29.51-32.18-51.47-44.65a34.12,34.12,0,0,1,22-7.9A34.58,34.58,0,0,1,402,188.57a34.1,34.1,0,0,1-5.06,18Zm0,0"></path></svg></div>\n</a>\n<a ng-href=\'{{buildEmailLink()}}\'>\n<div class=\'btn-email-share\'><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 420 300.03"><title>share_email</title>\n<path d="M210.09,210.09l-52-45.57L9.53,291.82A29.7,29.7,0,0,0,30.19,300H389.85a29.67,29.67,0,0,0,20.63-8.21L261.92,164.53Zm0,0"></path><path d="M410.47,8.21A29.4,29.4,0,0,0,389.85,0H30.19A30,30,0,0,0,9.53,8.21L210.09,180.05Zm0,0"></path><path d="M0,26.37V275.58L145,152.34Zm0,0"></path><path d="M275,152.34,420,275.58V26.22Zm0,0"></path></svg></div>\n</a>\n</div>\n<a class=\'share-preview-button\' ng-class=\'{&#39;selected&#39;: activeButton}\' ng-click=\'showButtons()\'><?xml version="1.0" encoding="iso-8859-1"?>\n<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewbox="0 0 525.152 525.152" style="enable-background:new 0 0 525.152 525.152;" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">\n<g>\n	<path d="M420.735,371.217c-20.021,0-37.942,7.855-51.596,20.24L181.112,282.094c1.357-6.061,2.407-12.166,2.407-18.468\n		c0-6.302-1.072-12.385-2.407-18.468l185.904-108.335c14.179,13.129,32.931,21.334,53.719,21.334\n		c43.828,0,79.145-35.251,79.145-79.079C499.88,35.338,464.541,0,420.735,0c-43.741,0-79.079,35.338-79.079,79.057\n		c0,6.389,1.072,12.385,2.407,18.468L158.158,205.947c-14.201-13.194-32.931-21.378-53.741-21.378\n		c-43.828,0-79.145,35.317-79.145,79.057s35.317,79.079,79.145,79.079c20.787,0,39.54-8.206,53.719-21.334l187.698,109.604\n		c-1.291,5.58-2.101,11.4-2.101,17.199c0,42.45,34.594,76.979,76.979,76.979c42.428,0,77.044-34.507,77.044-76.979\n		S463.163,371.217,420.735,371.217z"></path>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n</a>\n<div class=\'gallery-toggle\' ng-class=\'{&#39;selected&#39;: galleryView}\' ng-click=\'showGalleryIndex()\'></div>\n<div class=\'image-toggle\' ng-class=\'{&#39;selected&#39;: !galleryView}\' ng-click=\'showGallerySlideshow()\'></div>\n<div class=\'exit-button\' ng-if=\'preview\'>\n<button class=\'btn btn-list rivals-blue desktop\' ng-click=\'$dismiss()\'>Exit Preview</button>\n<button class=\'btn btn-list rivals-blue mobile\' ng-click=\'$dismiss()\'>Exit</button>\n</div>\n<div class=\'close-modal-icon\' ng-click=\'$dismiss()\' ng-if=\'!preview\'><?xml version="1.0" encoding="iso-8859-1"?>\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewbox="0 0 241.171 241.171" style="enable-background:new 0 0 241.171 241.171;" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">\n<g>\n	<path id="Close" d="M138.138,120.754l99.118-98.576c4.752-4.704,4.752-12.319,0-17.011c-4.74-4.704-12.439-4.704-17.179,0\n		l-99.033,98.492L21.095,3.699c-4.74-4.752-12.439-4.752-17.179,0c-4.74,4.764-4.74,12.475,0,17.227l99.876,99.888L3.555,220.497\n		c-4.74,4.704-4.74,12.319,0,17.011c4.74,4.704,12.439,4.704,17.179,0l100.152-99.599l99.551,99.563\n		c4.74,4.752,12.439,4.752,17.179,0c4.74-4.764,4.74-12.475,0-17.227L138.138,120.754z"></path>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n</div>\n</div>\n<div class=\'creation-date-mobile\'>\n{{ gallery.created_at | timestampToDate }}\n</div>\n<div class=\'description\'>\n{{ gallery.summary }}\n</div>\n</div>\n</div>\n<div class=\'spinner\' ng-if=\'loading\'></div>\n<rv-gallery-slideshow ad-frequency=\'adFrequency\' class=\'gallery-slideshow-container\' gallery=\'gallery\' images=\'images\' ng-if=\'!previewUpsell &amp;&amp; !loading\'></rv-gallery-slideshow>\n<rv-gallery-preview-upsell current-site-name=\'currentSiteName\' image=\'images[0]\' images-count=\'images.length\' ng-if=\'previewUpsell &amp;&amp; !loading\' subscribe-path=\'subscribePath\'></rv-gallery-preview-upsell>\n<div class=\'footer\'>\n<div class=\'share-footer-icons\' ng-show=\'showFooterIcons\'>\n<a href=\'\' ng-class=\'{&#39;selected&#39;: activeTwitter}\' ng-click=\'openShareWindow(&quot;twitter&quot;)\'>\n<div class=\'btn-twitter-share\'><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 420 341.16"><title>share_twitter</title>\n<path id="twitter_icon" d="M420,40.36A172.18,172.18,0,0,1,370.52,54,86.79,86.79,0,0,0,408.45,6.27a171.72,171.72,0,0,1-54.86,20.9,86.14,86.14,0,0,0-148.92,59,89.46,89.46,0,0,0,2.2,19.62,244.61,244.61,0,0,1-177.63-90,86.15,86.15,0,0,0,26.64,115A84.84,84.84,0,0,1,16.93,120V121A86.38,86.38,0,0,0,86,205.59a88.88,88.88,0,0,1-22.67,2.92A87.05,87.05,0,0,1,47,207a86.45,86.45,0,0,0,80.48,59.85,173.16,173.16,0,0,1-107,36.78A184.86,184.86,0,0,1,0,302.48a243.84,243.84,0,0,0,132.12,38.68c158.41,0,245.06-131.24,245.06-245L376.92,85A173.57,173.57,0,0,0,420,40.36Zm0,0"></path></svg></div>\n</a>\n<a href=\'\' ng-click=\'openShareWindow(&quot;facebook&quot;)\'>\n<div class=\'btn-facebook-share\'><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 700 700"><title>share_facebook</title>\n<path id="facebook_icon" d="M525,.14,434.22,0c-102,0-167.9,67.63-167.9,172.27v79.44H175A14.25,14.25,0,0,0,160.79,266V381.08A14.28,14.28,0,0,0,175,395.33h91.28V685.74A14.28,14.28,0,0,0,280.61,700h119a14.28,14.28,0,0,0,14.29-14.26V395.33H520.65a14.26,14.26,0,0,0,14.26-14.26L535,266a14.41,14.41,0,0,0-4.2-10.1,14.25,14.25,0,0,0-10.09-4.16H413.94V184.37c0-32.36,7.72-48.79,49.85-48.79l61.16,0a14.25,14.25,0,0,0,14.25-14.26V14.44A14.28,14.28,0,0,0,525,.14Zm0,0"></path></svg></div>\n</a>\n<a href=\'\' ng-click=\'openShareWindow(&quot;reddit&quot;)\'>\n<div class=\'btn-reddit-share\'><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 420 397.35"><title>share_reddit</title>\n<path id="reddit_icon" d="M420,188.57a52.55,52.55,0,0,0-93.5-32.94C298.67,143,267,135.18,233.39,132.71l28.83-91.12,64.4,14a44.52,44.52,0,1,0,2.9-30.1L255.22,9.35a15,15,0,0,0-17.49,10.15L202.13,131.95c-39.28,1-76.55,9.09-108.63,23.69A52.56,52.56,0,0,0,0,188.57a52.2,52.2,0,0,0,15.34,37.09,91.64,91.64,0,0,0-8.82,38.94c0,36.1,21.62,69.8,60.86,94.88,38.21,24.42,88.86,37.86,142.61,37.86s104.41-13.44,142.62-37.86c39.25-25.08,60.86-58.78,60.86-94.88a91.57,91.57,0,0,0-8.82-38.94A52.2,52.2,0,0,0,420,188.57Zm-396.92,18a34.09,34.09,0,0,1-5.06-18A34.57,34.57,0,0,1,52.55,154a34.16,34.16,0,0,1,22,7.9C52.59,174.4,35.3,189.39,23.08,206.58ZM102.16,237a37.53,37.53,0,1,1,37.53,37.53A37.57,37.57,0,0,1,102.16,237ZM287,322.67c-14.63,16-44.13,25.89-77,25.89s-62.36-9.93-77-25.89a15,15,0,1,1,22.14-20.29c8.71,9.51,31.27,16.15,54.86,16.15s46.15-6.64,54.86-16.15A15,15,0,1,1,287,322.67Zm-6.68-48.13A37.53,37.53,0,1,1,317.85,237a37.57,37.57,0,0,1-37.53,37.53Zm116.61-68c-12.24-17.19-29.51-32.18-51.47-44.65a34.12,34.12,0,0,1,22-7.9A34.58,34.58,0,0,1,402,188.57a34.1,34.1,0,0,1-5.06,18Zm0,0"></path></svg></div>\n</a>\n<a ng-href=\'{{buildEmailLink()}}\'>\n<div class=\'btn-email-share\'><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 420 300.03"><title>share_email</title>\n<path d="M210.09,210.09l-52-45.57L9.53,291.82A29.7,29.7,0,0,0,30.19,300H389.85a29.67,29.67,0,0,0,20.63-8.21L261.92,164.53Zm0,0"></path><path d="M410.47,8.21A29.4,29.4,0,0,0,389.85,0H30.19A30,30,0,0,0,9.53,8.21L210.09,180.05Zm0,0"></path><path d="M0,26.37V275.58L145,152.34Zm0,0"></path><path d="M275,152.34,420,275.58V26.22Zm0,0"></path></svg></div>\n</a>\n</div>\n<div class=\'share-footer-button\' ng-class=\'{&#39;selected&#39;: activeButtonMobile}\' ng-click=\'showButtons()\'><?xml version="1.0" encoding="iso-8859-1"?>\n<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewbox="0 0 525.152 525.152" style="enable-background:new 0 0 525.152 525.152;" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">\n<g>\n	<path d="M420.735,371.217c-20.021,0-37.942,7.855-51.596,20.24L181.112,282.094c1.357-6.061,2.407-12.166,2.407-18.468\n		c0-6.302-1.072-12.385-2.407-18.468l185.904-108.335c14.179,13.129,32.931,21.334,53.719,21.334\n		c43.828,0,79.145-35.251,79.145-79.079C499.88,35.338,464.541,0,420.735,0c-43.741,0-79.079,35.338-79.079,79.057\n		c0,6.389,1.072,12.385,2.407,18.468L158.158,205.947c-14.201-13.194-32.931-21.378-53.741-21.378\n		c-43.828,0-79.145,35.317-79.145,79.057s35.317,79.079,79.145,79.079c20.787,0,39.54-8.206,53.719-21.334l187.698,109.604\n		c-1.291,5.58-2.101,11.4-2.101,17.199c0,42.45,34.594,76.979,76.979,76.979c42.428,0,77.044-34.507,77.044-76.979\n		S463.163,371.217,420.735,371.217z"></path>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n</div>\n<div class=\'gallery-toggle\' ng-class=\'{&#39;selected&#39;: galleryView}\' ng-click=\'showGalleryIndex()\'></div>\n<div class=\'image-toggle\' ng-class=\'{&#39;selected&#39;: !galleryView}\' ng-click=\'showGallerySlideshow()\'></div>\n</div>\n</div>');
}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/highschoolModal.html","<form action='{{ctrl.actionUrl}}' class='bootstrap-form form-inline' method='post'>\n<input name='_method' ng-if='!ctrl.isNew' type='hidden' value='put'>\n<div class='highschool-modal edit-modal'>\n<div class='modal-header-blue'>\n<div class='modal-title' ng-if='ctrl.isNew'>\nAdd a high school\n</div>\n<div class='modal-title' ng-if='!ctrl.isNew'>\nEdit a high school\n</div>\n<div class='modal-dismiss' ng-click='$dismiss()'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n</div>\n<div class='modal-body'>\n<input name='authenticity_token' type='hidden' value='{{ctrl.csrfToken}}'>\n<div class='input-label-primary stacked'>Name</div>\n<input id='display_name' name='highschool[display_name]' ng-model='ctrl.highschool.display_name' placeholder='Enter a name' required type='text' value='{{ctrl.highschool.display_name}}'>\n<div class='input-label-primary stacked'>Classification</div>\n<div class='select-container-arrow'>\n<select id='classifications' name='highschool[classification]' ng-change='ctrl.showHS()' ng-model='ctrl.highschool.classification' ng-options='type as (type | type) for type in ctrl.types track by type' ng-value='{{ctrl.highschool.classification}}' required>\n<option disabled selected value=''></option>\n</select>\n</div>\n<div class='input-label-primary stacked'>City</div>\n<input id='city' name='highschool[city]' ng-model='ctrl.highschool.city' placeholder='Enter a name' required type='text' value='{{ctrl.highschool.city}}'>\n<div class='input-label-primary stacked'>State</div>\n<div class='select-container-arrow'>\n<select change='ctrl.selectState()' id='state' name='highschool[state_id]' ng-model='ctrl.highschool.state' ng-options='state as state.name for state in ctrl.states track by state.id' required value='{{ctrl.highschool.state_id}}'>\n<option disabled selected value=''></option>\n</select>\n</div>\n</div>\n<div class='modal-footer modal-footer-white'>\n<button class='btn btn-primary' ng-mobile-click='ctrl.submit()'>Submit</button>\n</div>\n</div>\n</form>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/imageUpload.html","<div class='upload-thumbnail-header'>\n<h3 class='upload-thumbnail-title'>\nUpload an image\n</h3>\n</div>\n<div class='thumbnail-upload modal-body'>\n<div class='block-input-body' ng-switch='properties.selection'>\n<div class='close-sub-block thumbnail-modal' ng-click='ctrl.modal.dismiss()'>x</div>\n<div class='image-source-selection'>\n<button class='option choose-url-upload' ng-click='ctrl.showThumbnailImageEditModal(false)'>\n<label class='url-option'>\n<div class='rivals-icon-web'></div>\n<div class='upload-source-label'>\nThe Web\n</div>\n</label>\n</button>\n<div class='option-separator'></div>\n<button class='option database-source' ng-click='ctrl.openSearchModal()'>\n<label class='database-option'>\n<div class='rivals-icon-database'></div>\n<div class='upload-source-label'>\nSearch Database\n</div>\n</label>\n</button>\n<div class='option-separator'></div>\n<div class='upload-source option'>\n<button class='option file-upload' ng-click='ctrl.startUpload()'>\n<label class='upload-option'>\n<div class='rivals-icon-upload'></div>\n<div class='upload-source-label'>\nYour Device\n</div>\n</label>\n</button>\n</div>\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/impersonatePublisherForecastModal.html","<div class='forecast-modal'>\n<div class='modal-header'>Choose a Publisher</div>\n<div class='modal-body'>\n<div class='publisher-dropdown'>\n<ui-select ng-model='ctrl.selectedPublisher' theme='selectize'>\n<ui-select-match class='text-capitalize' ng-cloak placeholder='Impersonate'>{{ ctrl.selectedPublisher.display_name }} ({{ctrl.selectedPublisher.username}})</ui-select-match>\n<ui-select-choices group-by='ctrl.groupPublishers' position='down' repeat='publisher as publisher in ctrl.publishers | filter: $select.search'>\n<div class='text-capitalize' ng-cloak>{{publisher.display_name}} ({{publisher.username}})</div>\n</ui-select-choices>\n</ui-select>\n</div>\n</div>\n<div class='modal-footer'>\n<div class='btn cancel' ng-click='ctrl.cancel()'>\nCancel\n</div>\n<div class='btn' ng-click='ctrl.impersonate()'>\nImpersonate\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/inappropriateUserModal.html","<div class='branded-modal'>\n<div class='branded-modal-header inappropriate-user'>\n<div class='rivals-logo-navbar-white'></div>\n<div class='school-header'>\n<img src='https://cdn.rivals.com/production/assets/logo-white-ca7eeb281ee79deee4f0f34872a14e34b20a9f7af30f8b8fa207e39c19498573.png'>\n</div>\n<div class='modal-dismiss' ng-click='ctrl.dismiss()'>\n<div class='dismiss-icon'></div>\n</div>\n</div>\n<div class='branded-modal-body'>\n<div class='branded-modal-title'>\nInappropriate Username or Photo\n</div>\n<p class='branded-modal-text'>\nUh-oh, you\u2019ve been benched! Our admins have flagged your username or profile photo as inappropriate content. Contact <a href=\"{{ctrl.customerServicePath}}\">customer service</a> to change your username, or visit the forum to update your profile photo.\n</p>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/loadAutoSavePublishingData.html",'<div class="modal-header">\n  <h3 class="modal-title">Content Recovery</h3>\n</div>\n<div class="modal-body">\n  <p>We detected unsaved content from an article you were working on the last time you visited this page. Would you like to recover that content now, or delete it forever?</p>\n  <p>If you choose to recover the content and are unhappy with the changes, you can reload the page to receive this prompt again.</p>\n  <p>Deleting the content is permanent.</p>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-danger" ng-click="deleteContent()">\n    Delete\n  </button>\n  <button class="btn btn-primary" ng-click="recoverContent()">\n    Recover\n  </button>\n</div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/newTemplateModal.html","<div class='h2' style='margin: 5px;'>\nNew Template\n</div>\n<input name='authenticity_token' type='hidden' value='{{csrfToken}}'>\n<input ng-change='resetErrors()' ng-model='templateName' placeholder='Template name' style='margin: 5px;'>\n<br>\n<div style='color: red;'>\n<div class='errors' ng-repeat='(key, value) in errors'>\n{{key}}\n{{value[0]}}\n</div>\n</div>\n<button class='btn btn-primary' ng-click='createTemplate()' style='margin: 5px;'>\nCreate Template\n</button>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/promoUpsellModal.html","<div class='branded-modal'>\n<div class='branded-modal-header' ng-style='upsellCtrl.headerStyles'>\n<div class='rivals-logo-navbar-black' ng-if='upsellCtrl.settings.logo_background_shading == &quot;black&quot;'></div>\n<div class='rivals-logo-navbar-white' ng-if='upsellCtrl.settings.logo_background_shading == &quot;white&quot;'></div>\n<div class='school-header'>\n<img ng-alt='{{ upsellCtrl.site.friendly_name }}' ng-if='upsellCtrl.settings.header_logo_cloudinary' ng-src='{{ upsellCtrl.headerLogoImg }}'>\n<span class='header-text' ng-if='!upsellCtrl.settings.header_logo_cloudinary'>\n{{ upsellCtrl.displayName }}\n</span>\n</div>\n<div class='modal-dismiss' ng-click='$dismiss()'>\n<div class='dismiss-icon'></div>\n</div>\n</div>\n<div class='upsell-modal-contents'>\n<div class='modal-background-image'></div>\n<div class='modal-background-gradient'>\n<div class='modal-body'>\n<div class='upsell-title avant-garde-bold'>\n<div>Gear up for</div>\n<div>National Signing Day!</div>\n</div>\n<div class='upsell-thin avant-garde'>\n<div>Get all the National Signing Day</div>\n<div>updates as soon as they go down.</div>\n</div>\n<div class='upsell-bold avant-garde-bold'>\n<div>For a limited time, buy an annual</div>\n<div>subscription & we\u2019ll give you</div>\n<div>$99 worth of FREE gear!</div>\n</div>\n<div>\n<div class='upsell-thin avant-garde' style='display: inline-block'>Promo Code:</div>\n<div class='upsell-thin avant-garde-bold' style='display: inline-block'><b>99Cyber</b></div>\n</div>\n<div class='subscription-section'>\n<a class='button' ng-href='{{upsellCtrl.promoLink}}'>Subscribe</a>\n<div class='disclaimer'>While supplies last, certain restrictions apply</div>\n</div>\n</div>\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/reactivateSubscription.html",'<div class="modal-header">\n  <h3 class="modal-title">Reactivate Subscription</h3>\n</div>\n<form name="cancelForm">\n  <div class="modal-body">\n    <div class="alert reactivate-alert" ng-if="errorMessage">{{errorMessage}}</div>\n    <div class="admin-modal-subscription-card row">\n      <div class="site col-sm-24">\n        {{subscription.site.name}}\n      </div>\n      <div class="subscription-details col-sm-8">\n        <div class="subscription-period">\n          {{subscription.subscription_period}}\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <a class="cancel btn btn-no-outline" ng-click="$dismiss()">Cancel</a>\n    <button class="btn btn-primary modal-reactivate-subscription" ng-click="reactivateSubscription()" ng-disabled="cancelForm.$invalid || submitting">\n      Reactivate Subscription\n    </button>\n  </div>\n</form>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/referralModal.html","<div class='branded-modal'>\n<div class='branded-modal-header' ng-style='ctrl.headerStyles'>\n<div class='rivals-logo-navbar-black' ng-if='ctrl.settings.logo_background_shading == &quot;black&quot;'></div>\n<div class='rivals-logo-navbar-white' ng-if='ctrl.settings.logo_background_shading == &quot;white&quot;'></div>\n<div class='school-header'>\n<img ng-alt='{{ ctrl.site.friendly_name }}' ng-if='ctrl.settings.header_logo_cloudinary' ng-src='{{ ctrl.headerLogoImg }}'>\n<span class='header-text' ng-if='ctrl.settings.header_name &amp;&amp; ctrl.settings.header_name !== &quot;&quot;'>\n{{ ctrl.settings.header_name }}\n</span>\n<span class='header-text' ng-if='(!ctrl.settings.header_name || ctrl.settings.header_name == &quot;&quot;) &amp;&amp; !ctrl.settings.header_logo_cloudinary'>\n{{ ctrl.shortenedSiteName }}\n</span>\n</div>\n<div class='modal-dismiss' ng-click='$dismiss()'>\n<div class='dismiss-icon'></div>\n</div>\n</div>\n<div class='branded-modal-body'>\n<div class='branded-modal-title'>\n{{ ctrl.modalTitle|uppercase }}\n</div>\n<div class='branded-modal-subtitle branded-modal-text'>\n{{ ctrl.subtitleText|uppercase }}\n</div>\n<p class='branded-modal-text'>\n{{ ctrl.bodyText }}\n</p>\n<p class='small'>\nEnter this code at checkout.\n</p>\n<div class='code-container'>\n<div class='code-text'>\nCODE:\n<span class='promo-code'>\n{{ ctrl.promoCode }}\n</span>\n</div>\n</div>\n</div>\n<div class='branded-modal-footer'>\n<button class='btn-gradient' ng-style='ctrl.gradientStyles'>\n<a ng-href='{{ ctrl.signUpPath }}?promo_code={{ctrl.promoCode}}'>\nSubscribe\n</a>\n</button>\n<div class='footer-text small'>\nAlready a subscriber?\n<a href='{{ ctrl.signInPath }}'>Login</a>\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/removeGalleryImageModal.html","<form>\n<div class='delete-gallery-modal'>\n<div class='header'>\n<div class='title'>\n<span>Remove Image</span>\n<span class='close-modal-icon' ng-click='$dismiss()'></span>\n</div>\n</div>\n<div class='body'>\n<div class='info-wrapper'>\n<p class='info'>You are removing an image from the Gallery.</p>\n<p class='info'>The image will not be deleted from the database.</p>\n</div>\n</div>\n<div class='footer'>\n<label class='button dismiss' ng-click='$dismiss()'>\n<span>Cancel</span>\n</label>\n<label class='button confirm' ng-click='$close(true)'>\n<label class='submit-input'></label>\n<span>Remove</span>\n</label>\n</div>\n</div>\n</form>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/rvAdsConfig.html","<div class='block-input-body' ng-switch='properties.selection'>\n<div class='image-source-selection'>\n<button class='option choose-url-upload' ng-click='showImageEditModal(false)'>\n<label class='url-option'>\n<div class='rivals-icon-web'></div>\n<div class='upload-source-label'>URL</div>\n</label>\n</button>\n<div class='option-separator'></div>\n<button class='database-source option' ng-click='showSearchImageModal()'>\n<label class='database-option'>\n<div class='rivals-icon-database'></div>\n<div class='upload-source-label'>Search Database</div>\n</label>\n</button>\n<div class='option-separator'></div>\n<button class='upload-source option' ng-click='startUpload()'>\n<label class='upload-option'>\n<div class='rivals-icon-upload'></div>\n<div class='upload-source-label'>Your Device</div>\n</label>\n</button>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").controller("rvFullImageModalController",["$uibModalInstance","imageUrl",function(e,t){var n=this;n.imageUrl=t,n.close=function(){e.close()}}])}(),angular.module("templates").run(["$templateCache",function(e){e.put("modals/rvUpdateRankModal.html","<div class='new-modal'>\n<div class='modal-header-blue'>\n<div class='modal-title' ng-if='newVersion'>New Version</div>\n<div class='modal-title' ng-if='!newVersion'>Update Ranking</div>\n<div class='modal-dismiss' ng-click='ctrl.dismiss()'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n</div>\n<div class='edit-container'>\n<div class='image-edit'>\n<div class='modal-big-description' ng-if='newVersion'>\n<div>\n<b>Save New</b>\nto create a draft version of this ranking. The most recently published ranking\nwill continue to be the default ranking URL until this draft is published.\n</div>\n<br>\nPublished versions of rankings have unique URLs.\n</br>\n</div>\n<div class='modal-big-description' ng-if='!newVersion'>\n<b>Update</b>\nto automatically publish changes to the current version of the ranking\n</div>\n</div>\n</div>\n<div class='modal-footer modal-footer-white'>\n<a class='btn cancel btn-action' ng-click='ctrl.dismiss()'>Cancel</a>\n<button class='btn btn-primary btn-action' ng-click='ctrl.submit()' ng-if='!newVersion'>Update</button>\n<button class='btn btn-primary btn-action' ng-click='ctrl.submit()' ng-if='newVersion'>Save New</button>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/searchGalleries.html","<div class='search-galleries-modal'>\n<div class='modal-header modal-header-blue'>\n<div class='modal-title'>Search Gallery Database</div>\n<div class='modal-dismiss' ng-click='$dismiss()'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n</div>\n<div class='search'>\n<div class='search-dashboard'>\n<form class='bootstrap-form form-inline' ng-submit='ctrl.showImages()'>\n<div class='flex-container vertical-align search-inputs'>\n<div class='input-container description-input'>\n<input ng-model='ctrl.search.description' placeholder='Search' type='text'>\n<button class='btn search-submit-blue' ng-click='ctrl.searchGalleries()'></button>\n</div>\n<div class='search-filters'>\n<span class='inline-block input-label-primary'>DATE</span>\n<rv-filter-by-date filters='ctrl.filters' load-items='ctrl.loadItems' search='ctrl.search'></rv-filter-by-date>\n</div>\n<div class='site-filter-container search-filters'>\n<div class='select-container-arrow' ng-if='ctrl.showSites'>\n<select class='form-control site-dropdown' ng-model='ctrl.search.site' ng-options='option.name for option in ctrl.filters.siteOptions' ng-show='ctrl.showSites'></select>\n</div>\n</div>\n</div>\n</form>\n</div>\n<div class='modal-body'>\n<div class='gallery-count'>\n{{ctrl.galleryCount}}\n</div>\n<div class='empty-search-container' ng-if='!ctrl.splitGalleries || !ctrl.splitGalleries[0]'></div>\n<div class='galleries' ng-if='ctrl.splitGalleries &amp;&amp; ctrl.splitGalleries[0]'>\n<div class='div' ng-repeat='(key, value) in ctrl.splitGalleries'>\n<div class='gallery-row'>\n<div class='gallery-container' ng-repeat='gallery in value'>\n<div class='gallery' ng-click='ctrl.selectGallery(gallery)'>\n<div class='gallery-image'>\n<div class='absolute-container'>\n<div class='gallery-title'>\n{{gallery.name | ellipsifyString: 20}}\n</div>\n<div class='premium-white-icon' ng-if='gallery.premium'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n<div class='short-date'>\n{{gallery.live_at | timestampToDate}}\n</div>\n<div class='date-seperator'>-</div>\n<div class='photo-count'>\n{{gallery.photoCount}}\n</div>\n</div>\n<img ng-class='{selected: ctrl.isGallerySelected(gallery)}' ng-src='{{gallery.images[0].thumbnail_url}}'>\n<div class='icon-container' ng-click='ctrl.showHideDetails(gallery)'>\n<img class='information-icon' src='https://cdn.rivals.com/production/assets/icons/icons_info-bc1a0bb85e90411c2be322ab3ad32533daf82857f937ba3ca3aa22a51a85b97f.svg'>\n<div class='arrow-up' ng-show='gallery.detailsVisible == true'></div>\n</div>\n<div class='hover-overlay'></div>\n<div class='select-overlay'></div>\n<div class='image-hover-icon'></div>\n<div class='image-selected-icon'></div>\n</div>\n</div>\n</div>\n</div>\n<div class='details' ng-repeat='gallery in value' ng-show='gallery.detailsVisible == true'>\n<rv-gallery-flyout current-index='ctrl.currentIndex' gallery='gallery' index='ctrl.itemIndex(gallery)'></rv-gallery-flyout>\n</div>\n</div>\n</div>\n</div>\n<div class='modal-footer modal-footer-white' ng-if='ctrl.selectedGallery'>\n<a class='cancel btn btn-no-outline' ng-click='ctrl.$dismiss()'>\nCancel\n</a>\n<button class='btn btn-primary btn-action add-gallery-block' ng-click='ctrl.submitGallery()'>\nAdd\n</button>\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/searchListModal.html","<div class='list-modal'>\n<div class='modal-header-blue'>\n<div class='modal-title'>\n{{ title }}\n</div>\n<div class='modal-dismiss' ng-click='$dismiss()'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n</div>\n<div class='modal-body'>\n<form class='bootstrap-form form-inline'>\n<button class='btn btn-primary mobile-submit' ng-click='submit()'>Select</button>\n<div class='input-container'>\n<input autocomplete='off' name='list' ng-model='search.list' placeholder='Search lists' type='text' typeahead-loading='loading' typeahead-min-length='4' typeahead-wait-ms='400' uib-typeahead='list as list.name for list in getLists($viewValue)'>\n</div>\n<button class='btn btn-primary' ng-click='submit()'>Select</button>\n<div class='no-results'>\n<div class='text' ng-show='noResults'>No results found</div>\n</div>\n</form>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/searchMultipleImagesModal.html","<div class='search-images-modal'>\n<div class='modal-header modal-header-blue'>\n<div class='modal-title'>Search photo database</div>\n<div class='modal-dismiss' ng-click='$dismiss()'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n</div>\n<div class='links'>\n<label class='search-option' ng-click='selectPerson()'>\n<a ng-class='{&#39;selected&#39;: personSelected}'>\n<span ng-if='isMobile'>\nProspect\n</span>\n<span ng-if='!isMobile'>\nSearch by prospect\n</span>\n</a>\n</label>\n<label class='search-option description' ng-click='selectDescription()'>\n<a ng-class='{&#39;selected&#39;: descriptionSelected}'>\n<span ng-if='isMobile'>\nDescription\n</span>\n<span ng-if='!isMobile'>\nSearch by description\n</span>\n</a>\n</label>\n</div>\n<div class='search-dashboard'>\n<form class='search-inputs bootstrap-form' ng-if='personSelected'>\n<div class='input-container prospect'>\n<input autocomplete='off' class='input enable-invalid-highlight' name='prospectList' ng-model='prospectList.prospect' placeholder='Prospect' type='text' typeahead-min-length='2' typeahead-on-select='onProspectSelect($item)' typeahead-template-url='typeaheadTemplate.html' typeahead-wait-ms='400' uib-typeahead='prospect as prospect.full_name for prospect in getProspects($viewValue)'>\n</div>\n<div class='select-container-arrow years'>\n<select class='years form-control' ng-model='search.year' ng-options='year for year in years'>\n<option selected value=''>All Years</option>\n<option disabled selected value='{{search.year}}'>Year</option>\n</select>\n</div>\n</form>\n<form class='search-inputs bootstrap-form' ng-if='descriptionSelected' ng-submit='showImages()'>\n<div class='input-container description-input'>\n<input ng-model='search.description' placeholder='Search for keywords in a photo description.' required type='text'>\n<button class='btn search-submit-blue' ng-hide='personSelected &amp;&amp; viewImages'></button>\n</input>\n</div>\n<div class='image-filters vertical-align'>\n<rv-filter-by-date filters='filters' load-items='filterImages' search='search'></rv-filter-by-date>\n<div id='uploader-filter'>\n<input class='user-upload-input' ng-change='filterImages()' ng-model='filters.userUploads' type='checkbox'>\n<span>My uploads</span>\n</div>\n</div>\n</form>\n</div>\n<div class='modal-body'>\n<div class='empty-search-container' ng-if='!viewImages'>\n<div class='spinner' ng-if='loading'></div>\n<div class='empty-search' ng-if='newSearch &amp;&amp; !loading'>\n<div class='text' ng-if='personSelected'>\nSearch for a prospect\n</div>\n<div class='text' ng-if='descriptionSelected'>\nSearch for keywords\n</div>\n</div>\n<div class='no-results' ng-if='!newSearch &amp;&amp; !loading'>\n<div class='text'>No results found</div>\n</div>\n</div>\n<div class='images' ng-if='viewImages &amp;&amp; !loading'>\n<div class='select-all' ng-hide='singleUpload'>\n<input class='user-upload-input' ng-change='selectAll()' ng-model='filters.selectAll' type='checkbox'>\n<div>Select all</div>\n<div class='count'>\n{{filteredImages.length}} {{filteredImages.length == 1 ? 'image' : 'images' }}\n</div>\n</div>\n<div ng-repeat='(key, value) in splitImages'>\n<div class='image-row'>\n<div class='modal-image-container' ng-repeat='image in value'>\n<div class='image' ng-click='selectImage(image)'>\n<img ng-class='{selected: isImageSelected(image)}' ng-src='{{image.thumbnail_url}}'>\n<div class='hover-overlay'></div>\n<div class='select-overlay'></div>\n<div class='image-hover-icon'></div>\n<div class='image-selected-icon'></div>\n<div class='icon-container' ng-click='showHideDetails(image)'>\n<img class='information-icon' src='https://cdn.rivals.com/production/assets/icons/icons_info-bc1a0bb85e90411c2be322ab3ad32533daf82857f937ba3ca3aa22a51a85b97f.svg'>\n<div class='arrow-up' ng-show='image.detailsVisible == true'></div>\n</div>\n</div>\n</div>\n</div>\n<div ng-if='image.detailsVisible == true' ng-repeat='image in value'>\n<rv-image-details class='{{subject}}' id='{{&#39;details-&#39; + image.image_id }}' image='image' is-gallery='false' is-publishing='true'></rv-image-details>\n</div>\n</div>\n</div>\n</div>\n<div class='modal-footer modal-footer-white' ng-if='viewImages &amp;&amp; selectedImages.length &gt; 0'>\n<a class='cancel btn btn-no-outline' ng-click='$dismiss()'>\nCancel\n</a>\n<button class='btn btn-primary btn-action' ng-click='submitImages()'>\nAdd\n</button>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/searchTaggingCards.html","<div class='tag-player-modal'>\n<div class='tab-row' ng-show='modalType === &quot;tagging&quot;'>\n<div class='tab-left' ng-class='{&#39;active&#39;: selectedForSearch === &#39;prospect&#39;}' ng-click='selectedForSearch = &#39;prospect&#39;'>Tag a Prospect</div>\n<div class='tab-right' ng-class='{&#39;active&#39;: selectedForSearch === &#39;college&#39;}' ng-click='selectedForSearch = &#39;college&#39;'>Tag a College</div>\n</div>\n<header ng-show='selectedForSearch === &quot;prospect&quot;'>\n<h1 ng-show='modalType === &quot;card&quot;'>\nAdd a Player\n<span>Select a player</span>\n</h1>\n<nav>\n<div class='search-container'>\n<form>\n<div class='search-section'>\n<div class='search-bar-with-button'>\n<input class='search-bar' ng-model='searchQuery' ng-value='selectedText' placeholder='Search by first, last name' type='text'>\n<button class='search-button' ng-click='runSearch()' ng-init='searchQuery = selectedText; searchTextSubmitted = selectedText'></button>\n</div>\n<select class='year-search-dropdown' name='search-year' ng-model='searchYear'>\n<option disabled='true' value=''>Year</option>\n<option value=''>All</option>\n<option ng-repeat='year in getProspectYearRange()' ng-value='year'>{{ year }}</option>\n</select>\n</div>\n</form>\n</div>\n</nav>\n</header>\n<section ng-show='selectedForSearch === &quot;prospect&quot;'>\n<header>\n<span class='name'>Name</span>\n<span class='position'>Position</span>\n<span class='city'>City</span>\n<span class='year'>Recruiting Year</span>\n</header>\n<div class='spinner' ng-class='{&#39;showing&#39;: !players &amp;&amp; searchStarted}'></div>\n<p class='no-results' ng-class='{&#39;showing&#39;: players &amp;&amp; players.length === 0}'>No search results for {{ searchTextSubmitted }}</p>\n<ol ng-class='{&#39;showing&#39;: players &amp;&amp; players.length &gt; 0}'>\n<li ng-repeat='player in players'>\n<input id='{{ getPlayerId(player) }}' ng-model='$parent.selectedPlayer' ng-value='player' type='radio'>\n<label for='{{ getPlayerId(player) }}'>\n<span class='name'>{{player.first_name + ' ' + player.last_name}}</span>\n<span class='position'>{{player.position}}</span>\n<span class='city'>{{formatCityState(player)}}</span>\n<span class='year'>{{player.year}}</span>\n</label>\n</li>\n</ol>\n</section>\n<footer ng-show='selectedForSearch === &quot;prospect&quot;'>\n<label class='tag-player-label' ng-if='!rankEditor'>\n<input ng-model='$parent.associatePlayerWithArticle' type='checkbox'>Tag to player profile</input>\n</label>\n<nav>\n<button class='btm btn-no-outline close' ng-click='modal.close()'>Close</button>\n<button class='btn btn-primary' ng-click='modal.close({selectedContent: selectedPlayer, associatePlayerWithArticle: associatePlayerWithArticle, searchPlayerType: &quot;Prospect&quot;, contentType: &quot;prospect&quot;})' ng-disabled='!selectedPlayer'>Add</button>\n</nav>\n</footer>\n<header ng-show='selectedForSearch === &quot;college&quot;'>\n<nav></nav>\n<div class='search-container'>\n<form>\n<div class='search-section'>\n<div class='search-bar-with-button'>\n<input class='search-bar no-player-type' ng-model='searchQuery' ng-value='selectedText' placeholder='Search for a college' type='text'>\n<button class='search-button' ng-click='getColleges(searchQuery)' ng-disabled='!searchPlayerType' ng-init='searchQuery = selectedText; searchTextSubmitted = selectedText'></button>\n</div>\n</div>\n</form>\n</div>\n</header>\n<section ng-show='selectedForSearch === &quot;college&quot;'>\n<header>\n<span class='name'>College</span>\n</header>\n<div class='spinner' ng-class='{&#39;showing&#39;: !colleges &amp;&amp; searchStarted}'></div>\n<p class='no-results' ng-class='{&#39;showing&#39;: colleges &amp;&amp; colleges.length === 0}'>No search results for {{ searchTextSubmitted }}</p>\n<ol ng-class='{&#39;showing&#39;: colleges &amp;&amp; colleges.length &gt; 0}'>\n<li ng-repeat='college in colleges'>\n<input id='{{ getCollegeId(college) }}' ng-model='$parent.selectedCollege' ng-value='college' type='radio'>\n<label for='{{ getCollegeId(college) }}'>\n<span class='name'>{{ college.common_name }} ({{ college.site }})</span>\n</label>\n</li>\n</ol>\n</section>\n<footer ng-show='selectedForSearch === &quot;college&quot;'>\n<nav>\n<button class='btm btn-no-outline close' ng-click='modal.close()'>Close</button>\n<button class='btn btn-primary' ng-click='modal.close({selectedContent: selectedCollege, contentType: &quot;college&quot;})' ng-disabled='!selectedCollege'>Add</button>\n</nav>\n</footer>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/selectList.html","<div class='block-input-heading'>Select a Ranking or Roster</div>\n<div class='list-source-selection image-source-selection'>\n<div class='option'>\n<input class='list-url' id='list-url' name='list_url' placeholder='Copy and paste url' type='text'>\n<button class='insert-url' ng-click='findList()'>Insert</button>\n</div>\n<div class='option-separator'></div>\n<div class='option' ng-click='openSearchListModal()'>\n<label class='database-option'>\n<div class='rivals-icon-database'></div>\n<div class='upload-source-label'>Search Database</div>\n</label>\n</div>\n<div class='close-sub-block' ng-click='close()'>\n&times;\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/shareProspectModal.html","<div class='share-prospect-modal'>\n<div class='upper-section'>\n<img class='close-x' ng-click='ctrl.close()' src='https://cdn.rivals.com/production/assets/icons/icons_close_modal_gray-c9f44b7ef5c5a8b6fb469c27cc56f1d3b506d191be435540ff77ff3b910f62eb.svg'>\n<iframe ng-src='{{ctrl.prospectCardImage}}'></iframe>\n</div>\n<div class='lower-section'>\n<a href='' ng-click='ctrl.shareFacebook()'>\n<div class='facebook-btn-circle share-button'></div>\n</a>\n<a href='' ng-click='ctrl.shareTwitter()'>\n<div class='twitter-btn-circle share-button'></div>\n</a>\n<a href='' ng-click='ctrl.shareReddit()'>\n<div class='reddit-btn-circle share-button'></div>\n</a>\n<a href='' ng-click='ctrl.showEmbed()'>\n<div class='embed-btn-circle share-button'></div>\n</a>\n<a ng-click='ctrl.close()' ng-href='{{ctrl.buildEmailLink()}}'>\n<div class='email-btn-circle share-button'></div>\n</a>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/surveyMonkeyModal.html","<div class='survey-monkey-modal edit-modal'>\n<div class='modal-header-blue survey-header'>\n<div class='modal-title'>\nGive Feedback\n</div>\n<div class='modal-dismiss' ng-click='$dismiss()'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n</div>\n<div class='modal-body survey'>\n<iframe height='100%' ng-src='{{ctrl.getSurveySrc()}}' width='100%'></iframe>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/upgradeSubscription.html","<div class='modal-header'>\n<h3 class='modal-title'>\nUpgrade subscription to annual\n</h3>\n</div>\n<form name='upgradeForm'>\n<div class='modal-body'>\n<div class='alert' ng-if='errorMessage'>{{errorMessage}}</div>\n<div class='upgrade-details'>\n<order-summary address='userAddress' change='&#39;END&#39;' refund='&#39;true&#39;' selected-plan='selectedPlan' site-id='siteId' subscription='subscription'></order-summary>\n<order-summary address='userAddress' change='&#39;START&#39;' promotion='ctrl.promotion' selected-plan='selectedPlan' site-id='siteId'></order-summary>\n<promo-code ng-hide='obiStatus &amp;&amp; !obiPromotions' promotion-error='ctrl.promotion = null' promotion-success='ctrl.promotion = $promotion' selected-plan='selectedPlan' site-id='siteId'>\n<input id='promo_code' name='promo_code' ng-model='properties.promoCode' type='text'>\n</promo-code>\n<div class='details-group'>\n<textarea class='note form-control mtxl' name='note' ng-model='note' placeholder='Note' type='text'></textarea>\n</div>\n</div>\n</div>\n<div class='modal-footer'>\n<a class='cancel btn btn-no-outline' ng-click='$dismiss()'>\nCancel\n</a>\n<button class='btn btn-primary upgrade-subscription' ng-click='upgradeSubscription()' ng-disabled='upgradeForm.$invalid || submitting'>\nUpgrade\n</button>\n</div>\n</form>");
}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/userForecastModal.html","<div class='user-forecast-modal'>\n<div class='close-modal' ng-click='ctrl.dismiss()'></div>\n<div class='modal-header'>\n<div class='forecast-logo' ng-class='ctrl.isAdmin ? &#39;futurecast-logo-black&#39; : &#39;fan-futurecast-logo-black-sm&#39;' ng-cloak></div>\n<div class='text' ng-if='!ctrl.upsell &amp;&amp; ctrl.showTitle()'>Where will {{ctrl.prospect.first_name}} play?</div>\n<div class='text' ng-if='ctrl.hasError()'>\n<div class='error-icon'></div>\nForecast unsuccessful\n</div>\n<div class='text' ng-if='ctrl.saved'>\n<div class='saved-icon'></div>\nForecast saved\n</div>\n<div class='text secondary-text' ng-if='ctrl.upsell &amp;&amp; !ctrl.saved'>Forecast where your favorite player will play.</div>\n<div class='text secondary-text' ng-if='ctrl.upsell &amp;&amp; ctrl.saved'>Make another forecast</div>\n</div>\n<div class='modal-body'>\n<div class='search-container bootstrap-form' ng-if='ctrl.upsell'>\n<div class='dropdown-text'>\n<span class='header-text'>Prospect Name</span>\n</div>\n<input autocomplete='off' class='search-prospect' name='prospect' ng-class='{&#39;error&#39;: ctrl.errorProspectMessage}' ng-model='ctrl.prospect' placeholder='Search for a prospect name' type='text' typeahead-min-length='2' typeahead-on-select='ctrl.onProspectSelect($item)' typeahead-template-url='typeaheadTemplate.html' typeahead-wait-ms='400' uib-typeahead='prospect as prospect.full_name for prospect in ctrl.getProspects($viewValue)'>\n<div class='search-icon' ng-if='!ctrl.prospect'></div>\n<div class='clear-icon' ng-click='ctrl.clearProspect()' ng-if='ctrl.prospect'></div>\n<span class='error-reason reduced' ng-show='ctrl.errorProspectMessage'>\n{{ ctrl.errorProspectMessage }}\n</span>\n</div>\n<div class='dropdown-text'>\n<span class='header-text'>Select a school from the prospect\u2019s schools of interest</span>\n</div>\n<div class='select-school-container'>\n<ui-select ng-change='ctrl.selectCollege(ctrl.selectedSchoolInterest)' ng-class='{&#39;error&#39;: ctrl.errorSchoolMessage}' ng-disabled='ctrl.disableForm || ctrl.errorProspectMessage' ng-model='ctrl.selectedSchoolInterest' theme='selectize'>\n<ui-select-match allow-clear='false' placeholder='Select a school'>\n<div class='option-selection'>\n<img class='selected-college-logo' ng-src='{{ctrl.selectedSchoolInterest.team_logo}}'>\n<div class='selected-college-name'>{{ ctrl.selectedSchoolInterest.team_name }}</div>\n</div>\n</ui-select-match>\n<ui-select-choices repeat='college in ctrl.prospectInterests | filter: $select.search'>\n<div class='option-body'>\n<img class='dropdown-college-logo' src='{{college.team_logo}}'>\n<div class='dropdown-college-name'>{{ college.team_name }}</div>\n</div>\n</ui-select-choices>\n</ui-select>\n<span class='error-reason reduced' ng-show='ctrl.errorSchoolMessage'>\n{{ ctrl.errorSchoolMessage }}\n</span>\n</div>\n<div ng-if='ctrl.isAdmin'>\n<div class='dropdown-text'>\n<span class='header-text'>Reason for forecast</span>\n<span class='optional'>Optional</span>\n</div>\n<textarea class='reason' maxlength='200' name='forecastReason' ng-disabled='ctrl.disableForm || ctrl.errorProspectMessage' ng-model='ctrl.forecastReason'></textarea>\n<div class='remaining'>\n{{ \"200\" - ctrl.forecastReason.length }} characters remaining\n</div>\n</div>\n</div>\n<div class='modal-footer'>\n<div class='btn-gradient forecast-button' ng-click='ctrl.save()' ng-if='!ctrl.isAdmin'>Make FanFuturecast</div>\n<div class='btn-gradient forecast-button' ng-click='ctrl.save()' ng-if='ctrl.isAdmin'>Make Futurecast</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("modals/warningModal.html","<div class='modal-header'>\n<div class='modal-dismiss' ng-click='$dismiss()'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close_blue-4cb03208ca7bb7f3331265f5800bd61aaa046b5bcad2ab390f098b757c1d0e20.svg'>\n</div>\n</div>\n<div class='modal-body'>\n<div class='content'>\n<div>\n{{ lineOne }}\n</div>\n<div>\n{{ lineTwo }}\n</div>\n</div>\n</div>\n<hr>\n<div class='modal-footer'>\n<a class='admin-btn-gray btn btn-list' ng-click='$close({discard: true})'>{{ cancelButton }}</a>\n<button class='btn btn-list rivals-blue' ng-click='$close()' ng-if='confirmButton'>{{ confirmButton }}</button>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("moreSettings.html","<div class='more-homepage-settings'>\n<div class='more-settings-item'>\n<div class='more-settings-item-title' ng-click='$ctrl.toggleOpenItem(&#39;Schedule Header Module&#39;)' ng-if='$ctrl.isSuperadmin'>\nSchedule Header Module\n<div class='selected-item-highlight' ng-if='$ctrl.openItem == &#39;Schedule Header Module&#39;'></div>\n</div>\n<div class='more-settings-item-contents' ng-if='$ctrl.openItem == &#39;Schedule Header Module&#39;'>\n<div class='more-settings-item-body'>\n<div class='settings-option'>\n<div class='settings-text'>\n<div class='settings-title'>\n{{$ctrl.scheduleHeader.moduleOn ? 'On' : 'Off'}}\n</div>\n<div class='toggle-box'>\n<div class='toggle-background' ng-class='{&#39;switch-on&#39;: $ctrl.scheduleHeader.moduleOn}' ng-click='$ctrl.scheduleHeader.moduleOn = !$ctrl.scheduleHeader.moduleOn; $ctrl.changes[&quot;Schedule Header Module&quot;] = true'>\n<img class='toggle-switch' id='toggleScheduleHeaderOn' ng-cloak ng-if='!$ctrl.scheduleHeader.moduleOn' src='https://cdn.rivals.com/production/assets/icons/icons_large_toggle_off-87c27eed7b8fa150f882e89e32089c7655c6d0830c2c9e10b04310bcf1425b49.svg'>\n<img class='toggle-switch' id='toggleScheduleHeaderOn' ng-cloak ng-if='$ctrl.scheduleHeader.moduleOn' src='https://cdn.rivals.com/production/assets/icons/icons_large_toggle_on-0b0c85344020a6889a1cacee881a129178cd837291d4e2d41a77c72a047a5aed.svg'>\n</div>\n</div>\n</div>\n</div>\n<div class='settings-option submit'>\n<div class='submit-button-block'>\n<div class='submit-button-box'>\n<button class='btn btn-primary-short publish-button' ng-class='{&#39;disabled&#39;: !$ctrl.changes[&#39;Schedule Header Module&#39;]}' ng-click='$ctrl.parseScheduleModuleParams()'>\nUpdate\n</button>\n</div>\n<div class='cancel-button-box' ng-cloak>\n<button class='btn btn-primary-short btn-gray' ng-class='{&#39;disabled&#39;: !$ctrl.changes[&#39;Schedule Header Module&#39;]}' ng-click='$ctrl.doubleCheckChanges(&quot;Schedule Header Module&quot;)'>\nCancel\n</button>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='more-settings-item-title' ng-click='$ctrl.toggleOpenItem(&#39;Target List Module&#39;)'>\nTarget List Module\n<div class='selected-item-highlight' ng-if='$ctrl.openItem == &#39;Target List Module&#39;'></div>\n</div>\n<div class='more-settings-item-contents' ng-if='$ctrl.openItem == &#39;Target List Module&#39;'>\n<div class='more-settings-item-body'>\n<div class='settings-option'>\n<div class='settings-text'>\n<div class='settings-title'>\n{{$ctrl.targetList.moduleOn ? 'On' : 'Off'}}\n</div>\n<div class='toggle-box'>\n<div class='toggle-background' ng-class='{&#39;switch-on&#39;: $ctrl.targetList.moduleOn}' ng-click='$ctrl.targetList.moduleOn = !$ctrl.targetList.moduleOn; $ctrl.changes[&quot;Target List Module&quot;] = true'>\n<img class='toggle-switch' id='toggleTargetListOn' ng-cloak ng-if='!$ctrl.targetList.moduleOn' src='https://cdn.rivals.com/production/assets/icons/icons_large_toggle_off-87c27eed7b8fa150f882e89e32089c7655c6d0830c2c9e10b04310bcf1425b49.svg'>\n<img class='toggle-switch' id='toggleTargetListOn' ng-cloak ng-if='$ctrl.targetList.moduleOn' src='https://cdn.rivals.com/production/assets/icons/icons_large_toggle_on-0b0c85344020a6889a1cacee881a129178cd837291d4e2d41a77c72a047a5aed.svg'>\n</div>\n</div>\n</div>\n</div>\n<div class='settings-option submit'>\n<div class='submit-button-block'>\n<div class='submit-button-box'>\n<button class='btn btn-primary-short publish-button' ng-class='{&#39;disabled&#39;: !$ctrl.changes[&#39;Target List Module&#39;]}' ng-click='$ctrl.parseTargetListModuleParams()'>\nUpdate\n</button>\n</div>\n<div class='cancel-button-box' ng-cloak>\n<button class='btn btn-primary-short btn-gray' ng-class='{&#39;disabled&#39;: !$ctrl.changes[&#39;Target List Module&#39;]}' ng-click='$ctrl.doubleCheckChanges(&quot;Target List Module&quot;)'>\nCancel\n</button>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='more-settings-item-title' ng-click='$ctrl.toggleOpenItem(&#39;Article Promo Popup&#39;)'>\nPromotion Popup on Articles\n<div class='selected-item-highlight' ng-if='$ctrl.openItem == &#39;Article Promo Popup&#39;'></div>\n</div>\n<div class='more-settings-item-contents' ng-if='$ctrl.openItem == &#39;Article Promo Popup&#39;'>\n<div class='more-settings-item-body'>\n<div class='settings-option'>\n<div class='settings-text'>\n<div class='settings-title'>{{$ctrl.showPromoPopup ? 'On' : 'Off'}}</div>\n<div class='toggle-box'>\n<div class='toggle-background' ng-class='{&#39;switch-on&#39;: $ctrl.showPromoPopup}' ng-click='$ctrl.showPromoPopup = !$ctrl.showPromoPopup; $ctrl.changes[&quot;Article Promo Popup&quot;] = true'>\n<img class='toggle-switch' id='toggleArticlePromoPopupOff' ng-cloak ng-if='!$ctrl.showPromoPopup' src='https://cdn.rivals.com/production/assets/icons/icons_large_toggle_off-87c27eed7b8fa150f882e89e32089c7655c6d0830c2c9e10b04310bcf1425b49.svg'>\n<img class='toggle-switch' id='toggleArticlePromoPopupOn' ng-cloak ng-if='$ctrl.showPromoPopup' src='https://cdn.rivals.com/production/assets/icons/icons_large_toggle_on-0b0c85344020a6889a1cacee881a129178cd837291d4e2d41a77c72a047a5aed.svg'>\n</div>\n</div>\n</div>\n</div>\n<div class='settings-option submit'>\n<div class='submit-button-block'>\n<div class='submit-button-box'>\n<button class='btn btn-primary-short publish-button' ng-class='{&#39;disabled&#39;: !$ctrl.changes[&#39;Article Promo Popup&#39;]}' ng-click='$ctrl.parseArticlePromoPopupParams()'>\nUpdate\n</button>\n</div>\n<div class='cancel-button-box' ng-cloak>\n<button class='btn btn-primary-short btn-gray' ng-class='{&#39;disabled&#39;: !$ctrl.changes[&#39;Article Promo Popup&#39;]}' ng-click='$ctrl.doubleCheckChanges(&quot;Article Promo Popup&quot;)'>\nCancel\n</button>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='more-settings-item-title' ng-click='$ctrl.toggleOpenItem(&#39;Article Filters&#39;)'>\nArticle Filters\n<div class='selected-item-highlight' ng-if='$ctrl.openItem == &#39;Article Filters&#39;'></div>\n</div>\n<div class='more-settings-item-contents' ng-if='$ctrl.openItem == &#39;Article Filters&#39;'>\n<div class='more-settings-item-body'>\n<div class='settings-option'>\n<div class='settings-text'>\nSelect which sports filters to show on the homepage.\n</div>\n</div>\n<ul class='settings-options' ng-repeat='setting in $ctrl.articleFilters'>\n<li class='settings-option'>\n<div class='settings-text' ng-class='{&#39;selected-setting&#39;: $ctrl.articleFilterSettings[setting]}'>\n{{setting}}\n</div>\n<div class='toggle-box'>\n<div class='toggle-background' ng-class='{&#39;switch-on&#39;: $ctrl.articleFilterSettings[setting]}' ng-click='$ctrl.articleFilterSettings[setting] = !$ctrl.articleFilterSettings[setting]; $ctrl.changes = true'>\n<img class='toggle-switch' id='toggle{{setting}}' ng-cloak ng-if='!$ctrl.articleFilterSettings[setting]' src='https://cdn.rivals.com/production/assets/icons/icons_large_toggle_off-87c27eed7b8fa150f882e89e32089c7655c6d0830c2c9e10b04310bcf1425b49.svg'>\n<img class='toggle-switch' id='toggle{{setting}}' ng-cloak ng-if='$ctrl.articleFilterSettings[setting]' src='https://cdn.rivals.com/production/assets/icons/icons_large_toggle_on-0b0c85344020a6889a1cacee881a129178cd837291d4e2d41a77c72a047a5aed.svg'>\n</div>\n</div>\n</li>\n</ul>\n<div class='settings-option submit'>\n<div class='submit-button-block'>\n<div class='submit-button-box'>\n<button class='btn btn-primary-short publish-button' ng-class='{&#39;disabled&#39;: $ctrl.changes[&#39;Article Filters&#39;] == false}' ng-click='$ctrl.parseArticleFiltersParams()'>\nUpdate\n</button>\n</div>\n<div class='cancel-button-box' ng-cloak>\n<button class='btn btn-primary-short btn-gray' ng-class='{&#39;disabled&#39;: $ctrl.changes[&#39;Article Filters&#39;] == false}' ng-click='$ctrl.doubleCheckChanges(&quot;Article Filters&quot;)'>\nCancel\n</button>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='more-settings-item-title' ng-click='$ctrl.toggleOpenItem(&#39;Follow Buttons&#39;)'>\nFollow Buttons\n<div class='selected-item-highlight' ng-if='$ctrl.openItem == &#39;Follow Buttons&#39;'></div>\n</div>\n<div class='more-settings-item-contents' ng-if='$ctrl.openItem == &#39;Follow Buttons&#39;'>\n<div class='more-settings-item-body'>\n<div class='settings-option'>\n<div class='settings-text'>\nSelect the follow buttons to display on the homepage.\n</div>\n</div>\n<div class='settings-option'>\n<div class='settings-text'>\n<div class='selection-row' ng-click='$ctrl.followButtons[&quot;showTwitterFollow&quot;] = !$ctrl.followButtons[&quot;showTwitterFollow&quot;]; $ctrl.changes[&quot;Follow Buttons&quot;] = true; $ctrl.followButtonCheck(&quot;Twitter&quot;)'>\n<input class='follow-checkbox' id='followTwitterCheckbox' ng-click='$ctrl.followButtons[&quot;showTwitterFollow&quot;] = !$ctrl.followButtons[&quot;showTwitterFollow&quot;]; $ctrl.changes[&quot;Follow Buttons&quot;] = true; $ctrl.followButtonCheck(&quot;Twitter&quot;)' ng-model='$ctrl.followButtons[&quot;showTwitterFollow&quot;]' ng-value type='checkbox'>\n<div class='follow-handle'>\nTwitter\n</div>\n</div>\n</div>\n<div class='settings-text handles' ng-show='$ctrl.followButtons[&quot;showTwitterFollow&quot;]'>\nTwitter Handle\n</div>\n<input class='settings-text text-inputs' id='followTwitterText' ng-change='$ctrl.changes[&quot;Follow Buttons&quot;] = true; $ctrl.isFollowButtonValid(&quot;Twitter&quot;)' ng-class='{&#39;disabled-text-input&#39;: !$ctrl.followButtons[&#39;showTwitterFollow&#39;]}' ng-disabled='!$ctrl.followButtons[&quot;showTwitterFollow&quot;]' ng-model='$ctrl.followButtons[&quot;followTwitter&quot;]' ng-show='$ctrl.followButtons[&quot;showTwitterFollow&quot;]' type='text'>\n<div class='settings-text error-messages' ng-if='$ctrl.validFollowButtons[&#39;Twitter&#39;] == false'>\nInvalid Twitter handle\n</div>\n</div>\n<div class='settings-option'>\n<div class='settings-text'>\n<div class='selection-row' ng-click='$ctrl.followButtons[&quot;showFacebookFollow&quot;] = !$ctrl.followButtons[&quot;showFacebookFollow&quot;]; $ctrl.changes[&quot;Follow Buttons&quot;] = true; $ctrl.followButtonCheck(&quot;Facebook&quot;)'>\n<input class='follow-checkbox' id='followFacebookCheckbox' ng-click='$ctrl.followButtons[&quot;showFacebookFollow&quot;] = !$ctrl.followButtons[&quot;showFacebookFollow&quot;]; $ctrl.changes[&quot;Follow Buttons&quot;] = true; $ctrl.followButtonCheck(&quot;Facebook&quot;)' ng-model='$ctrl.followButtons[&quot;showFacebookFollow&quot;]' ng-value type='checkbox'>\n<div class='follow-handle'>\nFacebook\n</div>\n</div>\n</div>\n<div class='settings-text handles' ng-show='$ctrl.followButtons[&quot;showFacebookFollow&quot;]'>\nFacebook Page\n</div>\n<input class='settings-text text-inputs' id='followFacebookText' ng-change='$ctrl.changes[&quot;Follow Buttons&quot;] = true; $ctrl.isFollowButtonValid(&quot;Facebook&quot;)' ng-class='{&#39;disabled-text-input&#39;: !$ctrl.followButtons[&#39;showFacebookFollow&#39;]}' ng-disabled='!$ctrl.followButtons[&quot;showFacebookFollow&quot;]' ng-model='$ctrl.followButtons[&quot;followFacebook&quot;]' ng-show='$ctrl.followButtons[&quot;showFacebookFollow&quot;]' type='text'>\n<div class='settings-text error-messages' ng-if='$ctrl.validFollowButtons[&#39;Facebook&#39;] == false'>\nInvalid Facebook page name\n</div>\n</div>\n<div class='settings-option submit'>\n<div class='submit-button-block'>\n<div class='submit-button-box'>\n<button class='btn btn-primary-short publish-button' ng-class='{&#39;disabled&#39;: $ctrl.saveFollowButtons === false}' ng-click='$ctrl.parseFollowButtonsParams()' ng-disabled='$ctrl.saveFollowButtons === false'>\nUpdate\n</button>\n</div>\n<div class='cancel-button-box' ng-cloak>\n<button class='btn btn-primary-short btn-gray' ng-class='{&#39;disabled&#39;: $ctrl.changes[&#39;Follow Buttons&#39;] == false}' ng-click='$ctrl.doubleCheckChanges(&quot;Follow Buttons&quot;)' ng-disabled='$ctrl.changes[&#39;Follow Buttons&#39;] == false'>\nCancel\n</button>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='more-settings-item-title' ng-click='$ctrl.toggleOpenItem(&#39;Headline News Links&#39;)'>\nHeadline News Links\n<div class='selected-item-highlight' ng-if='$ctrl.openItem == &#39;Headline News Links&#39;'></div>\n</div>\n<div class='more-settings-item-contents' ng-if='$ctrl.openItem == &#39;Headline News Links&#39;'>\n<div class='more-settings-item-body'>\n<div class='settings-option'>\n<div class='settings-text'>\nDefault links display under the headline news when associated links for the primary article are not set.\n</div>\n<div class='settings-text handles'>\nLink 1 Display Text\n</div>\n<input class='settings-text text-inputs' id='link1DisplayText' ng-change='$ctrl.changes[&quot;Headline News Links&quot;] = true; $ctrl.validHeadlineNewsLinksSave()' ng-model='$ctrl.linkOne[&quot;text&quot;]' type='text'>\n<div class='settings-text handles'>\nLink 1 Url\n</div>\n<input class='settings-text text-inputs' id='link1Url' ng-change='$ctrl.changes[&quot;Headline News Links&quot;] = true; $ctrl.validHeadlineNewsLinksSave(); $ctrl.linkOne[&quot;validUrl&quot;] = true' ng-model='$ctrl.linkOne[&quot;url&quot;]' type='text'>\n<div class='settings-text error-messages' ng-if='!$ctrl.linkOne[&quot;validUrl&quot;]'>\nInvalid URL\n</div>\n</div>\n<div class='settings-option'>\n<div class='settings-text handles top'>\nLink 2 Display Text\n</div>\n<input class='settings-text text-inputs' id='link2DisplayText' ng-change='$ctrl.changes[&quot;Headline News Links&quot;] = true; $ctrl.validHeadlineNewsLinksSave()' ng-model='$ctrl.linkTwo[&quot;text&quot;]' type='text'>\n<div class='settings-text handles'>\nLink 2 Url\n</div>\n<input class='settings-text text-inputs' id='link2Url' ng-change='$ctrl.changes[&quot;Headline News Links&quot;] = true; $ctrl.validHeadlineNewsLinksSave(); $ctrl.linkTwo[&quot;validUrl&quot;] = true' ng-model='$ctrl.linkTwo[&quot;url&quot;]' type='text'>\n<div class='settings-text error-messages bottom' ng-if='!$ctrl.linkTwo[&quot;validUrl&quot;]'>\nInvalid URL\n</div>\n<div class='settings-text submit'>\n<div class='submit-button-block'>\n<div class='submit-button-box'>\n<button class='btn btn-primary-short publish-button' ng-class='{&#39;disabled&#39;: $ctrl.saveAssociatedLinks === false }' ng-click='$ctrl.parseHeadlineNewsLinksParams()' ng-disabled='$ctrl.saveAssociatedLinks === false'>\n<div class='update-text' ng-if='$ctrl.associatedLinks.length &gt; 0'>\nUpdate\n</div>\n<div class='publish-text' ng-if='$ctrl.associatedLinks.length == 0'>\nPublish\n</div>\n</button>\n</div>\n<div class='cancel-button-box' ng-cloak>\n<button class='btn btn-primary-short btn-gray' ng-class='{&#39;disabled&#39;: $ctrl.changes[&#39;Headline News Links&#39;] == false}' ng-click='$ctrl.doubleCheckChanges(&quot;Headline News Links&quot;)'>\nCancel\n</button>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='more-settings-item-title' ng-click='$ctrl.toggleOpenItem(&#39;Forums Module&#39;)'>\nForums Module\n<div class='selected-item-highlight' ng-if='$ctrl.openItem == &#39;Forums Module&#39;'></div>\n</div>\n<div class='more-settings-item-contents' ng-if='$ctrl.openItem == &#39;Forums Module&#39;'>\n<div class='more-settings-item-body'>\n<div class='settings-option'>\n<div class='settings-text'>\nSelect the Forums Module URL\n</div>\n</div>\n<div class='settings-option'>\n<div class='settings-text'>\n<div class='selection-row' ng-click='$ctrl.isDefaultModuleUrl = true'>\n<input class='radio-button' id='defaultModuleLink' ng-click='$ctrl.changes[&quot;Forums Module&quot;] = true; $ctrl.moduleLink[&quot;url&quot;] = $ctrl.defaultModuleUrl; $ctrl.validForumsModuleSave()' ng-model='$ctrl.isDefaultModuleUrl' ng-value='true' type='radio'>\n<div class='follow-handle'>\nDefault\n</div>\n</div>\n</div>\n<div class='settings-text selections'>\n<div class='selection-row' ng-click='$ctrl.isDefaultModuleUrl = false'>\n<input class='radio-button' id='customModuleLink' ng-click='$ctrl.changes[&quot;Forums Module&quot;] = true; $ctrl.moduleLink[&quot;url&quot;] = $ctrl.customLink; $ctrl.validForumsModuleSave()' ng-model='$ctrl.isDefaultModuleUrl' ng-value='false' type='radio'>\n<div class='follow-handle'>\nCustom\n</div>\n</div>\n</div>\n<div class='settings-text handles'>\nCustom Url\n</div>\n<input class='settings-text text-inputs' id='customModuleUrl' ng-change='$ctrl.changes[&quot;Forums Module&quot;] = true; $ctrl.moduleLink[&quot;url&quot;] = $ctrl.customLink; $ctrl.validForumsModuleSave(); $ctrl.moduleLink[&quot;validUrl&quot;] = true' ng-class='{&#39;disabled-text-input&#39;: $ctrl.isDefaultModuleUrl}' ng-disabled='$ctrl.isDefaultModuleUrl' ng-model='$ctrl.customLink' type='text'>\n<div class='settings-text error-messages' ng-if='!$ctrl.moduleLink[&quot;validUrl&quot;]'>\nInvalid URL\n</div>\n</div>\n<div class='settings-option submit'>\n<div class='submit-button-block'>\n<div class='submit-button-box'>\n<button class='btn btn-primary-short publish-button' ng-class='{&#39;disabled&#39;: !$ctrl.saveForumsModule }' ng-click='$ctrl.parseForumsModuleParams()' ng-disabled='!$ctrl.saveForumsModule'>\nUpdate\n</button>\n</div>\n<div class='cancel-button-box' ng-cloak>\n<button class='btn btn-primary-short btn-gray' ng-class='{&#39;disabled&#39;: $ctrl.changes[&#39;Forums Module&#39;] == false}' ng-click='$ctrl.doubleCheckChanges(&quot;Forums Module&quot;)'>\nCancel\n</button>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='more-settings-item-title' ng-click='$ctrl.toggleOpenItem(&#39;Facebook Developer ID&#39;)'>\nFacebook Developer ID\n<div class='selected-item-highlight' ng-if='$ctrl.openItem == &#39;Facebook Developer ID&#39;'></div>\n</div>\n<div class='more-settings-item-contents' ng-if='$ctrl.openItem == &#39;Facebook Developer ID&#39;'>\n<div class='more-settings-item-body'>\n<div class='settings-option'>\n<div class='settings-text'>\nAdd a Facebook developer ID to better manage Rivals links on your Facebook page.\n</div>\n</div>\n<div class='settings-option'>\n<div class='settings-text handles top'>\nFacebook Developer ID\n</div>\n<input class='settings-text text-inputs' id='facebookDevId' ng-change='$ctrl.changes[&quot;Facebook Developer ID&quot;] = true' ng-model='$ctrl.facebookDeveloperId' type='text'>\n</div>\n<div class='settings-option submit'>\n<div class='submit-button-block'>\n<div class='submit-button-box'>\n<button class='btn btn-primary-short publish-button' ng-class='{&#39;disabled&#39;: !$ctrl.changes[&#39;Facebook Developer ID&#39;]}' ng-click='$ctrl.parseFacebookDevIdParams()'>\nUpdate\n</button>\n</div>\n<div class='cancel-button-box' ng-cloak>\n<button class='btn btn-primary-short btn-gray' ng-class='{&#39;disabled&#39;: !$ctrl.changes[&#39;Facebook Developer ID&#39;]}' ng-click='$ctrl.doubleCheckChanges(&quot;Facebook Developer ID&quot;)'>\nCancel\n</button>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='more-settings-item-title' ng-click='$ctrl.toggleOpenItem(&#39;Survey Monkey&#39;)'>\nSurvey Monkey Popup\n<div class='selected-item-highlight' ng-if='$ctrl.openItem == &#39;Survey Monkey&#39;'></div>\n</div>\n<div class='more-settings-item-contents' ng-if='$ctrl.openItem == &#39;Survey Monkey&#39;'>\n<div class='more-settings-item-body'>\n<div class='settings-option'>\n<div class='settings-text'>\nAdd a SurveyMonkey url to display on your homepage as a popup.\n</div>\n</div>\n<div class='settings-option'>\n<div class='settings-text'>\n<div class='selection-row' ng-click='$ctrl.showSurveyMonkeyPopup = false'>\n<input class='radio-button' id='surveyMonkeyOff' ng-click='$ctrl.changes[&quot;Survey Monkey&quot;] = true; $ctrl.validSurveyMonkeySettings()' ng-model='$ctrl.showSurveyMonkeyPopup' ng-value='false' type='radio'>\n<div class='follow-handle'>Off</div>\n</div>\n</div>\n<div class='settings-text selections'>\n<div class='selection-row' ng-click='$ctrl.showSurveyMonkeyPopup = true'>\n<input class='radio-button' id='surveyMonkeyOn' ng-click='$ctrl.changes[&quot;Survey Monkey&quot;] = true; $ctrl.validSurveyMonkeySettings()' ng-model='$ctrl.showSurveyMonkeyPopup' ng-value='true' type='radio'>\n<div class='follow-handle'>On</div>\n</div>\n</div>\n<div ng-show='$ctrl.showSurveyMonkeyPopup'>\n<div class='settings-text handles'>\nsurvey monkey url\n</div>\n<input class='settings-text text-inputs' id='surveyMonkeyUrl' ng-change='$ctrl.changes[&quot;Survey Monkey&quot;] = true; $ctrl.validSurveyMonkeySettings()' ng-class='{&#39;disabled-text-input&#39;: $ctrl.showSurveyMonkeyPopup !== true}' ng-disabled='$ctrl.showSurveyMonkeyPopup !== true' ng-model='$ctrl.surveyMonkeyUrl' type='text'>\n<div class='settings-text error-messages' ng-if='!$ctrl.moduleLink[&quot;validUrl&quot;]'>\nInvalid URL\n</div>\n</div>\n</div>\n<div class='settings-option submit'>\n<div class='submit-button-block'>\n<div class='submit-button-box'>\n<button class='btn btn-primary-short publish-button' ng-click='$ctrl.parseSurveyMonkeyParams()' ng-disabled='!$ctrl.saveSurveyMonkeySettings'>\nUpdate\n</button>\n</div>\n<div class='cancel-button-box' ng-cloak>\n<button class='btn btn-primary-short btn-gray' ng-class='{&#39;disabled&#39;: $ctrl.changes[&#39;Survey Monkey&#39;] == false}' ng-click='$ctrl.doubleCheckChanges(&quot;Survey Monkey&quot;)'>\nCancel\n</button>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("orderSummary.html",'<div class="order-summary" ng-if="selectedPlan && selectedPlan !== \'free\'">\n  <div ng-if="change" class="subscription-plan-name">\n    <div ng-if="refund">\n      <div class="subscription-plan-name">\n        {{change}} -\n        {{subscription.subscription_period}} Subscription\n        - {{subscription.site.name}}\n        <span class="pull-right" ng-if="change==\'START\'">\n          {{priceForPlan() | currency}}\n        </span>\n      </div>\n      <div class="row order-summary-total ending-summary-total">\n        <div class="site col-sm-16">\n          Total billed on {{subscription.subscription_start_date | date : "shortDate"}}\n        </div>\n        <div class="col-sm-8" style="text-align:right;">\n          {{subscription.full_refund_amount}}\n        </div>\n      </div>\n\n      <select class="refund-amount form-control"\n              name="refund_type"\n              ng-model="subscription.refundType"\n              ng-init="subscription.refundType=default_refund"\n              required>\n\n        <option ng-if="(subscription.actions.refundable && subscription.actions.already_billed) || subscription.actions.in_migration_before_first_bill" value="cancel_now_no_refund">\n          No Refund\n        </option>\n\n        <option ng-if="subscription.actions.refundable && subscription.actions.already_billed" value="cancel_now_prorated_refund">\n          Prorated Refund {{subscription.prorated_refund_amount}}\n        </option>\n\n        <option ng-if="subscription.actions.refundable && !subscription.actions.in_migration_before_first_bill" value="cancel_now_full_refund">\n          Full Refund {{subscription.full_refund_amount}}\n        </option>\n      </select>\n    </div>\n    <div ng-if="!refund">\n      <div class="subscription-plan-name">\n        {{change}} -\n        {{selectedPlan | capitalize}} Subscription\n        - {{sites[siteId].name}}\n        <span class="pull-right" ng-if="change==\'START\'">\n          {{priceForPlan() | currency}}\n        </span>\n      </div>\n      <div ng-if="promotion.name" class="promotion-information">\n        Promo: {{promotion.name}}\n        <span class="pull-right" ng-if="promotion.amount">\n          -{{discountForPlan() | currency}}\n        </span>\n      </div>\n      <div class="tax-information" ng-if="estimatedTax">\n        Estimated Tax:\n        <span>\n          {{getEstimatedTax() | currency}}\n        </span>\n      </div>\n      <div class="order-summary-total">\n        {{selectedPlan | capitalize}} charge\n        <span class="pull-right">\n          {{totalForPlan() | currency }}\n        </span>\n      </div>\n    </div>\n  </div>\n  <div ng-if="!change">\n\n    <div class="checkout-information-line">\n      <div class="subscription-information">\n        {{selectedPlan | capitalize}} Subscription\n        <br>\n        <div class="info-name"> {{sites[siteId].friendly_name}} </div>\n      </div>\n      <div class="pricing-information">\n        {{priceForPlan() | currency}}\n      </div>\n    </div>\n\n    <div ng-if="promotion.name" class="checkout-information-line">\n      <div class="subscription-information">\n        Promo\n        <br>\n        <div class="info-name"> {{promotion.name}} </div>\n      </div>\n      <div class="pricing-information">\n        -{{discountForPlan() | currency}}\n      </div>\n    </div>\n\n    <div ng-if="estimatedTax" class="checkout-information-line">\n      <div class="subscription-information">\n        Estimated Tax\n      </div>\n      <div class="pricing-information">\n        {{getEstimatedTax() | currency}}\n      </div>\n    </div>\n\n    <div class="order-summary-total">\n      Total\n      <div class="pull-right">\n      <span>\n        {{totalForPlan() | currency }}\n      </span>\n      </div>\n    </div>\n  </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("promoCode.html","<div class='form-group registration_promo_code mtxl' ng_class='{&#39;has-error&#39;: !$ctrl.promotionDetails.valid}'>\n<div class='promo-input-label' for='inputId'>\nPromo code\n</div>\n<div class='promo-input-container'>\n<div class='promo-input' ng-class='{&#39;inactive&#39;: !$ctrl.btnApply}' ng-transclude></div>\n<div class='promo-button' ng_hide='$ctrl.isPromoPage'>\n<button class='btn-custom btn-check-promo' ng-class='{&#39;no-select&#39;: $ctrl.loading}' ng-click='$ctrl.checkValid()' type='button'>\n<span>{{ $ctrl.promoAction }} Code</span>\n</button>\n</div>\n</div>\n<div class='promo-input-container'>\n<div class='promo-input' ng-if='$ctrl.promotionDetails.message'>\n<div ng_class='$ctrl.promotionDetails.valid? &quot;valid-promo&quot; : &quot;error-reason&quot;'>\n<span ng_if='$ctrl.promotionDetails.valid'>\nPromo Successful! \n</span>\n<span ng_if='!$ctrl.promotionDetails.valid'>\n{{ $ctrl.promotionDetails.message }}\n</span>\n</div>\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("publisherTypeaheadDirective.html","<div class='publisher-typeahead'>\n<input ng-model='$ctrl.ngModel' placeholder='Enter a name' type='text' typeahead-min-length='2' typeahead-on-select='$ctrl.selectPublisher($item)' typeahead-template-url='publisherTypeaheadItem.html' typeahead-wait-ms='400' uib-typeahead='publisher as publisher.publisher_name for publisher in $ctrl.findPublishers($viewValue)'>\n<div class='no-results' ng-if='$ctrl.noResults'>\nNo results\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("publisherTypeaheadItem.html","<a>\n<div class='typeahead-name'>\n{{ match.model.publisher_name_and_title }}\n</div>\n<div class='typeahead-details'>\n<span>\n{{ match.model.site_name }}\n</span>\n</div>\n</a>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("rvAdminSubscriptionTicket.html","<div class='new-subscription-ticket' id='subscription-{{ctrl.subscription.id}}' ng-class='{cancelled: ctrl.subscription.status == &quot;cancelled&quot;}'>\n<div class='tri-shade-header' ng-if='ctrl.subscription.status != &quot;cancelled&quot;' style='background-color: {{ ctrl.subscription.site_color }}'></div>\n<div class='cancelled-header' ng-if='ctrl.subscription.status == &quot;cancelled&quot;'></div>\n<div class='activity-header' ng-class='ctrl.subscriptionStatusLabelClass()'>\n{{ ctrl.subscription.display_status }}\n</div>\n<div class='title admin-title'>\n{{ctrl.subscription.site.name}}\n<a class='change-site-link' href='#' ng-class='{disabled: ctrl.subscription.csActionsDisabled}' ng-click='ctrl.showChangeSiteModal($event)' ng-if='ctrl.subscription.is_web &amp;&amp; !ctrl.subscription.cancelled_with_or_without_access &amp;&amp; ctrl.subscription.actions.change_site'>\nChange Site\n</a>\n</div>\n<div class='promo-info-container' ng-if='ctrl.subscription.promo_used &amp;&amp; !ctrl.subscription.gift'>\n<div class='promo-badge'>\n<span class='promo-badge-text'>\n{{ ctrl.subscription.promo_info.promo_type }}\n</span>\n</div>\n<div>\n{{ ctrl.subscription.promo_info.promo_description }}\n</div>\n</div>\n<div class='information-line subscription-type'>{{ctrl.subscription.subscription_period}}</div>\n<div class='information-line' ng-if='ctrl.subscription.real_plan_amount' ng-show='ctrl.subscription.real_plan_amount'>{{ctrl.subscription.real_plan_amount}}</div>\n<div class='information-line' ng-if='ctrl.subscription.next_billing_date'>\nRenews on:\n{{ctrl.subscription.next_billing_date | date:'M/d/yyyy'}}\n</div>\n<div class='information-line' ng-if='ctrl.subscription.subscription_start_date'>\nStarted on:\n{{ctrl.subscription.subscription_start_date | date:'M/d/yyyy'}}\n</div>\n<div class='information-line' ng-if='ctrl.subscription.active_through_date'>\nAccess until:\n{{ctrl.subscription.active_through_date}}\n</div>\n<div class='information-line' ng-if='ctrl.subscription.status_details'>\n{{ctrl.subscription.status_details}}\n</div>\n<div class='information-line' ng-if='ctrl.subscription.is_web &amp;&amp; !ctrl.subscription.gift' ng-show='ctrl.subscription.tax'>\nTax:\n{{ctrl.subscription.tax}}\n</div>\n<a class='information-line' ng-href='{{ctrl.mobileStoreLink}}' ng-if='!ctrl.subscription.is_web' target='_blank'>\n{{ctrl.subscription.service_display_name}} Subscription\n</a>\n<div class='information-line mobile-service-display-name' ng-if='!ctrl.subscription.is_web'>\n{{ctrl.subscription.service_display_name}} Subscription\n</div>\n<div class='information-line dual-buttons' ng-if='ctrl.subscription.is_web'>\n<button class='upgrade-subscription-button admin upgrade' href='#' ng-class='{disabled: ctrl.subscription.csActionsDisabled}' ng-click='ctrl.showUpgradeSubscriptionModal($event)' ng-if='ctrl.subscription.actions.upgradeable'>\nUpgrade\n</button>\n<button class='upgrade-subscription-button admin downgrade' href='#' ng-class='{disabled: ctrl.subscription.csActionsDisabled}' ng-click='ctrl.showDowngradeSubscriptionModal($event)' ng-if='ctrl.subscription.actions.downgradeable'>\nDowngrade\n</button>\n<button class='upgrade-subscription-button admin extend' href='#' ng-class='{disabled: ctrl.subscription.csActionsDisabled}' ng-click='ctrl.showExtendSubscriptionModal($event)' ng-if='ctrl.subscription.actions.extendable'>\nExtend\n</button>\n<button class='upgrade-subscription-button admin' href='#' ng-click='ctrl.showAdjustCompModal($event)' ng-if='ctrl.subscription.actions.comp_terminate_or_renew'>\nAdjust Comp Expiration\n</button>\n</div>\n<div ng-if='ctrl.subscription.is_web'>\n<a class='information-line cancel' href='#' ng-class='{disabled: ctrl.subscription.csActionsDisabled}' ng-click='ctrl.showCancelModal($event)' ng-if='ctrl.subscription.actions.cancellable'>\nCancel Subscription\n</a>\n<a class='information-line' href='#' ng-click='ctrl.cancelComped($event)' ng-if='ctrl.subscription.actions.comp_terminate_or_renew'>\nEnd Comp Now\n</a>\n<a class='information-line' href='#' ng-class='{disabled: ctrl.subscription.csActionsDisabled}' ng-click='ctrl.showReactivateModal($event)' ng-if='ctrl.subscription.actions.cancelling &amp;&amp; !ctrl.subscription.actions.comp_terminate_or_renew'>\nReactivate Subscription\n</a>\n<a class='information-line' ng-href='{{ctrl.subscription.payment_gateway_url}}' ng-if='ctrl.subscription.actions.view_on_payment_gateway &amp;&amp; ctrl.subscription.payment_gateway_url' target='_blank'>\n{{ctrl.subscription.payment_gateway_subscription_link}}\n</a>\n<a class='information-line' ng-href='{{ctrl.subscription.referring_user_link}}' ng-if='ctrl.subscription.referring_user_link' target='_blank'>\nView referring user\n</a>\n<div class='information-line' ng-if='!ctrl.subscription.referring_user_link'>\nNot referred by another user\n</div>\n</div>\n</div>");
}]),angular.module("templates").run(["$templateCache",function(e){e.put("rvAdsConfig.html","<div class='ad-image' ng-if='cloudinaryPublicId'>\n<img ng-src='{{ makeAdUrl() }}'>\n<div class='edit-icon' ng-click='showModal($event)'></div>\n</div>\n<div class='ad-image image-stub' ng-click='showModal($event)' ng-if='!cloudinaryPublicId'>\n<div class='add-ad'>\n<div class='plus'>+</div>\n<div class='text'>Image</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("rvCollegePickerDirective.html","<div class='col-sm-8 form-group' ng-class='{&#39;has-error&#39;: !form[&#39;{{positionForm}}&#39;].$valid &amp;&amp; form[&#39;{{positionForm}}&#39;].$touched}'>\n<div class='row form-group prospect-college-form' ng-class='{&#39;has-error&#39;: collegeIsInvalid()}'>\n<input autocomplete='off' class='input enable-invalid-highlight' name='college_player[college]' ng-model='college' ng-required='!prospectCollege.markedForRemoval' placeholder='College' type='text' typeahead-min-length='2' typeahead-on-select='setCollegeId($item)' uib_typeahead='college as college.common_name for college in getColleges($viewValue)'>\n<span class='error-reason reduced' ng-show='collegeIsInvalid()'>\nCollege is invalid\n</span>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("rvCommitStatus.html","<div class='commit-status' ng-if='$ctrl.status'>\n<div class='{{ $ctrl.status }}-label'>\n{{ $ctrl.status | uppercase }}\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("rvObiSubscriptionForm.html","<div>\n<h3 class='section-heading'>Billing Info</h3>\n<div ng-hide='$ctrl.paymentMethodMissing()' ng-if='$ctrl.paymentMethod'>\n<div ng-hide='showingPaymentFormdropin'>\n<ul class='list list-left-aligned list-inline'>\n<li class='list-item'>\n<div class='header-with-underline em-alt'>Credit Card Number</div>\n<div class='list-item-body'>\n<span>\n{{$ctrl.paymentMethod.obfuscated_credit_card}}\n</span>\n</div>\n</li>\n<li class='list-item'>\n<div class='header-with-underline em-alt'>Expiration Date</div>\n<div class='list-item-body'>\n<span>\n{{$ctrl.paymentMethod.expiration_date}}\n</span>\n</div>\n</li>\n<li class='list-item'>\n<div class='header-with-underline em-alt'>Postal Code</div>\n<div class='list-item-body'>\n<span>\n{{$ctrl.paymentMethod.postal_code}}\n</span>\n</div>\n</li>\n</ul>\n<btn class='btn btn-default pull-right' ng-click='$ctrl.editBillingInfo()' ng-if='$ctrl.obiEditBillingInfo' ng-show='$ctrl.showingPaymentForm === false &amp;&amp; !$ctrl.paymentMethodMissing()'>Edit Billing Info</btn>\n</div>\n</div>\n<btn class='btn btn-default' ng-click='$ctrl.editBillingInfo()' ng-if='$ctrl.obiEditBillingInfo' ng-show='$ctrl.showingPaymentForm === false &amp;&amp; $ctrl.paymentMethodMissing()'>Add Billing Info</btn>\n<promo-code existing-subscription-id='existingSubscriptionId' initial-error='promotion_error' ng-hide='!$ctrl.obiPromotions' promotion-error='$ctrl.promotion = null' promotion-success='$ctrl.promotion = $promotion' selected-plan='$ctrl.selectedPlan' site-id='$ctrl.siteId' user-id='$ctrl.userId'>\n<input class='form-control input-block' id='promo_code' name='site_subscription[promo_code]'>\n</promo-code>\n</div>\n<order-summary address='ctrl.getAddress()' promotion='$ctrl.promotion' selected-plan='$ctrl.selectedPlan' site-id='$ctrl.siteId'></order-summary>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("rvPositionPickerDirective.html","<div class='col-sm-8 form-group select-container' ng-class='{&#39;has-error&#39;: !selectedSport &amp;&amp; form[&#39;{{sportForm}}&#39;].$touched &amp;&amp; sportIsRequired}'>\n<select class='form-control sports' name='{{sportForm}}' ng-change='filterPositions()' ng-disabled='disable' ng-model='selectedSport' ng-options='sport as sport.name for sport in sports track by sport.id' ng-required='sportIsRequired'>\n<option selected value=''>Sport</option>\n</select>\n<span class='error-reason reduced' ng-show='form[&#39;{{sportForm}}&#39;].$touched &amp;&amp; sportIsRequired &amp;&amp; !selectedSport'>\nSport is required\n</span>\n</div>\n<div class='col-sm-16 form-group select-container' ng-class='{&#39;has-error&#39;: !form[&#39;{{positionForm}}&#39;].$valid &amp;&amp; form[&#39;{{positionForm}}&#39;].$touched &amp;&amp; positionIsRequired}' ng-if='!isCollege'>\n<select class='form-control positions' name='{{positionForm}}' ng-change='positionChanged(position)' ng-disabled='!selectedSport || disablePosition' ng-model='position' ng-options='position as position.name for position in availablePositions track by position.id' ng-required='positionIsRequired'>\n<option selected value=''>Position</option>\n</select>\n<span class='error-reason reduced' ng-show='form[&#39;{{positionForm}}&#39;].$touched &amp;&amp; positionIsRequired &amp;&amp; !position'>\nPosition is required\n</span>\n</div>\n<div class='col-sm-8 form-group select-container' ng-class='{&#39;has-error&#39;: !form[&#39;{{positionForm}}&#39;].$valid &amp;&amp; form[&#39;{{positionForm}}&#39;].$touched &amp;&amp; positionIsRequired}' ng-if='isCollege'>\n<select class='form-control positions' name='college_player[position_id]' ng-change='positionChanged(position)' ng-disabled='!selectedSport || disablePosition' ng-model='position' ng-options='position as position.name for position in availablePositions track by position.id' ng-required='positionIsRequired'>\n<option selected value=''>Position</option>\n</select>\n<span class='error-reason reduced' ng-show='form[&#39;{{positionForm}}&#39;].$touched &amp;&amp; positionIsRequired &amp;&amp; !position'>\nPosition is required\n</span>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("rvSchedulingModule.html","<div class='side-rail-box'>\n<div class='side-rail-header'>\n<div class='side-rail-actions toggle'>\n<a alt='toggle' ng-click='$ctrl.toggleSchedule($event)'>\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewbox=\"0 0 35.1 14.5\" enable-background=\"new 0 0 35.1 14.5\" xml:space=\"preserve\">\n  <!-- when on switch `toggle-background` to #0a4ea3 ($rivals-blue)  -->\n  <path id=\"toggle-background\" fill=\"#E8E9EA\" stroke=\"#BBBEC1\" stroke-miterlimit=\"10\" d=\"M33.3,7.2c0,3.3-2.7,6-6,6h-20c-3.3,0-6-2.7-6-6l0,0 c0-3.3,2.7-6,6-6h20C30.6,1.2,33.3,3.9,33.3,7.2L33.3,7.2z\"></path>\n  <path id=\"toggle-off\" fill=\"#FFFFFF\" stroke=\"#BBBEC1\" stroke-miterlimit=\"10\" d=\"M13.3,7.2c0,3.3-2.7,6-6,6s-6-2.7-6-6s2.7-6,6-6S13.3,3.9,13.3,7.2z \"></path>\n  <path id=\"toggle-on\" display=\"none\" fill=\"#FFFFFF\" stroke=\"#BBBEC1\" stroke-miterlimit=\"10\" d=\"M33.3,7.2c0,3.3-2.7,6-6,6s-6-2.7-6-6s2.7-6,6-6S33.3,3.9,33.3,7.2z \"></path>\n</svg>\n\n</a>\n</div>\nPublishing Delay (CST)\n</div>\n<div class='side-rail-body'>\n<div class='form-group article-metadata'>\n<div class='form-group scheduled'>\n<div class='input-group'>\n<div class='input-group-addon fa fa-calendar' ng-class='$ctrl.showScheduling ? &quot;disabled&quot; : &quot;&quot;'></div>\n<input class='form-control' id='datePicker' is_open='$ctrl.datePickerOpen.live_date' name='article[live_date]' ng-change='$ctrl.dateChanged()' ng-click='$ctrl.openDatePicker($event, &quot;live_date&quot;)' ng-disabled='$ctrl.showScheduling' ng-model='$ctrl.liveAtDate' placeholder='mm/dd/yy' type='text' uib_datepicker_popup='MM/dd/yy'>\n</div>\n</div>\n<div class='form-group scheduled'>\n<div class='input-group'>\n<div class='input-group-addon fa fa-clock-o' ng-class='$ctrl.showScheduling ? &quot;disabled&quot; : &quot;&quot;'></div>\n<input class='form-control' id='timePicker' name='article[live_time]' ng-disabled='$ctrl.showScheduling' ng-if='$ctrl.supportsTimeType()' ng-model='$ctrl.liveAtTime' type='time'>\n<input class='form-control' id='timePicker' name='article[live_time]' ng-change='$ctrl.validateTime()' ng-disabled='$ctrl.showScheduling' ng-if='!$ctrl.supportsTimeType()' ng-model='$ctrl.liveAtTime' placeholder='--:-- --' type='text'>\n</div>\n</div>\n<div class='error-reason article-error' ng-if='$ctrl.showError'>\n<img class='error-icon' src='https://cdn.rivals.com/production/assets/icons/icons_exclamation_error_white-18ab131522bde381f7f90ed8e1c021fd85581519fc692a259672ec3e96ed911e.svg'>\nPublishing date must be in between today and a year from now.\n</div>\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("rvShareLinks.html","<div class='share-links' ng-class='{&quot;collapsed&quot; : $ctrl.collapsible(), &quot;open&quot; : $ctrl.open}'>\n<label ng-click='$ctrl.toggleShareLinks()' ng-if='$ctrl.collapsible()'>\nShare\n</label>\n<div class='share-icons'>\n<a class='share-link' href='' ng-click='$ctrl.openShareWindow(&quot;facebook&quot;)' ng-show='$ctrl.isOpen()'>\n<div class='facebook-btn-circle share-button'></div>\n</a>\n<a class='share-link' href='' ng-click='$ctrl.openShareWindow(&quot;twitter&quot;)' ng-show='$ctrl.isOpen()'>\n<div class='twitter-btn-circle share-button'></div>\n</a>\n<a class='share-link' href='' ng-click='$ctrl.openShareWindow(&quot;reddit&quot;)' ng-show='$ctrl.isOpen()'>\n<div class='reddit-btn-circle share-button'></div>\n</a>\n<span ng-if='!$ctrl.isProfile'>\n<a class='share-link' ng-href='{{$ctrl.buildEmailLink()}}' ng-if='$ctrl.siteName' ng-show='$ctrl.isOpen()'>\n<img class='share-button' src='https://cdn.rivals.com/production/assets/icons/icons_email_button-aa122a6a7694fa25515cfd84cd7053bad8112b66bc4afd2424a9782b56e884db.svg'>\n</a>\n<a class='share-link' ng-href='{{$ctrl.printUrl}}' ng-if='$ctrl.printUrl' ng-show='$ctrl.isOpen()' target='_blank'>\n<img class='share-button' src='https://cdn.rivals.com/production/assets/icons/icons_print_button-c1b43507082ef82031f4833ef51e61889f379a643d85ec6cb9f90ca163f96e5b.svg'>\n</a>\n</span>\n<span ng-if='$ctrl.isProfile'>\n<a class='share-link' href='' ng-click='$ctrl.openShareWindow(&quot;embed&quot;)' ng-show='$ctrl.isOpen()'>\n<div class='embed-btn-circle share-button'></div>\n</a>\n</span>\n</div>\n<a class='share-toggle' href='' ng-click='$ctrl.toggleShareLinks()' ng-if='$ctrl.collapsible()'>\n<div class='share-btn-circle share-button'></div>\n</a>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("rvSubscriptionReferral.html","<div class='refer-friend-url'>\n<h3 class='new-header-title'>Refer a Friend</h3>\n<div class='refer-promotion-text'>{{ ctrl.referralPromotion.description }}</div>\n<div class='refer-title'>Referral Url</div>\n<div class='referral-url'>\n{{ ctrl.referralUrl }}\n</div>\n<a class='clipboard' data-clipboard-text='{{ ctrl.referralUrl }}'>\n<div class='checkbox-container'>\n<div class='copy-link-button'>Copy Link</div>\n<div class='green-checkmark' ng-show='ctrl.copied'></div>\n<span ng-show='ctrl.copied'>Link copied!</span>\n</div>\n</a>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("rvTable.html","<div class='rv-table edit-mode'>\n<div class='controls'>\n<a class='btn btn-default rv-table-controls-add-column' ng-click='addCol()' role='button'>\nAdd Column\n</a>\n<a class='btn btn-default rv-table-controls-add-row' ng-click='addRow()' role='button'>\nAdd Row\n</a>\n</div>\n<div class='table-title' ng-model='table.title' rv-contenteditable='' strip-html='true'></div>\n<div class='rv-table-container'>\n<table>\n<thead>\n<tr>\n<th class='bootstrap-form col-controls' ng-repeat='heading in table.headers track by $index' ng-style='{&#39;width&#39;: heading.width}'>\n<div class='dropdown' id='col-controls-{{$index}}' uib-dropdown>\n<button class='dropdown-toggle' data-toggle='dropdown' uib-dropdown-toggle>\n<span class='caret'></span>\n</button>\n<ul aria-labelledby='col-controls-{{$index}}' class='dropdown-menu'>\n<li>\n<a data-target='#' ng-click='setColumnType($index, &quot;text&quot;)'>Text</a>\n</li>\n<li>\n<a data-target='#' ng-click='setColumnType($index, &quot;stars&quot;)'>Stars</a>\n</li>\n<li class='divider'></li>\n<li>\n<a data-target='#' ng-click='delCol($index)'>Delete</a>\n</li>\n</ul>\n</div>\n</th>\n</tr>\n<tr>\n<th ng-model='heading.name' ng-repeat='heading in table.headers track by $index' rv-contenteditable strip-html='true'></th>\n</tr>\n</thead>\n<tbody>\n<tr ng-repeat='row in table.content'>\n<td ng-click='$first &amp;&amp; delRow(row, $event)' ng-repeat='col in row track by $index'>\n<rv-st-scribe ng-if='col.type == &quot;text&quot; || col.type == undefined' ng-model='col.value' st-block='stBlock'></rv-st-scribe>\n<rv-rating-bar ng-if='col.type == &quot;stars&quot;' ng-model='col.value' tabindex='0'></rv-rating-bar>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<input class='caption' ng-model='table.caption' placeholder='Enter Caption' type='text'>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("selectionScroller.html","<ul class='selection-scroller'>\n<li ng-class='{selected: $ctrl.selectedItem.item === item}' ng-click='$ctrl.selectItem(item)' ng-repeat='item in $ctrl.items'>\n<p class='selection-line'>\n{{item.title}}\n<span ng-if='item.site'>({{item.site.name}})</span>\n</p>\n</li>\n</ul>")}]),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sir-trevor/image_block"]=Handlebars.template({1:function(e,t,n,i,r){var o;return"<img class='tag-icon' src='https://cdn.rivals.com/production/assets/icons/icons_tag-d880fcd0f155beb07e43db5a8c2979785ec1f244c7164b6aaa5208cdeb3c7e80.png'>\n<div class='tags'>"+e.escapeExpression((o=null!=(o=n.prospects||(null!=t?t.prospects:t))?o:n.helperMissing,"function"==typeof o?o.call(null!=t?t:{},{name:"prospects",hash:{},data:r}):o))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o,a;return"<figure class='image-block article-image'>\n<div class='image-container'>\n<img class='image-block' src='"+e.escapeExpression((a=null!=(a=n.large_url||(null!=t?t.large_url:t))?a:n.helperMissing,"function"==typeof a?a.call(null!=t?t:{},{name:"large_url",hash:{},data:r}):a))+"'>\n"+(null!=(o=n["if"].call(null!=t?t:{},null!=t?t.prospects:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?o:"")+"<input class='st-input-string image-caption' name='caption' placeholder='Caption' type='text' value='"+e.escapeExpression((a=null!=(a=n.caption||(null!=t?t.caption:t))?a:n.helperMissing,"function"==typeof a?a.call(null!=t?t:{},{name:"caption",hash:{},data:r}):a))+"'>\n<input class='st-input-string image-url' name='url' placeholder='URL (optional)' type='text' value='"+e.escapeExpression((a=null!=(a=n.url||(null!=t?t.url:t))?a:n.helperMissing,"function"==typeof a?a.call(null!=t?t:{},{name:"url",hash:{},data:r}):a))+"'>\n<input class='st-input-string image-alt image-url' name='alt' placeholder='Alt (optional)' type='text' value='"+e.escapeExpression((a=null!=(a=n.alt||(null!=t?t.alt:t))?a:n.helperMissing,"function"==typeof a?a.call(null!=t?t:{},{name:"alt",hash:{},data:r}):a))+"'>\n</div>\n</figure>"},useData:!0}),this.HandlebarsTemplates["sir-trevor/image_block"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sir-trevor/image_source"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(){return"<div class='image-source-selection'>\n<button class='option url_option'>\n<label class='url-option'>\n<div class='rivals-icon-web'></div>\n<div class='upload-source-label'>The Web</div>\n</label>\n</button>\n<div class='option-separator'></div>\n<button class='database-source option'>\n<label class='database-option'>\n<div class='rivals-icon-database'></div>\n<div class='upload-source-label'>Search Database</div>\n</label>\n</button>\n<div class='option-separator'></div>\n<button class='upload-source option'>\n<label class='upload-option'>\n<div class='rivals-icon-upload'></div>\n<div class='upload-source-label'>Your Device</div>\n</label>\n</button>\n</div>"},useData:!0}),this.HandlebarsTemplates["sir-trevor/image_source"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sir-trevor/instagram_block"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return"<div class='web-url'>\n<div class='instagram-icon-image'></div>\n<input class='instagram_url' name='instagram_url' placeholder='Copy and paste instagram url' type='text' value='"+e.escapeExpression((o=null!=(o=n.instagram_url||(null!=t?t.instagram_url:t))?o:n.helperMissing,"function"==typeof o?o.call(null!=t?t:{},{name:"instagram_url",hash:{},data:r}):o))+"'>\n<button class='insert-url'>Insert</button>\n</div>"},useData:!0}),this.HandlebarsTemplates["sir-trevor/instagram_block"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sir-trevor/list_source"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(){return"<div class='list-source-selection image-source-selection'>\n<div class='option'>\n<input class='list-url' name='list_url' placeholder='Copy and paste url' type='text'>\n<button class='insert-url'>Insert</button>\n</div>\n<div class='option-separator'></div>\n<div class='option'>\n<label class='database-option'>\n<div class='rivals-icon-database'></div>\n<div class='upload-source-label'>Search Database</div>\n</label>\n</div>\n</div>"},useData:!0}),this.HandlebarsTemplates["sir-trevor/list_source"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sir-trevor/pullquote_block"]=Handlebars.template({1:function(e,t,n,i,r){var o;return"<div>\n\u2014 "+e.escapeExpression((o=null!=(o=n.credit||(null!=t?t.credit:t))?o:n.helperMissing,"function"==typeof o?o.call(null!=t?t:{},{name:"credit",hash:{},data:r}):o))+"\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o,a;return"<div class='pullquote-container'>\n<div class='team-colors-line vertical'>\n<div class='color'></div>\n<div class='color first-opacity'></div>\n<div class='color second-opacity'></div>\n</div>\n<div class='display-pullquote'>\n<div class='quote'>\n"+e.escapeExpression((a=null!=(a=n.text||(null!=t?t.text:t))?a:n.helperMissing,"function"==typeof a?a.call(null!=t?t:{},{name:"text",hash:{},data:r}):a))+"\n</div>\n"+(null!=(o=n["if"].call(null!=t?t:{},null!=t?t.credit:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?o:"")+"</div>\n</div>"},useData:!0}),this.HandlebarsTemplates["sir-trevor/pullquote_block"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sir-trevor/pullquote_source"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(){return"<div class='pullquote-inputs' ng-hide='forDisplay'>\n<div class='pullquote-icon-image'></div>\n<input class='pullquote-text' name='pullquote-text' placeholder='Copy and paste quote' type='text'>\n<input class='pullquote-credit' name='pullquote-credit' placeholder='Credit' type='text'>\n<button class='insert-quote'>Insert</button>\n</div>"},useData:!0}),this.HandlebarsTemplates["sir-trevor/pullquote_source"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sir-trevor/template_arguments"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return"<div class='template-block'>\n<div class='block-input-heading'>\nConfigure "+e.escapeExpression((o=null!=(o=n.templateName||(null!=t?t.templateName:t))?o:n.helperMissing,"function"==typeof o?o.call(null!=t?t:{},{name:"templateName",hash:{},data:r}):o))+" Template\n</div>\n<div class='pull-right'>\n<button class='cancel-template-arguments'>\nx\n</button>\n</div>\n<div class='template-field-input'>\n<div class='arguments'></div>\n</div>\n<button class='btn btn-primary submit-template-arguments'>\nSubmit arguments\n</button>\n</div>"},useData:!0}),this.HandlebarsTemplates["sir-trevor/template_arguments"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sir-trevor/template_selector"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(){return"<div class='template-block'>\n<div class='block-input-heading'>\nConfigure Template\n</div>\n<div class='template-selector'>\n<select class='template-selection'></select>\n<button class='btn btn-primary choose-template'>\nSelect Template\n</button>\n</div>\n</div>"},useData:!0}),this.HandlebarsTemplates["sir-trevor/template_selector"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sir-trevor/tweet_block"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return"<div class='web-url'>\n<div class='tweet-icon-image'></div>\n<input class='tweet_url' name='tweet_url' placeholder='Copy and paste tweet url' type='text' value='"+e.escapeExpression((o=null!=(o=n.tweet_url||(null!=t?t.tweet_url:t))?o:n.helperMissing,"function"==typeof o?o.call(null!=t?t:{},{name:"tweet_url",hash:{},data:r}):o))+"'>\n<button class='insert-url'>Insert</button>\n</div>"},useData:!0}),this.HandlebarsTemplates["sir-trevor/tweet_block"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sir-trevor/video_drop_zone"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(){return"<div class='st-block__dropzone'>\n<div class='video-icon'></div>\n</div>"},useData:!0}),this.HandlebarsTemplates["sir-trevor/video_drop_zone"]}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("siteTypeahead.html","<a>\n<div>\n<span class='typeahead-name'>{{ match.model.name }}</span>\n</div>\n<div class='typeahead-details'>\n<span>{{ match.model.friendly_name }}</span>\n</div>\n</a>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("tickerSettings.html","<div class='ticker-hp-settings'>\n<div class='input-description'>\nSet the number of Ticker items and the types of tweets to show in the Homepage Ticker.\n</div>\n<div class='max-number-block'>\n<div class='input-label-primary stacked'>\nMax. number of articles\n</div>\n<input class='articles number url-input' maxlength='2' min='0' name='twitter_feed[max_ticker_articles]' ng-change='$ctrl.checkChanges()' ng-model='$ctrl.maxTickerArticles' ng-value='{{$ctrl.maxTickerArticles}}' type='number'>\n<div class='error-reason reduced ticker' ng-if='$ctrl.maxTickerArticles &gt; 30'>\nYou cannot put more than 30 articles in your ticker.\n</div>\n<div class='error-reason reduced ticker' ng-if='$ctrl.maxTickerArticles === null'>\nThis field cannot be empty.\n</div>\n<div class='input-label-primary stacked'>\nMax. number of tweets\n</div>\n<input class='number tweets url-input' maxlength='2' min='0' name='twitter_feed[max_number]' ng-change='$ctrl.checkChanges()' ng-model='$ctrl.maxNum' ng-value='{{$ctrl.maxNum}}' type='number'>\n<div class='error-reason reduced ticker' ng-if='$ctrl.maxNum === null'>\nThis field cannot be empty.\n</div>\n</div>\n<div class='input-description'>\nAdd Twitter handles and hashtags, separated by commas, to populate the Homepage Ticker.\n</div>\n<div class='tweet input-label-primary stacked'>Twitter handles</div>\n<textarea class='url-input usernames' id='usernames' maxlength='100' name='twitter_feed[usernames]' ng-change='$ctrl.changedUsernames($ctrl.usernames)' ng-class='{&#39;disabled-ticker-list&#39;: $ctrl.maxNum === 0}' ng-disabled='$ctrl.maxNum === 0' ng-list=', ' ng-model='$ctrl.usernames' placeholder='HandleName' type='text' value='{{$ctrl.usernames}}'></textarea>\n<span class='error-reason reduced ticker' ng-if='!$ctrl.validUsernames'>\nInvalid twitter handles\n</span>\n<div class='hashtags input-label-primary stacked'>Twitter Hashtags</div>\n<textarea class='hashtags url-input' id='hashtags' maxlength='100' name='twitter_feed[hashtags]' ng-change='$ctrl.changedHashtags($ctrl.hashtags)' ng-class='{&#39;disabled-ticker-list&#39;: $ctrl.maxNum === 0}' ng-disabled='$ctrl.maxNum === 0' ng-list=', ' ng-model='$ctrl.hashtags' placeholder='TagName' type='text' value='{{$ctrl.hashtags}}'></textarea>\n<span class='error-reason reduced ticker' ng-if='!$ctrl.validHashtags'>\nInvalid hashtags\n</span>\n<span class='error-reason reduced ticker' ng-if='!$ctrl.validTwitterSettings'>\nYou must have at least one Twitter handle or hashtag if you want to include tweets in your ticker.\n</span>\n<div class='submit-button-block'>\n<div class='submit-button-box'>\n<button class='btn btn-primary-short publish-button' ng-class='{&#39;disabled&#39;: $ctrl.enableSave === false}' ng-click='$ctrl.updateTickerSettings()'>\nUpdate\n</button>\n</div>\n<div class='cancel-button-box'>\n<button class='btn btn-primary-short btn-gray' ng-class='{&#39;disabled&#39;: $ctrl.changes === false}' ng-click='$ctrl.doubleCheckChanges()'>\nCancel\n</button>\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("typeaheadTemplate.html","<a>\n<div>\n<span class='typeahead-name'>\n{{ match.model.full_name || match.model.prospect.full_name }}\n</span>\n<span class='stars' ng-if='match.model.stars || match.model.prospect.stars'>\n<rv-stars num-stars='match.model.stars || match.model.prospect.stars'></rv-stars>\n</span>\n<span class='rivals-rating typeahead-details' ng-if='match.model.rivals_rating || match.model.prospect.rivals_rating'>\nRR: {{ match.model.rivals_rating || match.model.prospect.rivals_rating}}\n</span>\n</div>\n<div class='typeahead-details'>\n<span>\n{{ match.model.year || match.model.prospect.year }}\n</span>\n<span>\n{{ match.model.position.abbreviation || match.model.prospect.position_abbreviation }}\n</span>\n<span>\n{{ match.model.hometown || match.model.prospect.hometown }}\n</span>\n</div>\n</a>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("userHistory.html","<div class='alert' ng-if='history.error'>\n{{history.error}}\n</div>\n<table class='table table-striped user-history' ng-if='!history.error'>\n<thead>\n<tr>\n<th width='10%'>\nDate\n</th>\n<th width='10%'>\nAction\n</th>\n<th width='10%'>\nBy\n</th>\n<th width='10%'>\nSite\n</th>\n<th width='60%'>\nNotes\n</th>\n</tr>\n</thead>\n<tbody>\n<tr ng-repeat='historyEntry in history.entries'>\n<td>\n{{historyEntry.date}}\n</td>\n<td>\n{{historyEntry.action}}\n</td>\n<td>\n{{historyEntry.editor}}\n</td>\n<td>\n{{historyEntry.site_name}}\n</td>\n<td>\n<pre>{{historyEntry.full_details}}</pre>\n</td>\n</tr>\n</tbody>\n</table>")}]),function(){"use strict";angular.module("rivals").component("accordionMenu",{bindings:{title:"@",open:"="},templateUrl:"accordionMenu.html",transclude:!0,controller:["$scope",function(e){var t=this;e.$on("selectedPanel",function(e,n){n&&n.id&&(t.open=!0)}),t.toggleHeadlineNews=function(){t.open=!t.open}}]})}(),function(){"use strict";angular.module("rivals").directive("rvAddClassAtTop",["$window",function(e){var t=angular.element(e);return{restrict:"A",link:function(e,n,i){var r,o,a=i.rvAddClassAtTop,s=i.siblingContainer,l=i.inSideRail,c=n.parent(),u=parseInt(i.topPadding,10);n.offset().top;t.on("scroll",function(){o=c.offset().top;var e,i,d,p=angular.element("nav .wrapper-container").height();s&&(d=angular.element(document.getElementsByClassName(s)[0]),r=d.offset().top+d.height()-n.height()-p,e=t.scrollTop()<r),i=t.scrollTop()+p+5+u>=o;var h;if("true"!=l||n.hasClass(a))"false"==l&&(h=d.height()-n.height()+"px");else{var f=n.parent().parent().height()-n.height();h=d.height()-n.height()-f+"px"}n.offset().top>r&&"true"==l||(i&&e?(n.addClass(a),n.css("margin-top","0")):i&&!s?(n.addClass(a),n.css("margin-top","0")):t.scrollTop()>=r-5?(n.removeClass(a),"0px"==n.css("margin-top")&&n.css("margin-top",h)):n.removeClass(a))})}}}])}.call(this),function(){angular.module("rivals").factory("adminSearchParamService",["adminPaths",function(e){var t=function(t,n,i){if("galleries"===i)var r=e.apiV1GalleriesPath;else"lists"===i?r=e.apiV1AdminListsPath:"contents"===i?r=e.apiV1PublishingContentsPath:"images"===i?r=e.apiV1ImagesPath:"highschools"===i?r=e.apiV1AdminHighschoolsPath:"colleges"===i?r=e.apiV1ContentCollegesPath:"users"===i&&(r=e.apiV1UsersPath);r+="?search[query]="+t;for(var o in n)n[o]&&("date_type"===o||"sort"===o?r+="&search["+o+"]="+(n[o].value?n[o].value:n[o]):"site"===o?n[o].site_ids?r+="&search[site_ids]="+n[o].site_ids:n[o].no_site&&(r+="&search[no_site]="+n[o].no_site):r+="&search["+o+"]="+n[o]);return r};return{buildUrl:t}}])}.call(this),angular.module("rivals").factory("adSettingsService",["$http","responseHandler",function(e,t){return{update:function(n,i){var r={};return r[n]=i,e.put("/site_config/ad_settings/",r).then(t.handleSuccess,t.handleErrors)}}}]),function(){angular.module("rivals").factory("alertFactory",["$rootScope",function(e){return{displayAlert:function(t,n,i){_.isUndefined(i)&&(i=5),_.isUndefined(n)&&(n="success"),e.$emit("alert.post",{message:t,durationSeconds:i,type:n})},subscribeAlerts:function(t){e.$on("alert.post",t)}}}])}.call(this),function(){angular.module("rivals").factory("animationFactory",["$document",function(e){return{slowScrolling:function(t){var n=e.find(t);angular.element("html, body").animate({scrollTop:n.offset().top},"slow")}}}])}.call(this),angular.module("rivals").directive("assignInitialValueToScope",["$parse",function(e){return{restrict:"A",compile:function(t,n){var i=n.value||t.val();return{pre:function(t,n,r){"radio"===n.attr("type")?n.prop("checked")&&e(r.ngModel).assign(t,i):"checkbox"===n.attr("type")?e(r.ngModel).assign(t,n.prop("checked")):e(r.ngModel).assign(t,i)}}}}}]),angular.module("rivals").service("authTokenService",function(){this.getCsrfToken=function(){return $.rails.csrfToken()}}),function(){"use strict";angular.module("rivals").component("breakingNewsBar",{bindings:{info:"=",selected:"="},templateUrl:"breakingNewsBar.html",controller:["$scope","$http","userPaths",function(e,t,n){var i=this;i.info=null,i.$onInit=function(){i.info||r()};var r=function(){t.get(n.apiV1BreakingNewsPath).then(function(e){i.info=e.data.breaking_news})}}]})}(),angular.module("rivals").constant("categories",{galleries:[{visibleName:"",name:"gallery_image","class":"gallery-image",dataType:"gallery_image"},{visibleName:"Title",name:"name","class":"name",sortable:!0,dataType:"edit_link"},{visibleName:"$",name:"kind","class":"gallery-table-col",dataType:"premium_icon"},{visibleName:"Created",name:"created_at","class":"author",sortable:!0,dataType:"created"},{visibleName:"Modified",name:"updated_at","class":"modified",sortable:!0,dataType:"modified"},{visibleName:"Published",name:"publish_status","class":"publish-status ",sortable:!0,dataType:"publishedStatus"},{visibleName:"",name:"info","class":"info",dataType:"gallery_info_icon"},{visibleName:"",name:"multi","class":"multi-action",dataType:"multi-action"}],"galleries-mobile":[{"class":"more-info",dataType:"more_info"},{"class":"image",dataType:"gallery_image"},{"class":"description",dataType:"description"},{"class":"multi-action",dataType:"multi-action"}],lists:[{visibleName:"Type",name:"type","class":"type",dataType:"type_icon"},{visibleName:"Title",name:"name","class":"name",sortable:!0,dataType:"edit_link"},{visibleName:"Year",name:"year","class":"year",sortable:!0,dataType:"text"},{visibleName:"Ver",name:"version","class":"version",sortable:!0,dataType:"text"},{visibleName:"Site",name:"site_name","class":"site",sortable:!0,dataType:"text"},{visibleName:"Created",name:"created_at","class":"author",sortable:!0,dataType:"created"},{visibleName:"Modified",name:"updated_at","class":"modified",sortable:!0,dataType:"modified"},{visibleName:"Published",name:"publish_status","class":"publish-status",sortable:!0,dataType:"publishedStatus"},{visibleName:"",name:"multi","class":"multi-action",dataType:"multi-action"}],"lists-mobile":[{"class":"more-info",dataType:"more_info"},{"class":"type-icon",dataType:"type_icon"},{"class":"description",dataType:"description"},{"class":"multi-action",dataType:"multi-action"}],history:[{visibleName:"Created",name:"created_at","class":"author",sortable:!0,dataType:"created"},{visibleName:"Modified",name:"updated_at","class":"modified",sortable:!0,dataType:"modified"},{visibleName:"Published",name:"publish_status","class":"publish-status",sortable:!0,dataType:"publishedStatus"}],contents:[{visibleName:"Type",name:"type","class":"type",dataType:"type_icon"},{visibleName:"Title",name:"title","class":"name",sortable:!0,dataType:"edit_link"},{visibleName:"$",name:"kind","class":"kind",dataType:"premium_icon"},{visibleName:"Created",name:"created_at","class":"author",sortable:!0,dataType:"created"
},{visibleName:"Modified",name:"updated_at","class":"modified",sortable:!0,dataType:"modified"},{visibleName:"Published",name:"publish_status","class":"publish-status",sortable:!0,dataType:"publishedStatus"},{visibleName:"Author",name:"author_name","class":"author-name",sortable:!0,dataType:"text"},{visibleName:"",name:"multi","class":"multi-action",dataType:"multi-action"}],"contents-mobile":[{"class":"more-info",dataType:"more_info"},{"class":"type-icon",dataType:"type_icon"},{"class":"description",dataType:"description"},{"class":"multi-action",dataType:"multi-action"}],highschools:[{visibleName:"Name",name:"display_name","class":"name",sortable:!0,dataType:"edit_link"},{visibleName:"City/State",name:"location","class":"location",sortable:!0,dataType:"text"},{visibleName:"Classification",name:"classification","class":"classification",sortable:!0,dataType:"type"}],colleges:[{visibleName:"Name",name:"common_name","class":"name",sortable:!0,dataType:"edit_link"},{visibleName:"City/State",name:"location","class":"location",sortable:!0,dataType:"text"},{visibleName:"Conference",name:"current_conference_name","class":"classification",sortable:!0,dataType:"type"}]}),function(){"use strict";angular.module("rivals").constant("articleTitleCharacterLimit",75).constant("articleSummaryCharacterLimit",120).constant("newsListStartIndexExcludingXL",5).constant("newsListStartIndexXL",7).constant("newsListLength",13).constant("articleTickerLength",3).constant("newsFeedTitleCharacterLimit",64).constant("newsFeedTitleMobileCharacterLimit",74)}.call(this),function(){"use strict";angular.module("rivals").factory("contentHelpers",["moment",function(e){var t=function(e){return"Content::Link"==e||"link"==e},n=function(e){return"Content::ForumThread"==e||"forum_thread"==e};return{linkTarget:function(e){return t(e)?"_blank":"_self"},timeAgo:function(t){var n=e.tz(t,"YYYY-MM-DD HH:mm:ss","America/Chicago");return n>e().subtract(1,"month")?n.fromNow(!0)+" ago":n.format("M/D/YYYY")},timeAgoStatic:function(t){return e.tz(t,"YYYY-MM-DD HH:mm:ss","America/Chicago").format("M/D/YYYY")},isLink:t,isForumThread:n}}])}.call(this),angular.module("rivals").service("convertToCsvService",function(){this.downloadCsv=function(e,t){var n=angular.copy(e),i=Object.keys(n[0]),r="";if(i&&(r+=newCSVRow(i)),_.each(n,function(e){r+=newCSVRow(Object.values(e))}),""===r)return void alert("Invalid data");var o="data:text/csv;charset=utf-8,"+escape(r),a=document.createElement("a");return a.href=o,a.style="visibility:hidden",a.download="Rivals_"+t+"_"+moment().format("MM-DD-YYYY")+".csv",document.body.appendChild(a),a.click()},newCSVRow=function(e){var t="";return _.each(e,function(e){t+='"'+e+'",'}),t.slice(0,-1)+"\r\n"}}),angular.module("rivals").directive("copyWidth",["$window",function(e){return{restrict:"A",scope:{copyWidth:"="},link:function(t,n){var i=function(){var e=$(t.copyWidth),i=e.outerWidth();$(n).css("width",i)};i(),angular.element(e).bind("resize",function(){i(),t.$apply()})}}}]),function(){angular.module("rivals").directive("dateEditer",["moment",function(e){return{require:"ngModel",link:function(t,n,i,r){r.$formatters.push(function(t){return t?e(t).zone("-0600").format("MM/DD/YY"):""}),r.$parsers.push(function(t){return t?e(t+" -0600","MM/DD/YY Z").zone("-0600").format():""})}}}])}.call(this),angular.module("rivals").constant("enrichment",{types:{SCHEDULE:"Schedule",COMMITMENT:"Commitment",RIVALS:"Rivals",ROSTER:"Roster",RANK:"Rank",TWITTER:"Twitter",AD_PLACEMENT:"Ad-Placement",SCOREBOARD_SCORES:"ScoreboardScores",SCOREBOARD_PHOTOS:"ScoreboardPhotos",TEAM_RANKINGS:"TeamRankings",FANCAST_LEADERBOARD:"FanFuturecastLeaderboard"}}),angular.module("rivals").directive("enterKey",function(){return{restrict:"A",link:function(e,t,n){t.bind("keydown keypress",function(t){var i=t.which||t.keyCode||0;13===i&&(e.$apply(function(){e.$eval(n.enterKey,{$event:t})}),"list[depth_chart_groups_attributes][][name]"==t.target.name?t.target.blur():t.preventDefault())})}}}),angular.module("rivals").factory("eventService",["$uibModal","$http","cookies","userPaths","moment","$window",function(e,t,n,i,r,o){var a=function(e,t){t=angular.isDefined(t)?t:r().format();var i=r().add(10,"y").toDate();n.set(e,t,{expires:i,domain:l(o.location.host)})},s=function(){return"/users/sign_in"!==o.location.pathname},l=function(e){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)},c=function(e){return d()&&e.check_users?e.user_cookie:!d()&&e.check_visitors?e.visitor_cookie:void 0},u=function(e){var t=c(e);return t?!n.get(t):!1},d=function(){return!!localStorage.getItem("current_user_info")},p=function(e,n,r,o){return t.get(i.apiV1EventsPath+"/"+e).then(function(t){return t.data&&t.data.cookie_name&&t.data.cookie_value?a(t.data.cookie_name,t.data.cookie_value):void h(e,n,r,o)})},h=function(t,n,i,r){return e.open({templateUrl:"modals/eventModal.html",controller:"UserEventController as ctrl",size:"sm event-modal",resolve:{eventId:function(){return t},visitorCookie:function(){return n},html:function(){return i},buttonTitle:function(){return r}}})};return{checkEvents:function(){return t.get(i.apiV1EventsPath).then(function(e){var t=e.data;_.each(t,function(e){if(s()&&u(e)){if(d())return p(e.id,e.visitor_cookie,e.html_content,e.button_title);h(e.id,e.visitor_cookie,e.html_content,e.button_title)}})})},agreeToTerms:function(e,n){return localStorage.getItem("current_user_info")?t.put(i.apiV1EventsPath+"/"+e).then(function(e){e.data&&a(e.data.cookie_name,e.data.cookie_value)}):void a(n)}}}]),angular.module("rivals").factory("filterOptions",["search",function(e){return{dateTypeOptions:[{name:e.PUBLISHED,value:"live_at"},{name:e.CREATED,value:"created_at"},{name:e.MODIFIED,value:"updated_at"}],orderOptions:[{name:"Title",value:"name"},{name:"Published date",value:"live_at"},{name:"Created date",value:"created_at"}],listTypeOptions:["All","Rank","Roster","Depth Chart"],forecastOptions:[{name:"Commitment Status",value:"committed_college",reverseSort:!0},{name:"Latest Forecast Date",value:"latest_forecast_date",reverseSort:!0},{name:"Rank - ascending order",value:"rank",reverseSort:!1},{name:"Rank - descending order",value:"rank",reverseSort:!0},{name:"Alphabetical order",value:"name",reverseSort:!1},{name:"Sport",value:"sport",reverseSort:!1}]}}]),angular.module("rivals").filter("capitalize",function(){return function(e){return e?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():void 0}}),angular.module("rivals").filter("draftPositionFormatting",["ordinalityFilter",function(e){return function(t){if(angular.isDefined(t)){var n=t.yearDrafted,i=t.draftRound,r=t.draftTeam&&t.draftTeam.displayName,o=t.draftTeam&&t.draftTeam.nickname;if(angular.isDefined(i)&&angular.isDefined(n))return[n,e(i)+" Round",r+" "+o].join(", ")}return"Undrafted"}}]),angular.module("rivals").filter("ellipsifyString",function(){return function(e,t){if(e){if(e.length>t)for(var n=e.split(" ").length,i=0;n>i;i++){var r=e.lastIndexOf(" ");if(-1==r)return e=e.substr(0,t-3)+"...";if(e=e.substring(0,r),e.length<=t-3)return e+="..."}return e}}}),angular.module("rivals").filter("galleriesAndListsBySite",function(){return function(e,t){var n=e;return t&&(n=n.filter(function(e){return e.site&&e.site.id?t.includes(e.site.id):t.includes(e.original_site_id)})),n}}),angular.module("rivals").filter("imagesByUploader",function(){return function(e,t){return t?e.filter(function(e){return e.uploader_id==t.user_id}):e}}),angular.module("rivals").filter("inchesToFeet",function(){return function(e){return e?Math.floor(e/12)+"'"+Math.floor(e%12)+'"':""}}),angular.module("rivals").filter("initials",function(){return function(e){if(e){var t=e.split(" ");return _.map(t,function(e){return e[0]}).join("")}}}),angular.module("rivals").filter("listType",function(){return function(e,t){return t.value?_.filter(e,{list_type:t.value}):e}}),angular.module("rivals").filter("liveTime",["moment",function(e){return function(t){return t=t.substring(0,t.search("T")+6).replace("T"," "),e.utc(t).format("h:mm A")}}]),angular.module("rivals").filter("ordinal",function(){return function(e){var t=parseInt(e);if(isNaN(t)||1>t)var n="";else{var i=t%10;1==i?n="st":2==i?n="nd":3==i?n="rd":i>3&&(n="th")}return t+n}}),angular.module("rivals").filter("ordinality",function(){return function(e){var t=e%10,n=e%100;return 1==t&&11!=n?e+"st":2==t&&12!=n?e+"nd":3==t&&13!=n?e+"rd":e+"th"}}),angular.module("rivals").filter("positionName",function(){var e={football:{QB:"Quarterback",OL:"Offensive lineman",RB:"Running back",WR:"Wide receiver",TE:"Tight end",DE:"Defensive end",DT:"Defensive tackle",DB:"Defensive back",LB:"Linebacker",K:"Kicker",ATH:"Athlete",TRPL:"Triple-threat quarterback",PRO:"Pro-style quarterback",DUAL:"Dual-threat quarterback",APB:"All-purpose back",FB:"Fullback",WDE:"Weakside defensive end",SDE:"Strongside defensive end",ILB:"Inside linebacker",OLB:"Outside linebacker",OT:"Offensive tackle",OG:"Offensive guard",C:"Offensive center",CB:"Cornerback",S:"Safety"},basketball:{C:"Center",G:"Guard",F:"Forward",PG:"Point guard",SG:"Shooting guard",SF:"Small forward",PF:"Power forward"}};return function(t,n){return _.forEach(e,function(e,i){n.toLowerCase()==i&&(t=e[t])}),t}}),angular.module("rivals").filter("range",function(){var e={gte:"Greater than or equal to",lte:"Less than or equal to",eq:"Exactly"};return function(t){return _.each(Object.keys(e),function(n){t==n&&(t=e[n])}),t}}),angular.module("rivals").filter("rank",function(){return function(e){return e?0==e?null:e:void 0}}),angular.module("rivals").filter("recordsByDateRange",["search",function(e){return function(t,n,i,r){return n||i?t.filter(function(t){if(r==e.CREATED)var o=t.created_at.substring(0,t.created_at.search("T"));else r==e.MODIFIED?o=t.updated_at.substring(0,t.updated_at.search("T")):r==e.PUBLISHED&&(o=t.draft?n?"1900-01-01":"9999-01-01":t.live_at.substring(0,t.live_at.search("T")));var a=new Date(o);return a.setHours(0,0,0,0),n&&n.setHours(0,0,0,0),i&&i.setHours(0,0,0,0),!(n&&n>a||i&&a>i)}):t}}]),angular.module("rivals").filter("salary",function(){return function(e){if(angular.isObject(e))return e.currencySymbol&&e.amount?e.currencySymbol+parseInt(e.amount).toLocaleString()+"/YR":"\u2013";if(angular.isString(e)){var t;return t=e.includes("K")?1e3*parseInt(e.replace(/[^0-9.]/g,"")):parseInt(e.replace(/[^0-9.]/g,"")),"$"+t.toLocaleString()+"/YR"}return"\u2013"}}),angular.module("rivals").filter("searchPath",function(){return function(e,t){return t?e+"#?query="+t:e}}),angular.module("rivals").filter("shortName",function(){return function(e,t){return e?e.length<=t?e:(e=e.split(" "),e[0].charAt(0).toUpperCase()+". "+e.slice(1).join(" ")):void 0}}),angular.module("rivals").filter("stars",function(){return function(e){return e+=1==e?" star":" stars"}}),angular.module("rivals").filter("timestampToDate",["moment",function(e){return function(t){var n=t.toString(),i=n.match(/\d*-(\d|-)*/g);if(i&&i[0]==n){var r=n.split("-"),o=r[2],a=r[1],s=r[0].slice(2);return 0==o.indexOf("0")&&(o=o.slice(1)),0==a.indexOf("0")&&(a=a.slice(1)),a+"/"+o+"/"+s}if(_.isString(t))var l=t.search("T");return l>0?(t=Date.parse(t.substring(0,l)),e.utc(t).format("M/D/YY")):t?e.utc(t,"X").zone("-06:00").format("M/D/YY"):""}}]),angular.module("rivals").filter("titleize",function(){return function(e){return e?_.map(e.split(" "),function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}).join(" "):void 0}}),angular.module("rivals").filter("type",function(){var e={high_school:"High School",junior_college:"JUCO",prep_school:"Prep School"};return function(t){return _.each(Object.keys(e),function(n){t==n&&(t=e[n])}),t}}),angular.module("rivals").factory("flipperService",["$http","responseHandler","userPaths",function(e,t,n){return{get:function(i){return e({method:"GET",url:n.apiV1FlipperShowPath,params:{"keys[]":i}}).then(t.handleSuccess,t.handleErrors)}}}]),function(){"use strict";angular.module("rivals").service("followingService",["$window",function(e){this.twitterFollowWindow=function(t){e.open("https://twitter.com/intent/follow?screen_name="+t,"_blank","toolbar=yes,scrollbars=yes,resizable=yes,width=500,height=400")},this.facebookFollowWindow=function(t){e.open("https://www.facebook.com/"+t,"_blank","toolbar=yes,scrollbars=yes,resizable=yes")}}])}.call(this);var FormAbandonmentTracker={init:function(e,t,n,i){return this.$ga=e,this.$eventCategory=n?n:t,this.$eventAction=i,this.$formHistory=[],this.$formIsSubmitted=!1,this.$formId=t,this.$form=document.getElementById(t),e?this.$form?void this.attachEvents():void console.error("FormTracker Error: Please specify the correct form id when initializing FormTracker."):void console.error("FormTracker Error: Please pass in your ga object when initializing FormTracker.")},attachEvents:function(){var e=this;this.$form.querySelectorAll("select").forEach(function(t){t.addEventListener("change",function(t){return e.onFieldChange(t)})}),this.$form.querySelectorAll("input, textarea").forEach(function(t){t.addEventListener("input",function(t){return e.onFieldInput(t)})}),this.$form.addEventListener("submit",function(){return e.onFormSubmit()}),window.addEventListener("beforeunload",function(){return e.onFormAbandonment()})},onFieldChange:function(e){var t=e.target.id;this.addFieldToHistory(t)},onFieldInput:function(e){var t=e.target.id;this.addFieldToHistory(t)},addFieldToHistory:function(e){this.$formHistory.push(e),this.$formHistory=this.$formHistory.filter(function(e,t,n){return n.indexOf(e)===t}).sort()},onFormSubmit:function(){this.$formIsSubmitted=!0,this.clearFormHistory()},onFormAbandonment:function(){this.$formIsSubmitted||this.sendEvents()},sendEvents:function(){var e=this.$formHistory.join(", ");this.$ga("send",{hitType:"event",eventCategory:this.$eventCategory,eventAction:this.$eventAction,eventLabel:"Fields with input: "+e})},clearFormHistory:function(){this.$formHistory=[]}};angular.module("rivals").factory("googleAnalyticsFactory",["$log",function(e){return{sendEvent:function(t,n,i){try{var r={hitType:"event",eventCategory:t,eventAction:n};i&&(r.eventLabel=i),ga("send",r)}catch(o){"ReferenceError"!==o.name?e.log(o):e.log("ga not defined")}},sendEcommerceEvent:function(e,t){ga("require","ec"),ga("ec:addProduct",e),ga("ec:setAction","purchase",t)}}}]),function(){"use strict";angular.module("rivals").service("googleAnalyticsService",function(){return{setGaClientId:function(){ga(function(e){var t=e.get("clientId");$(".ga-client-id").val(t)})}}})}.call(this),function(){angular.module("rivals").controller("googleTagManagerController",["$sce",function(e){var t=this;t.init=function(i,r,o){t.siteName=i,t.contentId=null==r?"":r,t.subType=null==o?"":o;var a=n();t.sourceUrl=e.trustAsResourceUrl(a)};var n=function(){return"https://www.googletagmanager.com/ns.html?id=GTM-P25KGGT&u14="+t.subType+"&u15="+t.siteName+"&u16="+t.contentId}}])}.call(this),angular.module("rivals").factory("graphBuildingToolsFactory",function(){return{getDates:function(e){var t=[];t.push(new Date("3/1/"+(e-2).toString()));for(var n=1;9>n;n++){var i=new Date(t[t.length-1]);t.push(new Date(i.setMonth(i.getMonth()+3)))}return t},dropShadowFilter:function(e){var t=e.append("defs").append("filter").attr("id","dropshadow").attr("height","200%").attr("width","200%");t.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",2).attr("result","blur"),t.append("feOffset").attr("in","blur").attr("dx",0).attr("dy",2).attr("result","offsetBlur"),t.append("feFlood").attr("in","offsetBlur").attr("flood-color","black").attr("flood-opacity","0.5").attr("result","offsetColor"),t.append("feComposite").attr("in","offsetColor").attr("in2","offsetBlur").attr("operator","in").attr("result","offsetBlur");var n=t.append("feMerge");n.append("feMergeNode").attr("in","offsetBlur"),n.append("feMergeNode").attr("in","SourceGraphic")},addText:function(e,t,n,i,r,o){return e.append("text").attr("y",n).attr("x",t).attr("text-anchor",i).attr("class",r).text(o)},signingDayLabel:function(e,t,n,i){return this.addText(e,t,n,"end","month-text",i)}}}),angular.module("rivals").factory("htmlEntitiesService",function(){return{decode:function(e){var t=document.createElement("div");return e&&angular.isString(e)&&(e=e.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,""),e=e.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),t.innerHTML=e,e=t.textContent,t.textContent=""),e}}}),function(){"use strict";angular.module("rivals").factory("httpRequestService",["$http","responseHandler",function(e,t){var n=function(n,i){return i=i?i:{},i.headers={"Cache-Control":"no-cache, no-store, must-revalidate"},n+="?nocache=true",e.get(n,i).then(t.handleSuccess,t.handleErrors)};return{getHttpRequestNoCache:n}}])}.call(this),angular.module("rivals").directive("mobileClick",function(){return function(e,t,n){t.bind("touchstart click",function(){e.$apply(function(){e.$eval(n.mobileClick)})})}}),function(){"use strict";angular.module("rivals").factory("navBarFactory",["$document","$window",function(e,t){var n=function(n){var i=e.find(".sticky-footer"),r=e.find(".wrapper-container"),o=e.find(".mobile-header"),a=r.css("height"),s=t.pageYOffset>0;s&&n?(i&&i.removeClass("hidden"),r.css({transition:"top 0.3s ease-in-out",top:"-"+a}),o.css({transition:"top 0.3s ease-in-out",top:"0"})):(i&&i.addClass("hidden"),r.css({transition:"top 0.3s ease-in-out",top:"0"}),o.css({transition:"top 0.3s ease-in-out",top:a}))};return{mobileCollapse:n}}])}.call(this),angular.module("rivals").factory("pluralize",function(){return{pluralize:function(e,t,n){return 1==e?e+" "+t:e+" "+n}}}),angular.module("rivals").constant("prospectProfileConstants",{commitmentStatus:{undecided:"UNDECIDED",signed:"SIGNED LOI",verbal:"VERBAL COMMIT",soft:"SOFT COMMIT"},interestLevel:["Committed","High","Medium","Low","None"],position:{rivals250:1,rivals150:2,state:3,position:4,juco:5,prep:6}}),angular.module("rivals").constant("prospectRankingGraphConstants",{startDate:"2/20/",endDate:"3/10/",graphWidth:580,fortyFiveDays:3888e6,rankMonths:["MAR","JUN","SEP","DEC"],graphGreen:"68c20c",graphBlue:"0a4ea3",graphBlack:"1d2933",greenRGB:[104,194,12],blueRGB:[10,78,163],blackRGB:[29,41,51],graphPositionMidpoint:106}),angular.module("rivals").constant("rankListConstants",{fixedRowRanks:["rivals100","rivals150","rivals250"],otherOfficialRanks:["juco","prep","state","position","pos"]}),function(){"use strict";angular.module("rivals").factory("rankType",["rankListConstants",function(e){var t={},n=e.fixedRowRanks.concat(e.otherOfficialRanks);return t.isOfficialRankType=function(e){return n.includes(e.toLowerCase())},t.isBigThree=function(t){return e.fixedRowRanks.includes(t.toLowerCase())},t.hasDropdown=function(t){var n=e.fixedRowRanks;return n.push("position"),n.push("state"),n.includes(t.toLowerCase())},t}])}.call(this),angular.module("rivals").constant("rankingIds",{rivals100:{year2003:255,year2004:464,year2005:817,year2006:1162,year2007:1475,year2008:1803,year2009:1936,year2010:2369,year2011:2640,year2012:2867,year2013:3053,year2014:3235,year2015:3402,year2016:3512,year2017:3666,year2018:3774},rivals250:{year2003:225,year2004:464,year2005:817,year2006:1248,year2007:1497,year2008:1738,year2009:2073,year2010:2303,year2011:2602,year2012:2868,year2013:3054,year2014:3202,year2015:3404,year2016:3513,year2017:3667},rivals150:{year2003:220,year2004:273,year2005:768,year2006:1428,year2007:1611,year2008:1617,year2009:1642,year2010:1909,year2011:2288,year2012:2509,year2013:2752,year2014:2993,year2015:3252,year2016:3375,year2017:3574,year2018:3733}}),angular.module("rivals").constant("regex",{url:/https?\:\/\/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*/}),angular.module("rivals").service("responseHandler",["$q",function(e){this.handleSuccess=function(e){return e.data},this.handleBraintree=function(t){return e.resolve(t.data.token)},this.handleErrors=function(t){var n="Content failed to load. Please Refresh.";return 422==t.status&&(n=_.reduce(t.data.errors,function(e,t){return e+=t+". "},"")),e.reject(n)},this.handleWithServerSideErrors=function(t){var n;return t.status>=400&&t.data&&(n=t.data.error),e.reject(n)},this.handleUndefinedNullError=function(t){return angular.isDefined(t)&&null!==t?e.reject({error:t.error}):e.reject({error:"No error response"})}}]),function(){"use strict";angular.module("rivals").service("responsiveService",["$rootScope","$window",function(e,t){var n,i,r,o,a,s=function(e){return("string"==typeof e||e instanceof String)&&(e=e.replace(/^['"]+|\s+|\\|(;\s?})+|px|['"]$/g,"")),e},l=function(){var e;return t.getComputedStyle&&(e=t.getComputedStyle(t.document.body,"::before"),e=e&&e.content),JSON.parse(s(e))};this.currentState=function(e){var t={width:n,height:i,breakpoint:r,orientation:o,isThreeColArticleLayout:a};return angular.isFunction(e)&&e.call(this,t),t};var c=function(e){var t=l();if(!t)return null;var n=u();return e>=t.lgdesktop?"desktop-large":e>=t.desktop?"portrait"==n?"desktop-small":"tablet":e>=t.tablet?"portrait"==n?"tablet":"mobile-large":"mobile-small"},u=function(){var e=null;return t.orientation?e=t.orientation:t.screen.orientation&&(e=t.screen.orientation.angle),90===e||270===e?"landscape":"portrait"},d=function(e){var t=l();return t?e>=t.threecolmin?!0:void 0:null};this.onWindowResize=function(){n=t.innerWidth,i=t.innerHeight;var o=c(n);if(a=d(n),o!=r){r=o;var s=u();e.$broadcast("responsive.breakpoint",{width:n,height:i,breakpoint:r,orientation:s})}}.bind(this),this.onOrientationChange=function(){var t=u(),n=!1;"landscape"==t?("landscape"!==o&&(n=!0),o="landscape"):("portrait"!==o&&(n=!0),o="portrait"),n&&e.$broadcast("responsive.orientation",{breakpoint:r,orientation:o})},this.subscribeScopeToOrientationChangeEvents=function(e,t){e.$on("responsive.orientation",t),this.currentState(function(n){t.call(e,null,n)})},this.subscribeScopeToResizeEvents=function(e,t){e.$on("responsive.breakpoint",t),this.currentState(function(n){t.call(e,null,n)})}}]).run(["$window","responsiveService",function(e,t){window.jasmine||(t.onWindowResize(),t.onOrientationChange(),e.addEventListener("resize",_.debounce(t.onWindowResize,50)),e.addEventListener("orientationchange",t.onOrientationChange))}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("common/rvAdminUserList.html","<div class='bootstrap-table padded-card'>\n<table class='table-striped'>\n<thead>\n<tr>\n<td>\nUsername\n</td>\n<td>\nEmail\n</td>\n<td>\nSubscriptions\n</td>\n<td>\nPermissions\n</td>\n</tr>\n</thead>\n<tbody>\n<tr class='item' ng-repeat='user in users'>\n<td class='username'>\n<a ng-href='{{userProfilePath(user)}}'>\n{{user.username}}\n</a>\n</td>\n<td class='email'>\n{{user.email}}\n</td>\n<td class='subscriptions'>\n{{user.subscriptions.join(', ') || '-'}}\n</td>\n<td class='permissions'>\n{{user.publisher_rights.join(', ') || '-'}}\n</td>\n</tr>\n</tbody>\n</table>\n<div class='spinner' ng-if='loading'></div>\n<div class='no-results'>\n<span ng-if='noResults'>\nThere were no users found\n</span>\n<span ng-if='!validSearch'>\nPlease search using one or more filters\n</span>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").directive("rvAdminUserList",["adminPaths",function(e){return{restrict:"E",scope:{subject:"=",noResults:"=",loading:"=",users:"=",validSearch:"="},templateUrl:"common/rvAdminUserList.html",link:function(t){t.isUser="users"==t.subject,t.userProfilePath=function(t){return e.adminUserProfilePath(t.id)}}}}])}.call(this),angular.module("rivals").directive("rvAutoSize",["$window",function(e){return{restrict:"A",link:function(t,n){e.autosize(n)}}}]),function(){angular.module("rivals").controller("rvBreakingNewsConfigController",["$scope","responsiveService","adminContentsService",function(e,t,n){var i=this;i.init=function(e,t){i.breakingNews=e,i.maxLengthSmall=t[0],i.maxLengthLarge=t[1],i.titles=t[2],i.textTruncated=!1,i.getRemainingChars(e.big_font,t),null==e&&(i.setDefault(),i.setPrev())},i.getRemainingChars=function(e){null==i.breakingNews.text?i.textLength=0:i.textLength=i.breakingNews.text.length,e?(i.maxLength=i.maxLengthLarge,i.remainingChars=i.maxLengthLarge-i.textLength):(i.maxLength=i.maxLengthSmall,i.remainingChars=i.maxLengthSmall-i.textLength),i.prevRemainingChars=i.remainingChars},i.changedInput=function(e){"small"==e?(i.maxLength=i.maxLengthSmall,i.remainingChars=i.maxLength):"large"==e&&(i.maxLength=i.maxLengthLarge,i.remainingChars=i.maxLength,i.breakingNews.text.length>i.maxLength&&(i.breakingNews.text=i.breakingNews.text.substring(0,i.maxLength),i.textTruncated=!0)),i.breakingNews.text&&(i.remainingChars=i.maxLength-i.breakingNews.text.length,i.breakingNews.text.length<i.maxLength&&(i.textTruncated=!1))},i.updateBreakingNews=function(){var t={success:!1,updateType:"Breaking News",reason:""};n.saveBreakingNews(i.breakingNews).then(function(n){"error"===n.result?(i.setDefault(),t.reason="No Breaking News Message",e.$emit("homepageSettingsUpdated",t)):(i.breakingNews.id=n.id,i.placeHolderText=i.breakingNews.text,i.setPrev(),t.success=!0,e.$emit("homepageSettingsUpdated",t,n.breakingNews))})},i.unpublishBreakingNews=function(){var t={success:!1,updateType:"Breaking News",reason:""};n.deleteBreakingNews(i.breakingNews).then(function(n){"error"===n.result?(t.reason="No Breaking News to Unpublish",e.$emit("homepageSettingsUpdated",t)):(i.setDefault(),t.success=!0,e.$emit("homepageSettingsUpdated",t,n.breakingNews))})},i.doubleCheckChanges=function(t,n){var i="",r="",o="",a=null;"clear"==t?(i="You are about to unpublish the breaking news banner and remove it from the homepage.",r="unpublish",o="Unpublish",a=n):"cancel"==t&&(i="You are about to cancel your changes breaking news.",r="cancel",o="Cancel Changes");var s={signal:"confirmed_breaking_news_update",updateType:"Breaking News",updateFunction:r,message:i,confirmButton:o,data:a};e.$emit("hpSettingsConfirmChanges",s)},e.$on("confirmed_breaking_news_update",function(t,n){"unpublish"==n.updateFunction?i.unpublishBreakingNews():"cancel"==n.updateFunction&&(i.breakingNews.id?(i.breakingNews.url=i.prevUrl,i.breakingNews.title=i.prevTitle,i.breakingNews.big_font=i.prevBigFont,i.breakingNews.site_color=i.prevSiteColor,i.breakingNews.text=i.prevText,i.remainingChars=i.prevRemainingChars,e.$emit("updatedBreakingNewsData",i.breakingNews)):i.setDefault())}),i.setPrev=function(){i.prevText=i.breakingNews.text,i.prevUrl=i.breakingNews.url,i.prevTitle=i.breakingNews.title,i.prevBigFont=i.breakingNews.big_font,i.prevSiteColor=i.breakingNews.site_color,i.prevRemainingChars=i.remainingChars},i.setDefault=function(){i.breakingNews.text=null,i.breakingNews.url=null,i.breakingNews.id=null,i.breakingNews.title="Breaking",i.breakingNews.big_font=!1,i.breakingNews.site_color=!1,i.remainingChars=i.maxLengthSmall,i.placeHolderText="Enter text"}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("common/rvHeaderAlert.html","<div class='alert' id='alert' ng-class='$ctrl.message.type + &quot;-alert&quot;' ng-if='$ctrl.message &amp;&amp; $ctrl.visible'>\n<div class='wrapper' ng-bind-html='$ctrl.message.message'></div>\n</div>")}]),function(){angular.module("rivals").component("rvHeaderAlert",{bindings:{scrollMin:"<",scrollMax:"<"},templateUrl:"common/rvHeaderAlert.html",controller:["$timeout","$window","alertFactory","$rootScope","responsiveService","$document",function(e,t,n,i,r,o){var a=this;a.alerts=[],a.message=null,a.timeout=null,a.navRowContainer=angular.element.find(".nav-row-container")[0],a.mainWrapper=angular.element.find("main")[0],a.nextMessage=function(){_.isEmpty(a.alerts)?(a.message=null,a.timeout=null,a.adjustElements("remove")):(a.message=a.alerts.shift(),a.timeout=e(function(){a.nextMessage()},1e3*a.message.durationSeconds))},a.onAlert=function(t,n){_.isObject(a.message)?(a.alerts.push(n),e.cancel(a.timeout),a.nextMessage()):(a.adjustElements("add"),a.message=n,a.timeout=e(function(){a.nextMessage()},1e3*n.durationSeconds))},a.adjustElements=function(e){var t=angular.element(o.querySelectorAll('[role="alert"]')),n=t[0]?"push-down-user-profile":"push-down";t[0]&&a.setCssClass(t[0],e,"email-alert"),a.setCssClass(a.mainWrapper,e,n),a.setCssClass(a.navRowContainer,e,n)},a.setCssClass=function(e,t,n){"add"==t?e.classList.add(n):e.classList.remove(n)},a.setVisible=function(){a.isMobile&&!a.scrollMin?a.visible=!0:a.scrollMin&&t.pageYOffset<a.scrollMin?a.visible=!1:a.scrollMax&&t.pageYOffset>a.scrollMax?a.visible=!1:a.visible=!0},r.subscribeScopeToResizeEvents(i,function(e,t){a.isMobile="mobile-large"===t.breakpoint||"mobile-small"===t.breakpoint||"tablet"===t.breakpoint}),angular.element(t).on("scroll",function(){a.setVisible(),i.$applyAsync()}),a.$onInit=function(){a.visible=!1,a.setVisible()},n.subscribeAlerts(a.onAlert)}]})}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("common/rvNavNotification.html","<div class='notification' ng-class='[notificationClass, {unread: notificationCount &gt; 0}]'>\n<a class='notification-link' ng-href='{{notificationLink}}'>\n<div class='count-container'>\n<span class='count'>\n{{notificationCount}}\n</span>\n</div>\n</a>\n</div>")}]),function(){"use strict";angular.module("rivals").directive("rvNavNotification",function(){return{restrict:"E",scope:{currentUser:"=",notificationClass:"=",notificationLink:"=",notificationCount:"="},templateUrl:"common/rvNavNotification.html"}})}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("common/rvProgressBar.html","<div class='progress-bar-container' ng-show='loading'>\n<i class='in-progress' ng-if='value === 0'>\nUploading\n</i>\n<uib-progressbar class='progress-striped active' max='max' value='value'>\n<i ng-if='value !== 0'>\n{{value}} / {{max}}\n</i>\n</uib-progressbar>\n</div>")}]),function(){"use strict";angular.module("rivals").directive("rvProgressBar",function(){return{restrict:"E",scope:{loading:"=",max:"=",value:"="},templateUrl:"common/rvProgressBar.html"}})}.call(this),function(){"use strict";angular.module("rivals").component("rvPublisherTypeahead",{restrict:"E",bindings:{ngModel:"=",onSelect:"&"},controller:["publisherRightsService",function(e){var t=this;t.noResults=!1,t.findPublishers=function(n){return t.noResults=!1,e.findPublishers(n).then(function(e){return _.isEmpty(e.publisher_rights)&&(t.noResults=!0),e.publisher_rights})},t.selectPublisher=function(e){t.onSelect({item:e})}}],templateUrl:"publisherTypeaheadDirective.html"})}.call(this),function(){"use strict";angular.module("rivals").directive("rvRivalsLogo",["capitalizeFilter",function(){return{restrict:"E",scope:{logoType:"@",isHorizontal:"@"},template:'<div ng-class="rivalsLogoClass"></div>',link:function(e){e.rivalsLogoClass=e.logoType+(e.isHorizontal?"-horiz":"")+"-image"}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("common/rvSortableTable.html","<div class='wrapper'>\n<div class='scrollable-shadow'></div>\n<div class='scrollable-table-container'>\n<table class='sortable-table {{subject}}' ng-class='tableClass(selectedSport)' ng-style='{&quot;background-size&quot;: &quot;100% &quot; + backgroundMultiplier}'>\n<thead ng-hide='loading === true || loading === &quot;searchResultsInitialLoad&quot; || (isAdminTool &amp;&amp; isMobile)'>\n<tr>\n<th class='{{category.class}}' ng-click='category.sortable &amp;&amp; sort(category.name, category.prefix)' ng-repeat='category in categories'>\n<span ng-if='category.sortable !== true'>{{category.visibleName.toUpperCase()}}</span>\n<a ng-if='category.sortable === true'>{{category.visibleName.toUpperCase()}}</a>\n<span class='sort-order' ng-class='{reverse:reverseCaret}' ng-if='category.sortable === true' ng-show='predicateCaret === category.name'></span>\n</th>\n</tr>\n</thead>\n<div class='mobile-sort' ng-if='mobileSortOpen &amp;&amp; forecasts'>\n<div class='contents'>\n<div class='mobile-sort-title'>\nSORT BY\n</div>\n<div class='select-container-arrow'>\n<select class='form-control site-dropdown' ng-change='mobileSortSelect(item.value, item.reverseSort)' ng-model='item' ng-options='option.name for option in orderOptions'></select>\n</div>\n</div>\n</div>\n<caption class='interest-table-key visits-page' ng-show='isVisits'>\n<div class='checkbox-container'>\n<input id='unofficial' ng-click='showUnofficial = !showUnofficial' type='checkbox'>\n<label class='key-text' for='unofficial'>\nShow unofficial visits\n</label>\n</div>\n</caption>\n<tbody ng-hide='loading === true'>\n<tr class='prospect-table-row' id='content_{{item.id}}' ng-class-even='&#39;even&#39;' ng-class-odd='&#39;odd&#39;' ng-class='{&#39;open&#39;: isActive, &#39;highlight&#39;: isAdminTool, &#39;selected&#39;: item &amp;&amp; selectedItem(item),\n&#39;locked-disabled&#39;: forecasts &amp;&amp; forecastLocked(item)}' ng-click='forecasts &amp;&amp; !forecastLocked(item) ? showHideFlyout(item) : null' ng-init='isActive = false' ng-mouseout='isActive = false' ng-mouseover='isActive = true' ng-repeat-start='item in selectedSport[subject] | orderBy:predicate:false:comparator' ng-show='hasOfficialVisits(item.visits) || showUnofficial'>\n<td class='{{category.class}}' ng-repeat='category in categories'>\n<div class='rank-overlay'></div>\n<div class='arrow-container' ng-click='showHideFlyout(item)' ng-if='category.dataType == &quot;more_info&quot;'>\n<div class='arrow-right' ng-show='currentIndex != itemIndex(item)'></div>\n<div class='arrow-down' ng-show='currentIndex == itemIndex(item)'></div>\n</div>\n<a ng-href='{{editUrl(item)}}' ng-if='category.dataType == &quot;gallery_image&quot;'>\n<img ng-if='item.images.length &gt; 0' ng-src='{{item.images[0].thumbnail_url}}'>\n<div class='stub-image' ng-if='item.images.length == 0'>\nNo images\n</div>\n<div class='image-count' ng-if='item.images'>\n<span>\n{{item.images.length}}\n</span>\n</div>\n</a>\n<a ng-href='{{editUrl(item)}}' ng-if='category.dataType == &quot;description&quot;'>\n<div class='publish-status'>\n<span>\n<div class='premium-icon' ng-if='item.premium'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n</span>\n<span ng-class='publishStatusClass(item)'>\n{{ item.publish_status }}\n</span>\n<span ng-if='item.live_at'>\n{{publishedDateTime(item.live_at)}}\n</span>\n</div>\n<div class='name' ng-if='!isContent'>\n{{ item.name }}\n</div>\n<div class='name' ng-if='isContent'>\n{{ item.title }}\n</div>\n</a>\n<i ng-class='typeClass(item)' ng-if='category.dataType == &quot;type_icon&quot;'></i>\n<div class='clipboard' data-clipboard-text='{&quot;url&quot;:&quot;{{getUrl(item)}}&quot;,&quot;title&quot;:&quot;{{item.title}}&quot;}' ng-if='category.dataType == &quot;type_icon&quot; &amp;&amp; !item.draft &amp;&amp; isContent' ng-init='item.copiedActive = false' ng-mouseout='hideTooltip($event)' ng-mouseover='showTooltip($event)'>\n<div class='clipboard-tooltip' ng-class='{&#39;hide&#39;: !item.copiedActive}' ng-init='item.copied = false'>\n<div class='tooltip-text' ng-class='{&#39;hide&#39;: !item.copied}'>\nURL Copied!\n</div>\n<div class='tooltip-text' ng-class='{&#39;hide&#39;: item.copied}'>\nCopy URL\n</div>\n</div>\n</div>\n<div class='profile' ng-class='{&#39;visits-name&#39;: isVisits, &#39;article-rank-bg&#39;: isArticle || isEditArticle }' ng-if='category.dataType == &quot;link&quot;'>\n<a ng-href='{{item.url || item.prospect_url}}' ng-if='!category.suppress_prospect_image'>\n<img class='commitment-logo' ng-class='{&#39;article-rank-logo&#39;: isArticle, &#39;edit-article-rank-logo&#39;: isEditArticle}' ng-if='item.school_name &amp;&amp; item.big_college_logo' ng-src='{{item.big_college_logo}}'>\n<img class='profile-img' ng-if='item.profile_image_url' ng-src='{{item.profile_image_url}}'>\n<img class='profile-img player-img-placeholder' ng-if='!item.profile_image_url'>\n</a>\n<div class='name-star' ng-if='!hideNameStars(selectedSport)'>\n<a ng-href='{{item.url || item.prospect_url}}' style='display:block;'>\n<div class='first-name'>\n{{ item.first_name }}\n</div>\n<div class='last-name'>\n{{ item.last_name }}\n</div>\n</a>\n<rv-stars ng-if='category.dataType == &quot;link&quot;' num-stars='item.stars'></rv-stars>\n</div>\n<div class='name' ng-class='{&#39;visits-name&#39;: isVisits}' ng-if='hideNameStars(selectedSport)'>\n<a ng-href='{{item.url || item.prospect_url}}' style='display:block;'>{{ item[category.name] | shortName: 20 }}</a>\n</div>\n</div>\n<a ng-href='{{editUrl(item)}}' ng-if='category.dataType == &quot;edit_link&quot;'>{{ item[category.name] }}</a>\n<rv-stars ng-if='category.dataType == &quot;stars&quot;' num-stars='item.stars'></rv-stars>\n<span class='pos' ng-if='category.dataType == &quot;text&quot;'>\n{{ item[category.name] }}\n</span>\n<span class='pos' ng-if='category.dataType == &quot;weight&quot;'>\n{{ item[category.name] }}\n</span>\n<span class='pos' ng-if='category.dataType == &quot;position&quot;'>\n{{ item[category.name] }}\n</span>\n<span ng-if='category.dataType == &quot;type&quot;'>\n{{ item[category.name] | type }}\n</span>\n<span class='ordinality' ng-class='{&#39;locked-disabled&#39;: forecasts &amp;&amp; forecastLocked(item)}' ng-if='category.dataType == &quot;rank&quot;'>\n{{ item[category.name] | rank }}\n</span>\n<div class='lightning-fade' ng-if='category.dataType == &quot;rank&quot; &amp;&amp; item.rank_change &gt;= 5 &amp;&amp; isOfficialRank(selectedSport)'></div>\n<div class='change-inner-cell' ng-if='category.dataType == &quot;change&quot; &amp;&amp; (item.rank_change != null &amp;&amp; item.rank_change != 0 )'>\n<div class='lightning-bolt' ng-if='item.rank_change &gt;= 5'></div>\n<div class='change-rank-increase' ng-if='(item.rank_change != 0 &amp;&amp; item.rank_change != null) &amp;&amp; item.rank_change &gt; 0'></div>\n<div class='change-rank-decrease' ng-if='(item.rank_change != 0 &amp;&amp; item.rank_change != null) &amp;&amp; item.rank_change &lt; 0'></div>\n<div class='number'>{{ (item.rank_change != 0 && item.rank_change != null) ? Math.abs(item.rank_change) : '-' }}</div>\n</div>\n<div class='dash' ng-if='category.dataType == &quot;change&quot; &amp;&amp; ( item.rank_change == 0 || item.rank_change == null) '>\n<div class='no-change'>-</div>\n</div>\n<div class='break-text' ng-if='category.dataType == &quot;breakText&quot;'>\n{{item[category.textOne]}}\n<br>\n{{item[category.textTwo]}}\n</div>\n<div ng-if='category.dataType == &quot;forecast_caret&quot;'>\n<div class='arrow-container' ng-if='!forecastLocked(item)'>\n<div class='arrow-right' ng-if='!selectedItem(item)'></div>\n<div class='arrow-down' ng-if='selectedItem(item)'></div>\n</div>\n<div class='lock' ng-if='forecastLocked(item)'></div>\n</div>\n<div ng-class='{&#39;locked-disabled&#39;: forecastLocked(item)}' ng-if='category.dataType == &quot;forecast_player_name&quot; &amp;&amp; !isMobile'>\n<div class='bolded-prospect-name'>\n{{ item.name }}\n</div>\n<div>\n{{ item.hometown }}\n</div>\n</div>\n<div class='forecasts-prospect-name' ng-if='category.dataType == &quot;forecast_player_name&quot; &amp;&amp; isMobile'>\n<div class='bolded-prospect-name'>\n{{ item.name }}\n</div>\n<div class='forecasts-hometown-mobile'>\n{{ item.hometown }}\n</div>\n<div class='forecasts-prospect-sport' ng-if='kind == &quot;other&quot;'>\n{{ item.sport}}\n</div>\n<div class='forecasts-commitment'>\n<span ng-if='item.status === &quot;undecided&quot;'>Undecided</span>\n<span ng-if='item.committed_college'>Committed:</span>\n<span ng-class='&quot;college-name&quot;' ng-if='item.committed_college'>\n{{ item.committed_college.short_name }}\n</span>\n</div>\n</div>\n<div class='forecasts-prospect-sport' ng-if='category.dataType == &quot;forecast_sport&quot; &amp;&amp; !isMobile'>\n<div></div>\n{{ item.sport }}\n</div>\n<div class='forecasts-commit-status' ng-if='category.dataType == &quot;forecast_school&quot; &amp;&amp; !isMobile'>\n<div ng-if='!forecastLocked(item)'>\n<div class='forecasts-committed-college' ng-if='item.status === &quot;undecided&quot;'>\nUndecided\n</div>\n<div class='forecasts-committed-college' ng-if='item.committed_college'>\n<img class='forecasts-commitment-logo' ng-if='item.committed_college' ng-src='{{item.committed_college.large_team_logo || item.committed_college.small_ncaaf_team_logo}}'>\n<div class='forecasts-commitment-data'>\n<div class='committed'>\nCommitted\n</div>\n<div class='college-name'>\n{{ item.committed_college.short_name }}\n</div>\n</div>\n</div>\n</div>\n<div class='locked-commitment' ng-if='forecastLocked(item)'>\nUpcoming announcement\n</div>\n</div>\n<div class='forecasts-latest-forecast' ng-if='category.dataType == &quot;latest_forecast&quot; &amp;&amp; !isMobile'>\n<div class='forecasts-latest-forecast-college' ng-if='item.forecasts.length'>\n<div class='forecast-logo-container'>\n<img class='forecasts-latest-forecast-college-logo' ng-class='{&#39;unlikely-logo&#39;: item.latest_forecast_no_longer_likely}' ng-if='item.forecasts' ng-src='{{item.latest_forecast_college.large_team_logo || item.latest_forecast_college.small_ncaaf_team_logo}}'>\n</div>\n<div class='forecasts-latest-data'>\n<div class='forecast-date' ng-class='{&#39;locked-disabled&#39;: forecastLocked(item)}'>\n{{item.latest_forecast.forecast_date | timestampToDate}}\n</div>\n<div class='forecast-college' ng-class='{&#39;locked-disabled&#39;: forecastLocked(item)}'>\n{{ item.latest_forecast_college.short_name }}\n</div>\n<div class='forecast-marked-unlikely' ng-if='item.latest_forecast_no_longer_likely'>unlikely</div>\n</div>\n</div>\n</div>\n<div class='forecasts-latest-forecast' ng-if='category.dataType == &quot;latest_forecast&quot; &amp;&amp; isMobile'>\n<div class='forecasts-latest-forecast-college' ng-if='item.forecasts.length'>\n<div class='forecasts-latest-data'>\n<span>FORECAST</span>\n<div class='forecasts-college-name'>\n{{ item.latest_forecast_college.short_name }}\n</div>\n<div class='forecast-marked-unlikely' ng-if='item.latest_forecast_no_longer_likely'>unlikely</div>\n<div>\n{{item.latest_forecast.forecast_date | timestampToDate}}\n</div>\n</div>\n</div>\n</div>\n<div class='forecasts-total' ng-class='{&#39;locked-disabled&#39;: forecastLocked(item)}' ng-if='category.dataType == &quot;total_forecasts&quot;'>\n{{ (item.forecasts.length) || '-' }}\n</div>\n<div class='school-visits' ng-if='category.dataType == &quot;visit&quot;'>\n<div ng-repeat='visit in item.visits | orderBy: &quot;-visit_date&quot;'>\n<div class='official-visits' ng-if='visit.visit_official'>\n<div class='tooltip-hover' ng-show='hover'>\n<div class='tooltip-hover-text'>Official Visit</div>\n</div>\n<div class='official-dot visit-page' ng-mouseenter='hover = true' ng-mouseleave='hover = false'></div>\n<div class='date official'>\n{{visit.visit_date | timestampToDate}}\n</div>\n</div>\n<div ng-if='showUnofficial &amp;&amp; !visit.visit_official'>\n<div class='space visit-page'></div>\n{{visit.visit_date | timestampToDate}}\n</div>\n</div>\n</div>\n<div class='school-name' ng-if='category.dataType == &quot;school&quot;'>\n<a ng-href='{{schoolUrl(item)}}' ng-if='hasSchoolUrl(item)'>{{ schoolName(item) }}</a>\n<span ng-if='!hasSchoolUrl(item)'>{{ schoolName(item) }}</span>\n<div class='prospect-committed' ng-if='isCommitted(item)'>\n<div ng-if='!item.commit_date &amp;&amp; subject !== &quot;team_rankings&quot;'>\n(No date)\n</div>\n<div ng-if='item.commit_date &amp;&amp; (subject !== &quot;state_rankings&quot;)'>\n{{item.commit_date | timestampToDate}}\n</div>\n<div ng-if='item.commit_date &amp;&amp; (subject === &quot;state_rankings&quot;)'>\n{{item.commit_date}}\n</div>\n<rv-commit-status status='item.status'></rv-commit-status>\n</div>\n</div>\n<span class='height' ng-if='category.dataType == &quot;height&quot;'>\n{{ item[category.name] | inchesToFeet}}\n</span>\n<span ng-class='{&quot;committed-span&quot;: category.name == &quot;committed&quot;}' ng-if='category.dataType == &quot;timestamp&quot;'>\n<span ng-if='item[category.name]'>\n{{ item[category.name] | timestampToDate}}\n</span>\n<span ng-if='!item[category.name] &amp;&amp; category.name == &quot;committed&quot;'>\n(No Date)\n</span>\n<rv-commit-status status='item.status'></rv-commit-status>\n</span>\n<a ng-href='{{schoolUrl(item)}}' ng-if='category.dataType == &quot;logo&quot;'>\n<img ng-src='{{item.logo}}'>\n</a>\n<a class='edit-prospect-link' ng-click='$event.stopPropagation()' ng-href='{{openTableRow(item)}}' ng-if='category.dataType ===  &quot;open-action&quot; &amp;&amp; (item.prospect_id || item.college_player_id)'>\nEDIT\n</a>\n<a data-confirm='Delete this {{subject === &#39;people&#39; ? &#39;player&#39; : subject.substring(0, subject.length-1)}}?' data-method='delete' ng-class='&quot;delete-&quot; + subject' ng-href='{{deleteTableRow(item)}}' ng-if='category.dataType == &quot;trash-action&quot;'></a>\n<i ng-if='category.dataType == &quot;premium_icon&quot;'>\n<div class='premium-icon' ng-if='item.premium'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n</i>\n<div class='created' ng-click='gotoLink(item)' ng-if='category.dataType == &quot;created&quot;'>\n<span ng-if='item.created_at'>\n{{item[category.name] | timestampToDate}}\n</span>\n<div class='author-name'>\n{{item.creator_author_name}}\n</div>\n</div>\n<div class='modified' ng-click='gotoLink(item)' ng-if='category.dataType == &quot;modified&quot;'>\n{{item[category.name] | timestampToDate}}\n<div class='author-name'>\n{{item.modifying_author_name}}\n</div>\n</div>\n<div class='publish-status' ng-click='gotoLink(item)' ng-if='category.dataType == &quot;publishedStatus&quot;'>\n<span ng-if='item.live_at'>\n{{publishedDateTime(item.live_at)}}\n</span>\n<div class='{{publishStatusClass(item)}}'>\n{{ item[category.name] }}\n</div>\n</div>\n<div class='information-icon' ng-class='{selected: selectedItem(item)}' ng-click='showHideFlyout(item)' ng-if='category.dataType == &quot;gallery_info_icon&quot;'></div>\n<div class='arrow-up' ng-if='category.dataType == &quot;gallery_info_icon&quot;' ng-show='selectedItem(item)'></div>\n<div class='dropdown' ng-if='category.dataType == &quot;multi-action&quot;' uib-dropdown>\n<a>\n<div aria-expanded='false' aria-haspopup='true' class='multi-action' data-target='#' data-toggle='dropdown' role='button' uib-dropdown-toggle></div>\n</a>\n<ul class='dropdown-menu dropdown-menu-right'>\n<li class='dropdown-item' ng-repeat='link in item.links'>\n<a ng-href='{{link.link}}' ng-if='link.text != &quot;Delete&quot; &amp;&amp; link.text != &quot;Preview&quot; &amp;&amp; link.text != &quot;Clone&quot;' target='{{link.target}}'>{{link.text}}</a>\n<a ng-click='showPreview(item)' ng-if='link.text == &quot;Preview&quot;'>{{link.text}}</a>\n<a data-confirm='Delete this {{subject == &quot;galleries&quot; ? &quot;gallery&quot; : subject.substring(0, subject.length-1)}}?' data-method='delete' ng-href='{{item.prospect_id ? deleteTableRow(item.prospect_id) : link.link}}' ng-if='link.text == &quot;Delete&quot;'>{{link.text}}</a>\n<a ng-click='cloneArticle(item)' ng-if='link.text == &quot;Clone&quot;'>{{link.text}}</a>\n</li>\n</ul>\n</div>\n</td>\n</tr>\n<tr class='flyout-row' ng-if='isAdminTool' ng-repeat-end>\n<td class='flyout' colspan='{{colSpan}}' ng-if='forecasts &amp;&amp; !isGallery' ng-show='selectedItem(item)'>\n<rv-forecast-dropdown is-my-forecasts='isMyForecasts' prospect='item' selected-publisher='selectedPublisher'></rv-forecast-dropdown>\n</td>\n<td class='flyout' colspan='{{colSpan}}' ng-if='isMobile &amp;&amp; !forecasts || isGallery'>\n<rv-gallery-flyout current-index='currentIndex' gallery='item' index='itemIndex(item)' ng-if='isGallery'></rv-gallery-flyout>\n<div class='flyout' ng-class='{&#39;lists-flyout&#39;: isList, &#39;contents-flyout&#39;: isContent}' ng-if='(isContent || isList) &amp;&amp; isMobile' ng-show='selectedItem(item)'>\n<div class='year' ng-if='!isContent'>\nYear:\n<span>\n{{item.year}}\n</span>\n</div>\n<div class='site' ng-if='!isContent'>\nSite:\n<span>\n{{item.site_name}}\n</span>\n</div>\n<div class='created'>\nCreated:\n<span>\n{{ item.created_at | timestampToDate }};\n</span>\n<div class='author-name'>\n{{item.author_name}}\n</div>\n</div>\n<div class='modified'>\nModified:\n<span>\n{{ item.updated_at | timestampToDate }};\n</span>\n<div class='author-name'>\n{{item.modifying_author_name}}\n</div>\n</div>\n</div>\n</td>\n</tr>\n</tbody>\n</table>\n<div class='spinner' ng-show='loading === true || fetchingPage === true'></div>\n<div class='no-results' ng-if='noResults'>\n<div class='custom-error' ng-if='customNoResultsMessage'>\n{{customNoResultsMessage}}\n</div>\n<div class='default-error' ng-if='!customNoResultsMessage'>\nThere were no {{displaySubject}} found\n</div>\n</div>\n</div>\n</div>");
}]),function(){"use strict";angular.module("rivals").directive("rvSortableTable",["$window","userPaths","$localStorage","search","$filter","mediaModalService","$timeout","rankType","$location","$injector",function(e,t,n,i,r,o,a,s,l,c){if(c.has("adminPaths"))var u=c.get("adminPaths");if(c.has("adminPaths")&&c.has("adminContentsService"))var d=c.get("adminContentsService");return{restrict:"E",scope:{selectedSport:"=?",subject:"=",categories:"=",sport:"=",year:"=",forecasts:"=",noResults:"=",loading:"=",query:"=",sortSideEffect:"=",isAdminTool:"=",isMobile:"=",kind:"=",listDesign:"=?",backgroundMultiplier:"=",fetchingPage:"=",page:"=",lock:"=",orderOptions:"=",mobileSortOpen:"=",customNoResultsMessage:"=",isMyForecasts:"=",selectedPublisher:"="},templateUrl:"common/rvSortableTable.html",link:function(c){function p(){c.isAdminTool||(v.scrollWidth>e.innerWidth?angular.element(g).addClass("active"):angular.element(g).removeClass("active"))}function h(e,t){return"null"==e?-1:"null"==t?1:t>e?-1:1}function f(){return"state_rankings"==c.subject||"rankings"==c.subject||"visits"==c.subject||"offers"==c.subject}c.commitmentsPath=t.commitmentsPath,c.isGallery="galleries"==c.subject,c.isList="lists"==c.subject,c.isHistory="history"==c.subject,c.isContent="contents"==c.subject,c.isVisits="visits"==c.subject,c.colSpan=c.isMobile?4:8,c.isArticle="article"==c.page,c.isEditArticle="editArticle"==c.page,c.displaySubject=c.isList?"rankings & rosters":c.subject,c.selectedSport&&!angular.isArray(c.selectedSport[c.subject])&&(c.selectedSport[c.subject]=[]),c.mobileSortOpen=c.mobileSortOpen,c.isMyForecasts=c.isMyForecasts,c.selectedPublisher=c.selectedPublisher,c.orderOptions=c.orderOptions,c.Math=e.Math,c.predicate="",c.reverse=!1,c.showUnofficial=!1;var m=$(".scrollable-table-container")[0],g=$(".scrollable-shadow")[0],v=$("table.sortable-table")[0];c.isOfficialRank=function(e){return e&&e.kind?s.isOfficialRankType(e.kind):!1},c.isCommitted=function(e){return"undecided"!==e.status},c.tableClass=function(e){var t=c.isAdminTool?"admin-table ":"",n=c.listDesign?"list ":"",i="";return e&&"rivals100"==e.kind?i="gradient-short ":c.isOfficialRank(e)&&(i="gradient-long "),t+n+i},e.addEventListener("resize",p),c.isContent&&e.addEventListener("copy",function(e){try{var t=JSON.parse(e.target.value);t.url&&t.title&&(e.clipboardData.setData("text/plain",t.url),e.clipboardData.setData("text/html",'<a href="'+t.url+'">'+t.title+"</a>"),e.preventDefault())}catch(n){return!1}}),c.$watch("selectedSport",p),c.isAdminTool||angular.element(m).scroll(function(){m.scrollLeft===m.scrollWidth-m.getBoundingClientRect().right?angular.element(g).removeClass("active"):angular.element(g).addClass("active")}),c.mobileSortSelect=function(e,t){c.predicate=c.predicateCaret=e,c.reverse=c.reverseCaret=!0,t&&(c.reverse=c.reverseCaret=!1,c.predicateCaret=""),c.sort(e)},c.sort=function(e,t){c.predicateCaret===e?c.reverseCaret===!1?c.predicate=c.predicateCaret="":(c.reverse=c.reverseCaret=!1,c.predicate=c.predicateCaret=e):(c.reverse=c.reverseCaret=!0,c.predicate=c.predicateCaret=e);var n=c.predicate;_.isString(t)&&""!=c.predicate&&(n=[t,n].join(".")),c.sortSideEffect&&function(){c.sortSideEffect(n),c.predicate="",c.reverse=!1}()},c.comparator=function(e,t){if(c.predicate){var n=e.value,i=t.value;if("location"==c.predicate){var r=n.split(",")[0],o=i.split(",")[0],a=n.split(",")[1],s=i.split(",")[1];a==s?(n=r,i=o):(n=a,i=s)}return c.reverse?-h(n,i):h(n,i)}},c.schoolUrl=function(e){return e.school_url?e.school_url:f()&&e.school_commits_url?e.school_commits_url:e.prospect_url+"#college_choices"},c.openTableRow=function(e){if(c.query&&(n[i.LOCAL_STORAGE_KEY]=c.query),angular.isDefined(u)){if(e.college_player_id)return u.adminCollegePlayersPath(e.college_player_id);if(e.prospect_id)return u.adminProspectsPath(e.prospect_id)}},c.getUrl=function(e){return e.external_content_url?e.external_content_url:t.siteUrl(e.site.short_name)+_.find(e.links,{text:"View"}).link},c.hideTooltip=function(e){var t=angular.element(e.target)[0].firstElementChild,n=angular.element(t)[0].firstElementChild;angular.element(n).hasClass("hide")&&angular.element(t).addClass("hide")},c.showTooltip=function(e){var t=angular.element(e.target)[0].firstElementChild;angular.element(t).removeClass("hide")},c.deleteTableRow=function(e){return e.prospect_id&&angular.isDefined(u)?u.adminProspectsDestroyPath.replace("id",e.prospect_id):""},c.editUrl=function(e){var t=_.find(e.links,{text:"Edit"});return t?t.link:""},c.hasSchoolUrl=function(e){return e.school_url||e.school_commits_url||f()},c.schoolName=function(e){return e.school_id||e.school_name?e.school_name||e.committed_college_name:"prospects"==c.subject?"":"Undecided"},c.typeClass=function(e){if(c.isList)var t=e.list_type?e.list_type:e.type,n="list-type-"+t.toLowerCase();else c.isContent&&(n=e.content_type+"-type");return n},c.publishStatusClass=function(e){return!c.isContent||e.draft||e.live?e.draft?e.draft?"draft":void 0:"published":"scheduled"},c.currentIndex=null,c.itemIndex=function(e){return angular.isArray(c.selectedSport[c.subject])?c.selectedSport[c.subject].indexOf(e):void 0},c.$on("switchForecastTabs",function(){c.currentIndex=null}),c.showPreview=function(n,i){if(i.preventDefault(),n.draft)c.gallery=n,c.images=n.images,o.showPreviewModal(c);else{var r=t.siteUrl(n.site_identifier)+"/galleries/"+n.id;e.open(r,"_blank")}},c.cloneArticle=function(t){var n=t.id;d.cloneContent(n)["finally"](function(){e.location.reload()})},c.selectedItem=function(e){return c.itemIndex(e)==c.currentIndex},c.$on("galleryFlyout:hide",function(){c.currentIndex=null}),c.showHideFlyout=function(e){var t=c.itemIndex(e);c.currentIndex=c.currentIndex==t?null:t},c.publishedDateTime=function(e){var t=r("timestampToDate")(e),n=r("liveTime")(e)?"; "+r("liveTime")(e):"";return t+n},c.gotoLink=function(t){"history"==c.subject&&(t.canEdit?e.location.href=l.absUrl():e.location.href=l.absUrl()+"/v"+t.version)},c.hideNameStars=function(e){return"offers"===c.subject||"commitments"===c.subject||"visits"===c.subject||"prospects"===c.subject||"rosters"===c.subject||"rankings"===c.subject&&e.kind&&"OTHER"===e.kind.toUpperCase()},c.hasOfficialVisits=function(e){return c.isVisits?_.some(e,{visit_official:!0}):!0},c.forecastLocked=function(e){var t=36e5,n=new Date,i=n.getTime()+6e4*n.getTimezoneOffset(),r=new Date(i+-5*t),o=new Date(e.announcement_date).getTime(),a=c.lock*t;return r>o-a&&o+a>r},c.$on("refreshForecastsAfterNewForecastCreation",function(){c.currentIndex=null}),angular.element(document).ready(function(){c.clipboard=new Clipboard(".clipboard"),c.clipboard.on("success",function(e){var t=angular.element(e.trigger)[0].firstElementChild,n=angular.element(t)[0].firstElementChild,i=angular.element(t)[0].lastElementChild;angular.element(t).removeClass("hide"),angular.element(n).removeClass("hide"),angular.element(i).addClass("hide"),a(function(){angular.element(t).addClass("hide"),angular.element(n).addClass("hide"),angular.element(i).removeClass("hide")},2e3),e.clearSelection()})})}}}])}.call(this),angular.module("rivals").factory("schoolByGroupDivision",["$window",function(e){var t=e.location.host,n=/(rivals-.*?\.com)/.exec(t);t=n&&2===n.length?n[1]:"rivals.com";var i=function(e,n,i,r){var o={title:e,items:{}};n&&(o.group=n),i.forEach(function(e){var n=angular.isArray(e)?e[1]:e.toLowerCase().replace(/\s/g,"");o.items[n]={title:angular.isArray(e)?e[0]:e,link:"//"+n+"."+t}}),r.items[e]=o},r={title:"Teams",items:{}},o={AAC:{group:"Colleges",schools:["Cincinnati","Connecticut","East Carolina","Houston","Memphis","Navy","SMU","Temple","Tulane","Tulsa","UCF","USF"]},ACC:{schools:["Boston College","Clemson","Duke","Florida State","Georgia Tech","Louisville","Miami","North Carolina",["North Carolina State","ncstate"],"Pittsburgh","Syracuse","Virginia","Virginia Tech","Wake Forest"]},"Atlantic 10":{schools:["Dayton","Duquesne","Richmond","Xavier"]},"Big 12":{schools:["Baylor","Iowa State","Kansas","Kansas State","Oklahoma","Oklahoma State","TCU","Texas","Texas Tech","West Virginia"]},"Big East":{schools:["Creighton","DePaul","Georgetown","Marquette","Seton Hall",["St. John's","stjohns"],"Villanova"]},"Big Ten":{schools:["Illinois","Indiana","Iowa","Maryland","Michigan","Michigan State","Minnesota","Nebraska","Northwestern","Ohio State",["Penn State","bwi"],"Purdue","Rutgers","Wisconsin"]},"Conference USA":{schools:["Charlotte",["Florida Atlantic","fau"],["Florida International University","fiu"],["Louisiana Tech","latech"],"Marshall","Middle Tennessee","North Texas","Rice","Southern Miss","UAB","UTEP","UTSA",["Western Kentucky","wku"]]},Independents:{schools:["Army","BYU",["James Madison University","jamesmadison"],"Notre Dame"]},"Junior College":{schools:[["JUCO Basketball","jucojunction"],["JUCO Football","jcgridiron"]]},MAC:{schools:["Central Michigan","Kent State","Toledo","Western Michigan"]},"Mountain West":{schools:["Boise State","Colorado State","Fresno State","Nevada","New Mexico","San Diego State","UNLV","Wyoming"]},"Pac-12":{schools:["Arizona","Arizona State",["California","cal"],"Colorado","Oregon","Oregon State","Stanford","UCLA","USC","Utah","Washington","Washington State"]},SEC:{schools:["Alabama","Arkansas","Auburn","Florida",["Georgia","uga"],"Kentucky","LSU","Mississippi State","Missouri","Ole Miss","South Carolina","Tennessee",["Texas A&M","tamu"],"Vanderbilt"]},"Sun Belt":{schools:["Appalachian State","Arkansas State",["Louisiana Monroe","ulm"],"New Mexico State","Texas State","Troy"]},More:{schools:["Robert Morris"]},West:{group:"High Schools",schools:[["Alaska","alaskapreps"],["Arizona","arizonavarsity"],["California","californiapreps"],["Colorado","coloradoprepreport"],["Nevada","nevadaprepreport"],["New Mexico","nmpreps"],["Northern California","norcalpreps"],["Oregon","oregonpreps"],"Southern California Preps",["Washington","washingtonpreps"]]},Midwest:{schools:["Edgy Tim",["Indiana","hickoryhusker"],["Iowa","iowapreps"],["Kansas","hovpen"],["Michigan","michiganpreps"],["Minnesota","minnesotapreps"],["Missouri","mosports"],["Nebraska","huskerlandpreps"],["Oklahoma Varsity","okvarsity"],["Texas","lonestarpreps"],["Texas Basketball","texashoops"],["Wisconsin","wisconsinhigh"]]},Northeast:{schools:[["Delaware","depreps"],["Greater Cincinnati","queencityhigh"],["Maryland","marylandvarsity"],["New Jersey","njvarsity"],["New Jersey Basketball","njhoops"],["New York City Basketball","nychoops"],["Ohio","ohiopreps"],["Pennsylvania","papreps"],["Virginia","virginiapreps"],["West Virginia Preps","wvpreps"]]},Southeast:{schools:[["Alabama","alabamavarsity"],["Arkansas","arkansasvarsity"],["Florida","flavarsity"],["Georgia","gavarsity"],["Kentucky","kentuckypreps"],["Louisiana","pelicanpreps"],"Magnolia Preps",["North Carolina","ncpreps"],["North Carolina Private School Sports","ncprivateschoolsports"],["South Carolina","scvarsity"],["Tennessee","tnvarsity"]]},Other:{schools:["Canada Varsity"]}};return Object.keys(o).map(function(e){var t=o[e];i(e,t.group,t.schools,r)}),r}]),angular.module("rivals").constant("search",{PROSPECT:"Prospect",PLAYER:"Player",COACH:"Coach",LOCAL_STORAGE_KEY:"rivalsAdminSearch",YEARS:_.range(2e3,(new Date).getFullYear()+5,1),CREATED:"Created",PUBLISHED:"Published",MODIFIED:"Modified"}),function(){"use strict";angular.module("rivals").service("sharingService",["$window",function(e){this.shareFacebook=function(t){var n="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t);e.open(n,"new-window","height=250,width=600")},this.shareTwitter=function(t,n){var i="https://twitter.com/intent/tweet?url="+encodeURIComponent(t);n&&(i+="&text="+encodeURIComponent(n)),e.open(i,"new-window","height=250,width=600")},this.shareReddit=function(t,n){var i="http://www.reddit.com/submit?url="+encodeURIComponent(t);angular.isDefined(n)&&(i+="&title="+encodeURIComponent(n)),e.open(i,"new-window","height=250,width=600")},this.showEmbed=function(t,n){var i=n+"/content/prospects/"+t+"/embed";e.open(i,"new-window","height=325,width=500")},this.emailLink=function(e,t){return"mailto:?subject="+encodeURIComponent(e)+"&body="+encodeURIComponent(t)}}])}.call(this),angular.module("rivals").directive("showOnHoverParent",function(){return{restrict:"A",link:function(e,t){t.parent().bind("mouseenter",function(){t.show()}),t.parent().bind("mouseleave",function(){t.hide()})}}}),angular.module("rivals").factory("siteFactory",["$http","responseHandler",function(e,t){return{getSites:function(){return e.get("/api/v1/sites.json",{cache:!0}).then(t.handleSuccess,t.handleErrors).then(function(e){return e.sites})}}}]),angular.module("rivals").constant("states",{Alabama:"AL",Alaska:"AK","American Samoa":"AS",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE","District Of Columbia":"DC","Federated States Of Micronesia":"FM",Florida:"FL",Georgia:"GA",Guam:"GU",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME","Marshall Islands":"MH",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND","Northern Mariana Islands":"MP",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Palau:"PW",Pennsylvania:"PA","Puerto Rico":"PR","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT","Virgin Islands":"VI",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY"}),angular.module("rivals").constant("subscriptionsConstants",{APPLE_SUBSCRIPTION_LINK:"https://apps.apple.com/account/subscriptions",GOOGLE_SUBSCRIPTION_LINK:"https://play.google.com/store/account/subscriptions"}),function(){"use strict";angular.module("rivals").factory("timeZones",["moment",function(e){var t=function(){return["US/Alaska","US/Mountain","US/Central","US/Pacific","US/Eastern","US/Hawaii"]},n=function(t){var n=new Date,i=n.toLocaleString("en",{timeZoneName:"short"}).split(" ").pop(),r="US/Central";return _.each(e.tz._zones,function(e){t.includes(e.name)&&e.abbrs.includes(i)&&(r=e.name)}),r},i=function(t,n){var i=parseInt(e(t).tz(n).format("DD")),r=parseInt(e(t).tz(n).format("H")),o=e(t);return o.date(i).hours(r).toDate()};return{getUsZones:t,getLocalTimeZone:n,displayInTimeZone:i}}])}.call(this),angular.module("rivals").service("twitterService",function(){this.validateUsername=function(e){return/^[a-zA-Z0-9_]{1,15}$/.test(e)},this.validateHashtag=function(e){return/^[a-zA-Z0-9_]+$/.test(e)}}),angular.module("rivals").factory("urlFactory",function(){return{validateUrl:function(e){var t=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/;return t.test(e)},imageUrl:function(e,t){return e?$.cloudinary.url(e,{transformation:t}):""}}}),function(){angular.module("rivals").factory("userSearchParamService",["userPaths",function(e){var t=function(t,n,i){if("galleries"===i)var r=e.apiV1GalleriesPath;else"images"===i?r=e.apiV1ImagesPath:"users"===i?r=e.apiV1UsersPath:"colleges"===i&&(r=e.apiV1ContentCollegesPath);r+="?search[query]="+t;for(var o in n)n[o]&&("date_type"===o||"sort"===o?r+="&search["+o+"]="+(n[o].value?n[o].value:n[o]):"site"===o?n[o].site_ids?r+="&search[site_ids]="+n[o].site_ids:n[o].no_site&&(r+="&search[no_site]="+n[o].no_site):r+="&search["+o+"]="+n[o]);return r};return{buildUrl:t}}])}.call(this),angular.module("rivals").directive("validateProperty",["$http",function(e){return{restrict:"A",link:function(t,n,i){var r=function(){var e=n.closest(".form-group"),t=n.closest(".input");e.find(".error-reason").remove(),t.removeClass("input-error")};n.on("blur",function(){var o=t[i.ngModel];o&&("email"===i.ngModel&&(o=o.toLowerCase()),e.post("/api/v1/user/validate.json",{property:i.ngModel,value:o}).then(angular.noop,function(e){r();var t=n.closest(".form-group"),i=n.closest(".input");t.append('<div class="error-reason">'+e.data.error+"</div>"),i.addClass("input-error")}))}),n.on("keydown cut paste",r)}}}]),function(){"use strict";angular.module("rivals").factory("adminContentsService",["$http","$q","adminSearchParamService","userPaths","adminPaths","responseHandler",function(e,t,n,i,r,o){var a=function(e,t){var n="?search[query]="+e,i={};if(t){for(var r in t)i["search["+r+"]"]=t[r];n+="&"+$.param(i)}return n},s=function(e,t){var i=n.buildUrl(e,t,"contents");return b(i)},l=function(t){var n=i.cloneContentPath;return e.post(n,{content_clone_id:t}).then(o.handleSuccess,o.handleErrors)},c=function(t){return e.post(r.apiV1ForecastsPath,t).then(o.handleSuccess,o.handleErrors)},u=function(t){var n=r.apiV1ForecastsPath+"/"+t.id;return e.put(n,t).then(o.handleSuccess,o.handleErrors)},d=function(t){var n="/admin/forecaster_profile/"+t.user_id;return e.put(n,t).then(o.handleSuccess,o.handleErrors)},p=function(t){return e.put("/publishing/breaking_news",{breaking_news:{text:t.text,url:t.url,big_font:t.big_font,site_color:t.site_color,title:t.title}}).then(o.handleSuccess,o.handleErrors)},h=function(t){return e["delete"]("/publishing/breaking_news",{breaking_news:{text:t.text,url:t.url,big_font:t.big_font,site_color:t.site_color,title:t.title}}).then(o.handleSuccess,o.handleErrors)},f=function(e,t){var n=i.apiV1ContentContentsPath+a(e,t);return b(n)},m=function(e,t){var n=r.apiV1HpSettingsSearchPath+a(e,t);return b(n)},g=function(e,t){if("trending"==e){var n=i.apiV1TrendingContentsPath;n=t?n+t:n}else"gallery"==e&&(n=i.apiV1GalleriesPath+"?module=true",n=t?n+t:n);return console.log("module contents"),b(n)},v=function(){var e=i.apiV1TrendingContentsPath+"/chartbeat/check_data";return b(e)},b=function(t){return e.get(t).then(o.handleSuccess,o.handleUndefinedNullError)},y=function(t){var n="/api/v1/publishing/favorite_blocks.json?site_id="+t;return e.get(n).then(o.handleSuccess,o.handleErrors)},w=function(e){var t={categories:[]};return e.sort(function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}),_.each(e,function(e){var n=angular.fromJson(e.data),i=n.type;t.hasOwnProperty(i)?t[i].push(e):(t.categories.push(i),t[i]=[e])}),t.categories.sort(),t},k=function(t){var n=r.apiV1FavoriteBlockDeletePath.replace("id",t);return e["delete"](n).then(o.handleSuccess,o.handleErrors)},x=function(t){var n=i.apiV1FavoriteBlocksPath;return e.post(n,t).then(o.handleSuccess,o.handleErrors)},S=function(t){return e.put("/publishing/headline_news",{headline_news:{slot:t.slot,article_id:t.article_id,program:t.program,bump:t.bump,swap:t.swap,expiration:t.expiration}}).then(o.handleSuccess,o.handleErrors)},C=function(t,n){var i=r.apiV1PublishingTickerItemsPath+"/"+n;return e.put(i,{site_id:t.siteId,ticker:{numArticles:t.numArticles,numTweets:t.numTweets,twitterHandles:t.twitterHandles,twitterHashtags:t.twitterHashtags,siteId:t.siteId}})},T=function(t,n){var i="/publishing/enrichment_modules/"+n;return e.put(i,{enrichment_modules:{activeEnrichments:t.activeEnrichments,inactiveEnrichments:t.inactiveEnrichments,site_id:n,twitterHandle:t.twitterHandle,twitterListName:t.twitterListName}}).then(o.handleSuccess,o.handleErrors)},A=function(t,n){var i=r.publishingDeleteEnrichmentPath.replace("id",n);return i=i+"?enrichment_module[list_id]="+t.enrichmentModule.list_id,e["delete"](i).then(o.handleSuccess,o.handleErrors)},M=function(t,n){var i="/publishing/more_settings/"+t;return e.put(i,{settings:{type:n.type,articleFilters:n["Article Filters"],followButtons:n["Follow Buttons"],headlineNewsLinks:n["Headline News Links"],forumsModule:n["Forums Module"],scheduleHeaderModule:n["Schedule Header Module"],targetListModule:n["Target List Module"],articlePromoPopup:n["Article Promo Popup"],facebookDeveloperId:n["Facebook Developer ID"],surveyMonkeySettings:n["Survey Monkey Settings"]}}).then(o.handleSuccess,o.handleErrors)},D=function(e,t,n,i){var r=e.slice(0,t),o={visible:r,hidden:_.difference(e,r)};if(i){var a="desktop-large"==n&&o.visible.length>2,s="desktop-small"==n&&o.visible.length>1;(a||s)&&o.hidden.unshift(o.visible.pop())}return o};return{fetchContentsForSite:s,getContents:f,getHPSearchContent:m,getModuleContents:g,chartbeatContent:v,cloneContent:l,saveFavoriteBlock:x,retrieveFavoriteBlocks:y,deleteFavoriteBlock:k,sortFavorites:w,sectionContent:D,programArticle:S,saveBreakingNews:p,deleteBreakingNews:h,updateTicker:C,updateEnrichmentModules:T,deleteEnrichmentModule:A,updateMoreSettings:M,saveNewForecast:c,updateForecast:u,updateForecasterProfile:d}}])}.call(this),angular.module("rivals").controller("AuthorController",["$scope","$element","adminPaths",function(e,t,n){e.init=function(t,n,i){e.sitePubRights=t,e.currentUser=n,e.userPubRight=_.find(e.sitePubRights,{user_id:e.currentUser.id}),i.id?e.selectedAuthor=_.find(e.sitePubRights,{user_id:i.author_id}):e.selectedAuthor=_.find(e.sitePubRights,{user_id:e.currentUser.id})||e.sitePubRights[0],e.showOneTimeAuthor=e.hasOnetimeAuthor(),e.checkAuthor(),e.showToolTip=!1},e.checkAuthor=function(){e.currentUserSelected=e.selectedAuthor.user_id===e.currentUser.id,e.userPubRight&&(e.hasEditedProfile=e.userPubRight.has_edited_profile,e.editAuthorProfileUrl=n.authorProfileEditPath.replace("id",e.userPubRight.id)),e.showEditProfile=e.currentUserSelected&&!e.hasEditedProfile},e.textAuthor=t.find("[name='article[onetime_author_name]']").val(),e.textTitle=t.find("[name='article[onetime_author_title]']").val(),e.cancel=function(){e.showOneTimeAuthor=!1,t.find("[name='article[onetime_author_name]']").removeAttr("value"),t.find("[name='article[onetime_author_title]']").removeAttr("value"),t.find("[name='article[onetime_author_name]']").val(""),t.find("[name='article[onetime_author_title]']").val(""),e.textAuthor=t.find("[name='article[onetime_author_name]']").val(),e.textTitle=t.find("[name='article[onetime_author_title]']").val()},e.hasOnetimeAuthor=function(){return 0!=t.find("[name='article[onetime_author_name]']").val().length},e.setAuthor=function(){e.textAuthor=t.find("[name='article[onetime_author_name]']").val()},e.setTitle=function(){e.textTitle=t.find("[name='article[onetime_author_title]']").val()}}]),function(){"use strict";angular.module("rivals").controller("ContentController",["$rootScope","$scope","$window","$filter","userPaths","contentHelpers","newsListStartIndexExcludingXL","newsListStartIndexXL","userService","newsListLength","responsiveService","$location","articleTickerLength","sharingService","$compile","followingService","$sce","navBarFactory","userCustomModulesService","enrichmentsService","$uibModal","$timeout","cookies","$interval","googleAnalyticsFactory",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,m,g,v,b,y,w,k,x,S,C){var T=15e3,A=1e4;t.isPublisher=!1,t.subscribedUser=!0,t.expandProfile=!1,t.inlineModuleSizes=["desktop-large","mobile-small","mobile-large"],t.maximumModuleCount=3;var M="desktop-small",D="desktop-large",E="mobile-small",P="mobile-large";t.banners=[],t.init=function(e,i,r,o,a,s,l,c,u,d,p,h,f,m){if(t.tweets=e,t.site=i,t.siteId=i?i.id:t.siteId,t.enrichments=B(),t.isArticlePage=r,t.maxTickerArticles=s?s.max_ticker_articles:0,t.defaultModuleId=o,t.menuItems=a,t.settings=s,t.subdomain=i.short_name.toLowerCase(),t.aolPlayerId=l,t.aolCompanyId=c,t.cloudinaryEnv=u,t.modalDelayTime=d,t.gifting=p,t.forecast=m,t.utmParams="?utm_source="+i.short_name+"&utm_medium=on_site&utm_campaign=homepage_banner",h&&(t.publishedSite=h.site_short_name.toLowerCase()),!t.isArticlePage)var g=_.last(n.location.pathname.split("/"));f&&C.sendEvent(f.category,f.action,f.label),U(g),q()},t.openUpsellModal=function(e,n){k(function(){return N(n,12,"hours"),w.open({templateUrl:"modals/promoUpsellModal.html",controller:"promoUpsellModalController as upsellCtrl","class":"upsell-modal",size:"sm upsell-mode",backdropClass:"white-modal-background",resolve:{settings:function(){return t.settings},site:function(){return t.site},cloudinaryEnv:function(){return t.cloudinaryEnv},user:function(){return e}}})},A)},t.openReferralModal=function(){k(function(){return w.open({templateUrl:"modals/referralModal.html",controller:"referralModalController as ctrl",size:"sm referral-modal",resolve:{settings:function(){return t.settings},site:function(){return t.site},cloudinaryEnv:function(){return t.cloudinaryEnv}}})},t.modalDelayTime)},t.$on("customModule:refresh",function(e,n,i){n&&(t.tweets=n),i&&(t.maxTickerArticles=i),U(null,!0)}),t.$on("customModules:refresh",function(){q(!0)}),t.$on("enrichments:refresh",function(){B(!0)}),t.$on("articleFilters:refresh",function(e,n){t.menuItems=n}),t.$on("followButtons:refresh",function(e,n){t.settings=n}),t.$on("associatedLinks:refresh",function(e,n){t.primaryHeadline.associated_links=n});var I=function(e){return"cfb2018"===e.split("_")[0].toLowerCase()},F=function(e){return"seen-"+e},O=function(e){return""+e+"-promotion"},N=function(e,t,n){var i=moment().add(t,n).toDate();x.set(e,!0,{expires:i,domain:".rivals.com"})},L=function(){S(function(){t.currentBannerIndex=t.banners.findIndex(function(e){return e===t.showBanner}),t.bannerIndexToShow=t.currentBannerIndex+1===t.banners.length?0:t.currentBannerIndex+1,t.showBanner=t.banners[t.bannerIndexToShow],t.$digest()},T)},R=function(e){e||t.banners.push("upsell"),t.forecast&&t.banners.push("forecast"),t.gifting&&t.banners.push("gifting"),t.showBanner=t.banners[0]};l.userJustLoggedIn()&&C.sendEvent("successfulSignIn","user signed in"),l.getCurrentUserInfo().then(function(n){var i=n.user;i&&_.some(i.publishing_sites,function(e){return e.id==t.siteId})&&(t.isPublisher=!0),e.$broadcast("isPublisher",t.isPublisher),t.subscribedUser=i&&i.subscriptions.length>0,R(i),t.signUpPath=r.subscriptionFunnelPath,L();var o=location.search.split("?ref=")[1];if(o)if(i)0==i.subscriptions.length&&(t.signUpPath=r.newSiteSubscriptionPath,L());else{if(t.signUpPath=r.subscriptionFunnelPath,I(o)){var a=F(o);x.get(a)||(t.referralCode=location.search,N(a,10,"y"),t.openReferralModal())}L()}else if(t.isArticlePage&&t.settings.promo_popup_on&&!t.subscribedUser){var s=O("99CYBER"),l=x.get(s);l||t.openUpsellModal(i,s)}});var U=function(e,n){b.getCustomModule(t.defaultModuleId,e,n).then(function(e){t.articles=e.custom_module.contents,H()})},q=function(e){b.getCustomModules(t.siteId,e).then(function(e){t.customModules=e})},B=function(e){y.fetchActiveEnrichments(e).then(function(e){t.enrichments=e.enrichments,t.twitterFeed=e.twitter_feed})},H=function(){t.primaryHeadline=t.articles[0],z(),t.newsList=j(t.articles),t.isDesktop||(t.mobileHeadlineNews=t.articles.slice(0,s))};t.viewLink=function(e){if(e){var n=r.contentsPath.replace("slug",e.slug);return t.referralCode&&(n+=t.referralCode),n}},t.forumThread=function(e){return o.isForumThread(e)},t.link=function(e){return o.isLink(e)},t.linkTarget=function(e){return o.linkTarget(e)},t.timeAgo=function(e){return o.timeAgo(e)},t.editPath=function(e){return r.siteUrl(e)},t.getVideoSrc=function(e){return g.trustAsResourceUrl("//delivery.vidible.tv/jsonp/pid="+t.aolPlayerId+"/vid="+e+"/"+t.aolCompanyId+".js")},t.newsListStartIndex=function(){var e=1;return e=t.size==M?a:s},t.numVisibleModuleContent=function(){return t.size==D?3:t.size==M?2:1};var z=function(){var e=1,n=t.articles.slice(e,e+2*t.numVisibleModuleContent()),i=[],r=[];_.each(n,function(e){i.length>r.length?r.push(e):i.push(e)}),t.headlineNewsTop=i,t.headlineNewsBottom=r};t.showLRECad=function(e){var t=u.currentState().breakpoint;return("tablet"==t||"mobile-large"==t||"mobile-small"==t)&&"footer"==e};var j=function(e){var n=e.slice(t.newsListStartIndex(),t.newsListStartIndex()+c),i=[];if(t.isArticlePage){var r=t.isArticlePage?p:c;n=e.slice(0,p);for(var o=n.length,a=0;o>a;a++)i=i.concat([e.shift()])}else{var s=t.size==D?7:5,l=t.isDesktop?0:2;n=e.slice(s+l,s+t.maxTickerArticles),n=_.sortBy(n,function(e){return V(e.live_at)});var u=t.tweets;u=_.sortBy(u,function(e){return V(e.created_at)});var d=n.shift();d&&i.push(d);for(var h=1;u.length>0||n.length>0;)d=null,d=h%3===0?u.shift():n.shift(),d&&i.push(d),h++}return i.slice(0,r)};t.homepagePath=function(e){return r.homepagePath.replace("sport",e)},n.onscroll=function(){t.isArticlePage&&v.mobileCollapse(t.isMobile)},t.slickConfig={autoplay:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,method:{},dots:!0,dotsClass:"swiping-article-indicator"},t.authorBio=function(){t.expandProfile=!t.expandProfile},u.subscribeScopeToResizeEvents(t,function(e,n){t.size=n.breakpoint,t.isDesktop=t.size==D||t.size==M,t.isMobile=t.size==E||t.size==P,t.articles&&H(),t.$$phase||t.$apply()}),angular.element(document).ready(function(){$('.article-body .article-text a[href*="content/prospects"]').each(function(){var e=$(this).attr("href"),n=_.last(_.last(e.split("/")).split("-"));parseInt(n,/\d+/)&&($(this).wrap("<div class='prospect-hover-link'></div>"),$(this).after(f('<rv-prospect-profile-hover prospect-id="'+n+'"></rv-prospect-profile-hover>')(t)))})});var V=function(e){var t=Date.parse(e.replace(" ","T")),n=Date.parse(moment().zone("-06:00").format("YYYY-MM-DDTHH:mm:ss"));return Math.floor(n-t)};t.twitterFollowWindow=function(e){m.twitterFollowWindow(e)},t.facebookFollowWindow=function(e){m.facebookFollowWindow(e)}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/enrichment/rvCommitmentsModule.html","<div class='enrichment'>\n<div class='header'>\n<div class='year'>\n<span>\n{{ settings[selectedSport].year }}\n</span>\n<img class='team-logo' ng-src='{{collegeLogo}}'>\n</div>\n<div class='title'>\nCommitment List\n</div>\n<div class='enrichment-tabs-container'>\n<label class='enrichment-sport-tab' ng-repeat='sport in sports'>\n<input ng-model='$parent.selectedSport' ng-value='sport' type='radio'>\n<span ng-class='{selected: selectedSport == &#39;{{sport}}&#39; }'>{{sport}}</span>\n</label>\n</div>\n</div>\n<div class='prospect-list commitments'>\n<table>\n<thead>\n<tr>\n<th class='player-name-commits'>Name</th>\n<th class='position'>Pos</th>\n<th class='stars'>Stars</th>\n</tr>\n</thead>\n<tbody>\n<tr class='commitment' ng-repeat='commitment in settings[selectedSport].commitments'>\n<td class='player-name-commits'>\n<a ng-href='{{prospectUrl(commitment)}}'>\n{{commitment.name}}\n</a>\n<td class='position'>\n{{commitment.position_group_abbreviation}}\n</td>\n<td class='stars'>\n<rv-stars num-stars='commitment.stars'></rv-stars>\n</td>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class='nav-block more-news-link-wrapper'>\n<a ng-href='{{ settings[selectedSport].path }}'>\n<div class='chevron-icon'><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewbox=\"0 0 32 32\">\n    <g fill=\"none\" fill-rule=\"evenodd\" transform=\"matrix(0 -1 -1 0 32 32)\">\n        <rect width=\"31\" height=\"31\" x=\".5\" y=\".5\" stroke=\"#0D74CF\" rx=\"15.5\"></rect>\n        <path fill=\"#0D74CF\" d=\"M18 17.5L14.5 21 13 19.5l3.5-3.5-3.5-3.5 1.5-1.5 5 5-1.5 1.5z\"></path>\n    </g>\n</svg>\n</div>\n<span class='news-link'>\nSee More\n</span>\n</a>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").directive("rvCommitmentsModule",["commitmentsService","userPaths",function(e,t){return{restrict:"E",scope:{siteColor:"=",bypassCache:"="},templateUrl:"content/enrichment/rvCommitmentsModule.html",link:function(n){e.getCommitments(n.bypassCache).then(function(e){var t=e.football.name,i=e.basketball.name;n.sports=[t,i],n.collegeLogo=e.college_logo,n.selectedSport=e.is_basketball?i:t,n.settings={Football:{year:e.football.year,commitments:e.football.prospects,path:"/commitments/football/"+e.football.year},Basketball:{year:e.basketball.year,commitments:e.basketball.prospects,path:"/commitments/basketball/"+e.basketball.year}}}),n.prospectUrl=function(e){return t.siteUrl("rivals")+t.prospectsPath.replace("id",e.id)}}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/enrichment/rvEnrichmentModule.html","<div class='enrichment-module' ng-class='module == prospectRanking ? &quot;rank-module&quot; : &quot;&quot;' ng-cloak ng-repeat='module in visibleEnrichmentModules()'>\n<div ng-class='{&#39;side-rail-meta&#39;: !homepage}' ng-if='module == commitment'><rv-commitments-module bypass-cache='bypassCache' site-color='siteColor'></rv-commitments-module></div>\n<div ng-class='{&#39;side-rail-meta&#39;: !homepage}' ng-if='module == prospectRanking'><rv-prospect-rankings-module bypass-cache='bypassCache' site-color='siteColor'></rv-prospect-rankings-module></div>\n<div ng-class='{&#39;side-rail-meta&#39;: !homepage}' ng-if='module == fancastLeaderboard'>\n<div class='enrichment ranks'><rv-fancast-leaderboard is-enrichment='true' is-national='isNationalSite' site-color='siteColor' site='site'></rv-fancast-leaderboard></div>\n</div>\n<div ng-class='{&#39;side-rail-meta&#39;: !homepage}' ng-if='module == schedule'><rv-schedule-module is-football='isScheduleFootball' ncaab-schedule-year='ncaabScheduleYear' ncaaf-schedule-year='ncaafScheduleYear' schedule='schedule' site='site'></rv-schedule-module></div>\n<div ng-class='{&#39;side-rail-meta&#39;: !homepage}' ng-if='module == list'><rv-list-module enrichment-type='list.type' list-id='list.list_id' site-color='siteColor'></rv-list-module></div>\n<div class='twitter-container' ng-class='{&#39;side-rail-meta&#39;: !homepage}' ng-if='module == twitter &amp;&amp; twitterFeed.handle &amp;&amp; twitterFeed.list_name' ng-init='renderTwitterFeed();'>\n<a class='twitter-timeline' id='twitter-timeline'></a>\n</div>\n<iframe frameborder='0' ng-if='module == scoreboardScores' ng-src='{{scoreboardScoresUrl}}' scrolling='no' style='padding:0px;border:0px;height:520px;max-height:520px;width:100%;' title='Realtime sports scoreboard widget'></iframe>\n<iframe frameBorder='0' ng-if='module == scoreboardPhotos' ng-src='{{scoreboardPhotosUrl}}' scrolling='no' style='padding:0px;border: 0px;width:100%;height:520px; max-height:520px;' title='Realtime high school sports photos'></iframe>\n<div ng-class='{&#39;side-rail-meta&#39;: !homepage}' ng-if='module == teamRankings'><rv-team-rankings-module default-football='module.football' site-color='siteColor' team-rankings-basketball-year='module.basketballYear' team-rankings-football-year='module.footballYear'></rv-team-rankings-module></div>\n<rv-custom-ad ad='adOne' ng-if='adOne &amp;&amp; validPositionForAd(module.position, 1)'></rv-custom-ad>\n<rv-custom-ad ad='adTwo' ng-if='adTwo &amp;&amp; validPositionForAd(module.position, 2)'></rv-custom-ad>\n</div>");
}]),function(){"use strict";angular.module("rivals").directive("rvEnrichmentModule",["$sce","enrichment","responsiveService","$document","$window",function(e,t,n,i,r){return{restrict:"E",scope:{enrichments:"=",ncaabScheduleYear:"=",ncaafScheduleYear:"=",site:"=",adOne:"=",adTwo:"=",homepage:"=",size:"=",twitterFeed:"=",scoreboardScoresId:"=",scoreboardPhotosId:"=",isSuperAdmin:"=",bypassCache:"=",isScheduleFootball:"="},templateUrl:"content/enrichment/rvEnrichmentModule.html",link:function(o){o.college=o.site.college,o.siteColor="#"+o.site.primary_color,o.twitterWidgetId="600724936517242880",o.scoreboardScoresUrl=e.trustAsResourceUrl("https://scorestream.com/widgets/scoreboards/vert?userWidgetId="+o.scoreboardScoresId),o.scoreboardPhotosUrl=e.trustAsResourceUrl("https://scorestream.com/widgets/gallery?userWidgetId="+o.scoreboardPhotosId),o.isNationalSite="Rivals.com"===o.site.name;var a=t.types;o.validPositionForAd=function(e,t){return e===t||t>e&&e===o.enrichments.length};var s=function(e){o.schedule=_.find(e,{type:a.SCHEDULE}),o.commitment=_.find(e,{type:a.COMMITMENT}),o.prospectRanking=_.find(e,{type:a.RIVALS}),o.twitter=_.find(e,{type:a.TWITTER}),o.scoreboardPhotos=_.find(e,{type:a.SCOREBOARD_PHOTOS}),o.scoreboardScores=_.find(e,{type:a.SCOREBOARD_SCORES}),o.teamRankings=_.find(e,{type:a.TEAM_RANKINGS}),o.fancastLeaderboard=_.find(e,{type:a.FANCAST_LEADERBOARD}),o.list=_.find(e,function(e){return e.type===a.RANK||e.type===a.ROSTER})};o.showLRECad=function(e){var t=n.currentState().isThreeColArticleLayout;return t&&"rightrail"===e},o.renderTwitterFeed=function(){var e=i[0].getElementById("twitter-timeline");r.twttr.ready(function(){r.twttr.widgets.createTimeline({sourceType:"list",listId:o.twitterWidgetId,ownerScreenName:o.twitterFeed.handle,slug:o.twitterFeed.list_name},e,{height:"520"})})},o.visibleEnrichmentModules=function(){o.homepage||_(3).times(function(e){_.some(o.enrichments,{position:e})||(0===e&&o.enrichments.splice(0,0,{position:e,type:a.AD_PLACEMENT,active:!0}),1===e?o.enrichments.splice(2,0,{position:e,type:a.AD_PLACEMENT,active:!0}):2===e&&o.enrichments.splice(3,0,{position:e,type:a.AD_PLACEMENT,active:!0}))});var e="tablet"===o.size||"desktop-small"===o.size;if(o.homepage&&o.size&&e)var t=o.enrichments.slice(0,2);else t=o.enrichments;return s(t),t},o.homepage&&o.$watch("size",function(){o.visibleEnrichmentModules()})}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/enrichment/rvListModule.html",'<div class=\'enrichment\'>\n<div class=\'header\'>\n<div class=\'year\'>\n{{list.year}}\n<img class=\'team-logo\' ng-src=\'{{list.associated_college_logo_url}}\'>\n</div>\n<div class=\'title\'>\n{{list.name}}\n</div>\n</div>\n<div class=\'prospect-list list-module\'>\n<rv-sortable-table categories=\'categories\' selected-sport=\'selectedSport\' subject=\'subject\'></rv-sortable-table>\n</div>\n<div class=\'nav-block more-news-link-wrapper\'>\n<a ng-href=\'{{showLink}}\'>\n<div class=\'chevron-icon\'><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 32 32">\n    <g fill="none" fill-rule="evenodd" transform="matrix(0 -1 -1 0 32 32)">\n        <rect width="31" height="31" x=".5" y=".5" stroke="#0D74CF" rx="15.5"></rect>\n        <path fill="#0D74CF" d="M18 17.5L14.5 21 13 19.5l3.5-3.5-3.5-3.5 1.5-1.5 5 5-1.5 1.5z"></path>\n    </g>\n</svg>\n</div>\n<span class=\'news-link\'>\nSee More\n</span>\n</a>\n</div>\n</div>')}]),function(){"use strict";angular.module("rivals").directive("rvListModule",["userPaths","userListsFactory",function(e,t){return{restrict:"E",scope:{enrichmentType:"=",listId:"=",siteColor:"="},templateUrl:"content/enrichment/rvListModule.html",link:function(n){n.selectedSport={},n.categories=[{visibleName:"Name",name:"name","class":"player-name-prospects-list",dataType:"link",suppress_prospect_image:!0},{visibleName:"Pos",name:"position_abbreviation","class":"position",dataType:"text"}],n.rankCategory=[{visibleName:"#",name:"rank","class":"rank",dataType:"text"}],n.schoolCategory=[{visibleName:"Commit Status",name:"school","class":"school-name-prospects",dataType:"school"}],n.jerseyCategory=[{visibleName:"No.",name:"jersey-number","class":"jersey-number",dataType:"text"}],n.heightWeightCategory=[{visibleName:"Ht",name:"height","class":"",dataType:"height"},{visibleName:"Wt",name:"weight","class":"weight",dataType:"text"}],t.getList(n.listId).then(function(t){var i=null;"Rank"==n.enrichmentType?(i="rankings",n.categories=n.rankCategory.concat(n.categories,n.schoolCategory)):"Roster"==n.enrichmentType&&(i="rosters",n.categories=n.jerseyCategory.concat(n.categories,n.heightWeightCategory)),n.subject=i,n.selectedSport[i]=t.prospects,n.selectedSport.kind="other",n.list=t.list,n.subdomain=n.list.site?n.list.site.short_name:null,n.siteUrl=n.subdomain?e.siteUrl(n.subdomain):"http://"+e.basePath,n.showLink=n.siteUrl+e.adminListsPath(n.list.list_type.toLowerCase()).replace("id",n.list.id)})}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/enrichment/rvProspectRankingsModule.html","<div class='enrichment ranks'>\n<div class='prospect-rankings-header'>\n<div class='title'>\n<img class='r-logo' src='https://cdn.rivals.com/production/assets/icons/Rivals100_150_250_Icon-8153d5e09a39a384f4fc2b626cdf828d992667072844e15949e423c9f98ed613.png'>\n<div class='logo-container'>\n<div ng-class='settings[selectedSport].logoClass'></div>\n{{ settings[selectedSport].year }} Prospect Rankings\n</div>\n</div>\n<div class='enrichment-tabs-container'>\n<label class='enrichment-sport-tab' ng-repeat='sport in sports'>\n<input ng-model='$parent.selectedSport' ng-value='sport' type='radio'>\n<span ng-class='{selected: selectedSport == &#39;{{sport}}&#39; }'>{{sport}}</span>\n</label>\n</div>\n</div>\n<div class='prospect-list prospect-rankings'>\n<table ng-class='settings[selectedSport].gradientClass'>\n<thead>\n<tr>\n<th class='rank'>#</th>\n<th class='change' ng-hide='settings[selectedSport].hideRank'>Chg</th>\n<th></th>\n<th>Prospect</th>\n<th class='school-name'>Commit Status</th>\n</tr>\n</thead>\n<tbody>\n<tr class='prospect-ranking' ng-class-even='&#39;even&#39;' ng-class-odd='&#39;odd&#39;' ng-repeat='prospectRank in settings[selectedSport].prospectRanks'>\n<td class='rank'>\n{{prospectRank.ordinality}}\n</td>\n<td class='change' ng-if='!settings[selectedSport].hideRank'>\n<div class='lightning-bolt' ng-if='prospectRank.rank_change &gt;= 5 &amp;&amp; prospectRank.rank_change_up'></div>\n<div class='change-rank-increase' ng-if='prospectRank.rank_change &gt; 0 &amp;&amp; prospectRank.rank_change_up'></div>\n<div class='change-rank-decrease' ng-if='prospectRank.rank_change &gt; 0 &amp;&amp; !prospectRank.rank_change_up'></div>\n<span class='number' ng-if='prospectRank.rank_change != 0'>{{ prospectRank.rank_change }}</span>\n<div ng-if='prospectRank.rank_change == 0'>\u2013</div>\n</td>\n<td class='photo'>\n<img ng-if='prospectRank.profile_photo_url' ng-src='{{prospectRank.profile_photo_url}}'>\n<img class='player-img-placeholder' ng-if='!prospectRank.profile_photo_url' ng-src='https://cdn.rivals.com/production/assets/icons/icons_prospectprofile_avatar-f8b63a445cc9298d92203997366f1a6d36b7c02de68654d3af2229092416a6da.svg'>\n<div class='logo-container' ng-if='prospectRank.big_college_logo'>\n<img class='commitment-logo' ng-if='prospectRank.commit_school' ng-src='{{prospectRank.big_college_logo}}'>\n</div>\n</td>\n<td class='player-name-rankings'>\n<a ng-href='{{prospectRank.prospect_url}}'>\n<div class='first-name'>\n{{prospectRank.first_name}}\n</div>\n<div class='last-name'>\n{{prospectRank.last_name}}\n</div>\n<div class='position'>\n{{prospectRank.position_group_abbreviation}}\n</div>\n</a>\n</td>\n<td class='school-name'>\n<span ng-if='prospectRank.commit_school'>\n<span ng-if='prospectRank.commit_site'>\n<a class='commit-school' ng-href='{{prospectRank.commit_school_url}}'>\n{{prospectRank.commit_school}}\n</a>\n</span>\n<span class='commit-school' ng-if='!prospectRank.commit_site'>\n{{prospectRank.commit_school}}\n</span>\n<span class='prospect-committed' ng-if='isCommitted(prospectRank)'>\n<span ng-if='prospectRank.commit_date'>\n{{prospectRank.commit_date | timestampToDate}}\n</span>\n<span ng-if='!prospectRank.commit_date'>\n(No date)\n</span>\n<rv-commit-status status='prospectRank.status'></rv-commit-status>\n</span>\n</span>\n<span ng-if='!prospectRank.commit_school'>\n<a ng-href='{{prospectRank.prospect_url}}#college_choices'>\nUndecided\n</a>\n</span>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class='nav-block more-news-link-wrapper'>\n<a ng-href='{{settings[selectedSport].path}}'>\n<div class='chevron-icon'><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewbox=\"0 0 32 32\">\n    <g fill=\"none\" fill-rule=\"evenodd\" transform=\"matrix(0 -1 -1 0 32 32)\">\n        <rect width=\"31\" height=\"31\" x=\".5\" y=\".5\" stroke=\"#0D74CF\" rx=\"15.5\"></rect>\n        <path fill=\"#0D74CF\" d=\"M18 17.5L14.5 21 13 19.5l3.5-3.5-3.5-3.5 1.5-1.5 5 5-1.5 1.5z\"></path>\n    </g>\n</svg>\n</div>\n<span class='news-link'>\nSee More\n</span>\n</a>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").directive("rvProspectRankingsModule",["prospectRankingsService","userPaths",function(e,t){return{restrict:"E",scope:{siteColor:"=",bypassCache:"="},templateUrl:"content/enrichment/rvProspectRankingsModule.html",link:function(n){e.getProspectRankings(n.bypassCache).then(function(e){var i=e.football.name,r=e.basketball.name,o=t.siteUrl("rivals")+"/prospect_rankings";n.sports=[i,r],n.selectedSport=e.is_basketball?r:i,n.settings={Football:{year:e.football.year,prospectRanks:e.football.prospects,path:o+"/rivals250/"+e.football.year,hideRank:e.football.version<2,logoClass:"rivals100-horiz-image",gradientClass:"gradient250"},Basketball:{year:e.basketball.year,prospectRanks:e.basketball.prospects,path:o+"/rivals150/"+e.basketball.year,hideRank:e.basketball.version<2,logoClass:"rivals150-horiz-image",gradientClass:"gradient150"}},n.isCommitted=function(e){return"undecided"!==e.status}})}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/enrichment/rvScheduleModule.html","<div class='enrichment schedule'>\n<div class='header'>\n<div class='year' ng-if='$ctrl.selectedSport.league == &#39;ncaab&#39;'>\n{{$ctrl.ncaabScheduleYear}} - {{$ctrl.ncaabScheduleYear + 1}}\n</div>\n<div class='year' ng-if='$ctrl.selectedSport.league == &#39;ncaaf&#39;'>\n{{$ctrl.ncaafScheduleYear}}\n</div>\n<div class='title'>\nSchedule & Results\n</div>\n<div class='enrichment-tabs-container'>\n<label class='enrichment-sport-tab' ng-if='$ctrl.ncaaf'>\n<input ng-click='$ctrl.switchSports()' ng-model='$ctrl.selectedSport' ng-value='$ctrl.ncaaf' type='radio'>\n<span ng-class='{selected: $ctrl.selectedSport === $ctrl.ncaaf}'>Football</span>\n</label>\n<label class='enrichment-sport-tab' ng-if='$ctrl.ncaab'>\n<input ng-click='$ctrl.switchSports()' ng-model='$ctrl.selectedSport' ng-value='$ctrl.ncaab' type='radio'>\n<span ng-class='{selected: $ctrl.selectedSport === $ctrl.ncaab}'>Basketball</span>\n</label>\n</div>\n</div>\n<div class='next-game' ng-if='$ctrl.nextGame'>\n<div class='heading'>\nNext Game\n</div>\n<span class='date'>\n{{$ctrl.nextGame.gameDate}}\n</span>\n<div class='away-team'>\n<div class='placeholder-logo-basketball' ng-if='$ctrl.selectedSport.league == &#39;ncaab&#39; &amp;&amp; !$ctrl.nextGame.opponentIsHome &amp;&amp; !$ctrl.nextGame.opponentLogoUrl'></div>\n<div class='placeholder-logo-football' ng-if='$ctrl.selectedSport.league == &#39;ncaaf&#39; &amp;&amp; !$ctrl.nextGame.opponentIsHome &amp;&amp; !$ctrl.nextGame.opponentLogoUrl'></div>\n<img class='logo' ng-if='!$ctrl.nextGame.opponentIsHome &amp;&amp; $ctrl.nextGame.opponentLogoUrl' ng-src='{{$ctrl.nextGame.opponentLogoUrl}}'>\n<img class='site-logo' ng-if='$ctrl.nextGame.opponentIsHome' ng-src='{{$ctrl.selectedSport.siteLogoUrl}}'>\n<div class='college-info'>\n<div class='top-line'>\n<span class='name'>\n<a ng-href='{{$ctrl.nextGame.opponentSiteLink}}' ng-if='!$ctrl.nextGame.opponentIsHome &amp;&amp; $ctrl.nextGame.opponentSiteLink'>\n{{$ctrl.nextGame.awayName}}\n</a>\n<span ng-if='$ctrl.nextGame.opponentIsHome || (!$ctrl.nextGame.opponentIsHome &amp;&amp; $ctrl.nextGame.noLink)'>\n{{$ctrl.nextGame.awayName}}\n</span>\n</span>\n<span class='record' ng-if='!$ctrl.nextGame.opponentIsHome'>\n{{$ctrl.nextGame.opponentOverallRecord}}\n</span>\n<span class='record' ng-if='$ctrl.nextGame.opponentIsHome'>\n{{$ctrl.selectedSport.overallRecord}}\n</span>\n</div>\n<div class='college-mascot'>\n{{$ctrl.nextGame.awayMascot}}\n</div>\n</div>\n</div>\n<div class='home-team'>\n<img class='logo' ng-if='$ctrl.nextGame.opponentIsHome' ng-src='{{$ctrl.nextGame.opponentLogoUrl}}'>\n<img class='site-logo' ng-if='!$ctrl.nextGame.opponentIsHome' ng-src='{{$ctrl.selectedSport.siteLogoUrl}}'>\n<div class='college-info'>\n<div class='top-line'>\n<span class='name'>\n<a ng-href='{{$ctrl.nextGame.opponentSiteLink}}' ng-if='$ctrl.nextGame.opponentIsHome &amp;&amp; $ctrl.nextGame.opponentSiteLink'>\n{{$ctrl.nextGame.homeName}}\n</a>\n<span ng-if='!$ctrl.nextGame.opponentIsHome || ($ctrl.nextGame.opponentIsHome &amp;&amp; $ctrl.nextGame.noLink)'>\n{{$ctrl.nextGame.homeName}}\n</span>\n</span>\n<span class='record' ng-if='$ctrl.nextGame.opponentIsHome'>\n{{nextGame.opponentOverallRecord}}\n</span>\n<span class='record' ng-if='!$ctrl.nextGame.opponentIsHome'>\n{{$ctrl.selectedSport.overallRecord}}\n</span>\n</div>\n<div class='college-mascot'>\n{{$ctrl.nextGame.homeMascot}}\n</div>\n</div>\n</div>\n</div>\n<div class='previous-game' ng-if='$ctrl.previousGame'>\n<div class='heading'>\nLast Game\n</div>\n<span class='final'>\nFinal\n</span>\n<div class='away-team'>\n<div class='winner-icon' ng-if='$ctrl.previousGame.awayScore &gt; $ctrl.previousGame.homeScore'></div>\n<img class='logo' ng-if='!$ctrl.previousGame.opponentIsHome' ng-src='{{$ctrl.previousGame.opponentLogoUrl}}'>\n<img class='site-logo' ng-if='$ctrl.previousGame.opponentIsHome' ng-src='{{$ctrl.selectedSport.siteLogoUrl}}'>\n<div class='college-info' ng-class='{&#39;loser&#39;: $ctrl.previousGame.opponentScore &lt; $ctrl.previousGame.ourScore}'>\n<div class='top-line'>\n<span class='name'>\n<a ng-href='{{$ctrl.previousGame.opponentSiteLink}}' ng-if='!$ctrl.previousGame.opponentIsHome &amp;&amp; $ctrl.previousGame.opponentSiteLink'>\n{{$ctrl.previousGame.awayName}}\n</a>\n<span ng-if='$ctrl.previousGame.opponentIsHome || (!$ctrl.previousGame.opponentIsHome &amp;&amp; $ctrl.previousGame.noLink)'>\n{{$ctrl.previousGame.awayName}}\n</span>\n</span>\n<span class='score'>\n<a ng-href='{{$ctrl.previousGame.matchLink}}'>\n{{$ctrl.previousGame.awayScore}}\n</a>\n</span>\n</div>\n<div class='college-mascot'>\n{{$ctrl.previousGame.awayMascot}}\n</div>\n</div>\n</div>\n<div class='home-team'>\n<div class='winner-icon' ng-if='$ctrl.previousGame.homeScore &gt; $ctrl.previousGame.awayScore'></div>\n<img class='logo' ng-if='$ctrl.previousGame.opponentIsHome' ng-src='{{$ctrl.previousGame.opponentLogoUrl}}'>\n<img class='site-logo' ng-if='!$ctrl.previousGame.opponentIsHome' ng-src='{{$ctrl.selectedSport.siteLogoUrl}}'>\n<div class='college-info' ng-class='{&#39;loser&#39;: $ctrl.previousGame.ourScore &lt; $ctrl.previousGame.opponentScore}'>\n<div class='top-line'>\n<span class='name'>\n<a ng-href='{{$ctrl.previousGame.opponentSiteLink}}' ng-if='$ctrl.previousGame.opponentIsHome &amp;&amp; $ctrl.previousGame.opponentSiteLink'>\n{{$ctrl.previousGame.homeName}}\n</a>\n<span ng-if='!$ctrl.previousGame.opponentIsHome || ($ctrl.previousGame.opponentIsHome &amp;&amp; $ctrl.previousGame.noLink)'>\n{{$ctrl.previousGame.homeName}}\n</span>\n</span>\n<span class='score'>\n<a ng-href='{{$ctrl.previousGame.matchLink}}'>\n{{$ctrl.previousGame.homeScore}}\n</a>\n</span>\n</div>\n<div class='college-mascot'>\n{{$ctrl.previousGame.homeMascot}}\n</div>\n</div>\n</div>\n</div>\n<div class='records' ng-show='$ctrl.validOverallRecord() || $ctrl.validConferenceRecord()'>\n<div class='heading'>\nResults\n</div><div class='overall-record' ng-show='$ctrl.validOverallRecord()'>\n<div class='record'>\n{{$ctrl.selectedSport.overallRecord}}\n</div>\n<div class='record-label'>Overall</div>\n</div><div class='vertical-separator' ng-show='$ctrl.validOverallRecord() &amp;&amp; $ctrl.validConferenceRecord()'></div><div class='conference-record' ng-show='$ctrl.validConferenceRecord()'>\n<div class='record'>\n{{$ctrl.selectedSport.conferenceRecord}}\n</div>\n<div class='record-label'>Conference</div>\n</div></div>\n<div class='not-found-wrapper not-found-text' ng_if='$ctrl.selectedSport.noScheduleText'>\n<div ng-if='$ctrl.selectedSport.league == &#39;ncaab&#39;'>\n{{$ctrl.ncaabScheduleYear}} - {{$ctrl.ncaabScheduleYear + 1}}\n</div>\n<div ng-if='$ctrl.selectedSport.league == &#39;ncaaf&#39;'>\n{{$ctrl.ncaafScheduleYear}}\n</div>\n<div>\n{{$ctrl.selectedSport.noScheduleText}}\n</div>\n</div>\n<div class='nav-block more-news-link-wrapper' ng-class='{&#39;missing-game&#39;: !$ctrl.bothGamesPresent}'>\n<a ng-href='{{$ctrl.selectedSport.seeMoreUrl}}'>\n<div class='chevron-icon'><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewbox=\"0 0 32 32\">\n    <g fill=\"none\" fill-rule=\"evenodd\" transform=\"matrix(0 -1 -1 0 32 32)\">\n        <rect width=\"31\" height=\"31\" x=\".5\" y=\".5\" stroke=\"#0D74CF\" rx=\"15.5\"></rect>\n        <path fill=\"#0D74CF\" d=\"M18 17.5L14.5 21 13 19.5l3.5-3.5-3.5-3.5 1.5-1.5 5 5-1.5 1.5z\"></path>\n    </g>\n</svg>\n</div>\n<span class='news-link'>\nFull Schedule\n</span>\n</a>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvScheduleModule",{bindings:{ncaafScheduleYear:"=",ncaabScheduleYear:"=",site:"=",schedule:"=",topModule:"=?",isFootball:"=",preview:"="},templateUrl:["$attrs",function(e){return e.topModule?"content/enrichment/rvScheduleModuleTop.html":"content/enrichment/rvScheduleModule.html"}],controller:["$scope","$element","$q","moment","scheduleService","siteFactory",function(e,t,n,i,r,o){var a=this,s="Match Page",l="ncaab",c="ncaaf";this.$onInit=function(){a.scheduleLink=t.find(".chevron-icon")[0],a.scheduleLink?a.scheduleLink.style.color="#"+a.site.primary_color:"",a.isLoaded=!1;var e=a.site.maple_ncaab_team_id,u=a.site.maple_ncaaf_team_id,d={past:[],future:[]},p={past:[],future:[]},h=function(e,t){var n=i();_.each(e,function(e){var r=i(new Date(e.start_time)),o=Math.abs(r.diff(n,"days",!0)),a={timeLength:o,game:e};r>n?t.future.push(a):t.past.push(a)})},f=function(e){var t=new Date(e.start_time).toLocaleString("en",{timeZoneName:"short"}).split(" ").pop();return i(new Date(e.start_time)).format("ddd, MMM D, h:mm A")+" "+t},m=function(e){if("status.type.final"==e.game_status.type){var t=_.find(e.navigation_links,function(e){return e.link.name==s});return t.link.url}},g=function(e){return"status.type.final"==e.game_status.type?parseInt(e.box_score.total_home_points):void 0},v=function(e){return"status.type.final"==e.game_status.type?parseInt(e.box_score.total_away_points):void 0},b=function(e){return 2==e.teams.length?e.teams[0][0].team:e.isAwayGame?e.teams[0][0].team:null},y=function(e){return 2==e.teams.length?e.teams[1][0].team:e.isAwayGame?null:e.teams[0][0].team},w=function(e){return y(e)?y(e).last_name:"TBD"},k=function(e){return b(e)?b(e).last_name:"TBD"},x=function(e){var t="TBD";return y(e)&&(t=a.topModule?y(e).abbr:y(e).first_name),e.isAwayGame&&!a.topModule?"@ "+t:t},$=function(e){return b(e)?a.topModule?b(e).abbr:b(e).first_name:"TBD"},S=function(e){return e.isAwayGame},C=function(e){return{opponentIsHome:S(e),homeScore:g(e),awayScore:v(e),homeMascot:w(e),awayMascot:k(e),homeName:x(e),awayName:$(e),opponentLogoUrl:e.opponentLogoUrl,opponentSiteLink:e.opponentSiteLink,noLink:e.noLink,gameDate:f(e),opponentOverallRecord:e.opponentOverallRecord,matchLink:m(e)}},T=[];o.getSites().then(function(t){e&&T.push(r.getSchedule(e,l,t,a.ncaabScheduleYear)),u&&T.push(r.getSchedule(u,c,t,a.ncaafScheduleYear)),n.all(T).then(function(e){e.forEach(function(e){e.league==l?(h(e.games,d),a.nextNcaabGame=d.future.length>0?C(_.min(d.future,"timeLength").game):null,a.previousNcaabGame=d.past.length>0?C(_.min(d.past,"timeLength").game):null):(h(e.games,p),a.nextNcaafGame=p.future.length>0?C(_.min(p.future,"timeLength").game):null,a.previousNcaafGame=p.past.length>0?C(_.min(p.past,"timeLength").game):null),a.selectedSport=a[e.league]=e}),a.selectedSport=a.isFootball?a[c]:a[l],a.ncaafSeeMoreUrl=a[c].seeMoreUrl,a.ncaabSeeMoreUrl=a[l].seeMoreUrl,a.previousGame=a.selectedSport.league==l?a.previousNcaabGame:a.previousNcaafGame,a.nextGame=a.selectedSport.league==l?a.nextNcaabGame:a.nextNcaafGame,a.bothGamesPresent=a.nextGame&&a.previousGame,a.isLoaded=!0})})},a.validOverallRecord=function(){return a.selectedSport?a.selectedSport.overallRecord&&"0-0"!==a.selectedSport.overallRecord:!1},a.validConferenceRecord=function(){return a.selectedSport?a.selectedSport.conferenceRecord&&"0-0"!==a.selectedSport.conferenceRecord:!1},a.switchSports=function(){var e=a.selectedSport.league==l;a.previousGame=e?a.previousNcaabGame:a.previousNcaafGame,a.nextGame=e?a.nextNcaabGame:a.nextNcaafGame,a.bothGamesPresent=a.nextGame&&a.previousGame}}]})}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/enrichment/rvScheduleModuleTop.html","<div class='top-module schedule' ng-class='{&#39;preview&#39;: $ctrl.preview}' ng-show='$ctrl.isLoaded'>\n<div class='schedule-info-container'>\n<div class='header'>\n<div class='schedule-links-container'>\n<a class='sport-link' ng-href='{{$ctrl.ncaafSeeMoreUrl}}'>\n<div class='logo-football-mobile'><svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 12 12\"><title>football-fill</title>\n<g id=\"Page-1\"><g id=\"FB---lg-desktop\"><g id=\"Group-36\"><g id=\"football-fill\"><path id=\"Shape\" d=\"M.49,9.13A8.69,8.69,0,0,0,1,12a8.64,8.64,0,0,0,2.86.49q.43,0,.84,0L.53,8.29Q.49,8.7.49,9.13Z\" transform=\"translate(-0.49 -0.49)\"></path><path id=\"Shape-2\" data-name=\"Shape\" d=\"M12,1A8.64,8.64,0,0,0,9.14.49q-.43,0-.84,0l4.15,4.15q0-.41,0-.84A8.68,8.68,0,0,0,12,1Z\" transform=\"translate(-0.49 -0.49)\"></path><path id=\"Shape-3\" data-name=\"Shape\" d=\"M.72,7.18,5.8,12.25a8.65,8.65,0,0,0,6.46-6.47L7.17.72A8.65,8.65,0,0,0,.72,7.18Zm7-2.34L8.58,4,9,4.39l-.82.82.47.47L8.23,6l-.47-.47-.9.9L7.33,7,7,7.32l-.47-.47-1,1L6,8.27l-.37.37-.47-.47-.76.76L4,8.57l.76-.76-.47-.47L4.69,7l.47.47,1-1L5.66,6,6,5.65l.46.46.9-.9-.47-.47.37-.37Z\" transform=\"translate(-0.49 -0.49)\"></path></g></g></g></g></svg></div>\n<span>FB schedule</span>\n</a>\n<div class='divisor'></div>\n<a class='sport-link' ng-href='{{$ctrl.ncaabSeeMoreUrl}}'>\n<div class='logo-basketball-mobile'><svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 13.86 13.86\"><defs><style>.cls-1{fill:#1d2933;}</style></defs><title>basketball-fill</title>\n<g id=\"Page-1\"><g id=\"BB---lg-desktop\"><g id=\"Group-36\"><g id=\"basketball-fill\"><path id=\"Shape\" class=\"cls-1\" d=\"M1.74,11.53l3-3A6.51,6.51,0,0,0,0,6.91,6.91,6.91,0,0,0,1.74,11.53Z\" transform=\"translate(0 0)\"></path><path id=\"Shape-2\" data-name=\"Shape\" class=\"cls-1\" d=\"M6.93,6.34l1-1A7.33,7.33,0,0,1,6.07.05,6.89,6.89,0,0,0,2.33,1.75Z\" transform=\"translate(0 0)\"></path><path id=\"Shape-3\" data-name=\"Shape\" class=\"cls-1\" d=\"M6.34,6.93l-4.6-4.6A6.9,6.9,0,0,0,.05,6.07a7.33,7.33,0,0,1,5.3,1.85Z\" transform=\"translate(0 0)\"></path><path id=\"Shape-4\" data-name=\"Shape\" class=\"cls-1\" d=\"M8.51,4.76l3-3A6.91,6.91,0,0,0,6.91,0,6.51,6.51,0,0,0,8.51,4.76Z\" transform=\"translate(0 0)\"></path><path id=\"Shape-5\" data-name=\"Shape\" class=\"cls-1\" d=\"M12.12,2.33l-3,3A6.51,6.51,0,0,0,13.86,7,6.91,6.91,0,0,0,12.12,2.33Z\" transform=\"translate(0 0)\"></path><path id=\"Shape-6\" data-name=\"Shape\" class=\"cls-1\" d=\"M8.51,5.94l-1,1,4.6,4.6a6.89,6.89,0,0,0,1.69-3.74A7.33,7.33,0,0,1,8.51,5.94Z\" transform=\"translate(0 0)\"></path><path id=\"Shape-7\" data-name=\"Shape\" class=\"cls-1\" d=\"M2.33,12.12A6.91,6.91,0,0,0,7,13.86,6.51,6.51,0,0,0,5.35,9.1Z\" transform=\"translate(0 0)\"></path><path id=\"Shape-8\" data-name=\"Shape\" class=\"cls-1\" d=\"M6.93,7.52l-1,1a7.33,7.33,0,0,1,1.85,5.3,6.9,6.9,0,0,0,3.74-1.69Z\" transform=\"translate(0 0)\"></path></g></g></g></g></svg></div>\n<span>BB schedule</span>\n</a>\n</div>\n<div class='sports-container'>\n<label class='sport-tab' ng-class='{selected: $ctrl.selectedSport === $ctrl.ncaaf}' ng-if='$ctrl.ncaaf'>\n<div class='logo-football'></div>\n<input ng-click='$ctrl.switchSports()' ng-model='$ctrl.selectedSport' ng-value='$ctrl.ncaaf' type='radio'>\n<span>FB</span>\n</label>\n<div class='divisor'></div>\n<label class='sport-tab' ng-class='{selected: $ctrl.selectedSport === $ctrl.ncaab}' ng-if='$ctrl.ncaab'>\n<div class='logo-basketball'></div>\n<input ng-click='$ctrl.switchSports()' ng-model='$ctrl.selectedSport' ng-value='$ctrl.ncaab' type='radio'>\n<span>BB</span>\n</label>\n</div>\n</div>\n<div class='next-game' ng-if='$ctrl.nextGame'>\n<div class='heading'>\n<div class='heading-title'>Next</div>\n<span class='date'>\n{{$ctrl.nextGame.gameDate}}\n</span>\n</div>\n<div class='away-team'>\n<div class='placeholder-logo-basketball' ng-if='$ctrl.selectedSport.league == &#39;ncaab&#39; &amp;&amp; !$ctrl.nextGame.opponentIsHome &amp;&amp; !$ctrl.nextGame.opponentLogoUrl'></div>\n<div class='placeholder-logo-football' ng-if='$ctrl.selectedSport.league == &#39;ncaaf&#39; &amp;&amp; !$ctrl.nextGame.opponentIsHome &amp;&amp; !$ctrl.nextGame.opponentLogoUrl'></div>\n<img class='logo' ng-if='!$ctrl.nextGame.opponentIsHome &amp;&amp; $ctrl.nextGame.opponentLogoUrl' ng-src='{{$ctrl.nextGame.opponentLogoUrl}}'>\n<img class='site-logo' ng-if='$ctrl.nextGame.opponentIsHome' ng-src='{{$ctrl.selectedSport.siteLogoUrl}}'>\n<div class='college-info' ng-class='{&#39;site-team&#39;: $ctrl.nextGame.opponentIsHome}'>\n<div class='top-line'>\n<span class='name'>\n<a ng-href='{{$ctrl.nextGame.opponentSiteLink}}' ng-if='!$ctrl.nextGame.opponentIsHome &amp;&amp; $ctrl.nextGame.opponentSiteLink'>\n{{$ctrl.nextGame.awayName}}\n</a>\n<span ng-if='$ctrl.nextGame.opponentIsHome || (!$ctrl.nextGame.opponentIsHome &amp;&amp; $ctrl.nextGame.noLink)'>\n{{$ctrl.nextGame.awayName}}\n</span>\n</span>\n<span class='record' ng-if='!$ctrl.nextGame.opponentIsHome'>\n({{$ctrl.nextGame.opponentOverallRecord}})\n</span>\n<span class='record' ng-if='$ctrl.nextGame.opponentIsHome'>\n({{$ctrl.selectedSport.overallRecord}})\n</span>\n</div>\n</div>\n</div>\n<div class='home-team'>\n<img class='logo' ng-if='$ctrl.nextGame.opponentIsHome' ng-src='{{$ctrl.nextGame.opponentLogoUrl}}'>\n<img class='site-logo' ng-if='!$ctrl.nextGame.opponentIsHome' ng-src='{{$ctrl.selectedSport.siteLogoUrl}}'>\n<div class='college-info' ng-class='{&#39;site-team&#39;: !$ctrl.nextGame.opponentIsHome}' ng-src='{{$ctrl.nextGame.opponentLogoUrl}}'>\n<div class='top-line'>\n<span class='name'>\n<a ng-href='{{$ctrl.nextGame.opponentSiteLink}}' ng-if='$ctrl.nextGame.opponentIsHome &amp;&amp; $ctrl.nextGame.opponentSiteLink'>\n{{$ctrl.nextGame.homeName}}\n</a>\n<span ng-if='!$ctrl.nextGame.opponentIsHome || ($ctrl.nextGame.opponentIsHome &amp;&amp; $ctrl.nextGame.noLink)'>\n{{$ctrl.nextGame.homeName}}\n</span>\n</span>\n<span class='record' ng-if='$ctrl.nextGame.opponentIsHome'>\n({{$ctrl.nextGame.opponentOverallRecord}})\n</span>\n<span class='record' ng-if='!$ctrl.nextGame.opponentIsHome'>\n({{$ctrl.selectedSport.overallRecord}})\n</span>\n</div>\n</div>\n</div>\n</div>\n<div class='previous-game' ng-if='$ctrl.previousGame'>\n<div class='heading'>\n<div class='heading-title'>Last</div>\n<span class='final'>\nFinal\n</span>\n</div>\n<div class='away-team'>\n<div class='winner-icon' ng-if='$ctrl.previousGame.awayScore &gt; $ctrl.previousGame.homeScore'></div>\n<img class='logo' ng-if='!$ctrl.previousGame.opponentIsHome' ng-src='{{$ctrl.previousGame.opponentLogoUrl}}'>\n<img class='site-logo' ng-if='$ctrl.previousGame.opponentIsHome' ng-src='{{$ctrl.selectedSport.siteLogoUrl}}'>\n<div class='college-info' ng-class='{&#39;site-team&#39;: $ctrl.previousGame.opponentIsHome}'>\n<div class='top-line'>\n<span class='name'>\n<a ng-href='{{$ctrl.previousGame.opponentSiteLink}}' ng-if='!$ctrl.previousGame.opponentIsHome &amp;&amp; $ctrl.previousGame.opponentSiteLink'>\n{{$ctrl.previousGame.awayName}}\n</a>\n<span ng-if='$ctrl.previousGame.opponentIsHome || (!$ctrl.previousGame.opponentIsHome &amp;&amp; $ctrl.previousGame.noLink)'>\n{{$ctrl.previousGame.awayName}}\n</span>\n</span>\n<span class='score'>\n<a ng-href='{{$ctrl.previousGame.matchLink}}'>\n{{$ctrl.previousGame.awayScore}}\n</a>\n</span>\n</div>\n</div>\n</div>\n<div class='home-team'>\n<img class='logo' ng-if='$ctrl.previousGame.opponentIsHome' ng-src='{{$ctrl.previousGame.opponentLogoUrl}}'>\n<img class='site-logo' ng-if='!$ctrl.previousGame.opponentIsHome' ng-src='{{$ctrl.selectedSport.siteLogoUrl}}'>\n<div class='college-info' ng-class='{&#39;site-team&#39;: !$ctrl.previousGame.opponentIsHome}'>\n<div class='top-line'>\n<span class='name'>\n<a ng-href='{{$ctrl.previousGame.opponentSiteLink}}' ng-if='$ctrl.previousGame.opponentIsHome &amp;&amp; $ctrl.previousGame.opponentSiteLink'>\n{{$ctrl.previousGame.homeName}}\n</a>\n<span ng-if='!$ctrl.previousGame.opponentIsHome || ($ctrl.previousGame.opponentIsHome &amp;&amp; $ctrl.previousGame.noLink)'>\n{{$ctrl.previousGame.homeName}}\n</span>\n</span>\n<span class='score'>\n<a ng-href='{{$ctrl.previousGame.matchLink}}'>\n{{$ctrl.previousGame.homeScore}}\n</a>\n</span>\n</div>\n</div>\n</div>\n</div>\n<div class='records' ng-show='$ctrl.validOverallRecord() || $ctrl.validConferenceRecord()'>\n<div class='heading'>\n<div class='heading-title'>Results</div>\n</div><div class='overall-record' ng-show='$ctrl.validOverallRecord()'>\n<div class='record-label'>Overall</div>\n<div class='record'>\n{{$ctrl.selectedSport.overallRecord}}\n</div>\n</div><div class='conference-record' ng-show='$ctrl.validConferenceRecord()'>\n<div class='record-label'>Conference</div>\n<div class='record'>\n{{$ctrl.selectedSport.conferenceRecord}}\n</div>\n</div></div>\n<div class='not-found-top-wrapper not-found-text' ng_if='$ctrl.selectedSport.noScheduleText'>\n<div ng-if='$ctrl.selectedSport.league == &#39;ncaab&#39;'>\n{{$ctrl.ncaabScheduleYear}} - {{$ctrl.ncaabScheduleYear + 1}}\n</div>\n<div ng-if='$ctrl.selectedSport.league == &#39;ncaaf&#39;'>\n{{$ctrl.ncaafScheduleYear}}\n</div>\n<div>\n{{ $ctrl.selectedSport.noScheduleText}}\n</div>\n</div>\n<div class='full-schedule'>\n<a class='news-link' ng-href='{{$ctrl.selectedSport.seeMoreUrl}}' target='_blank'>\nFull Schedule\n</a>\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("content/enrichment/rvTeamRankingsModule.html","<div class='enrichment'>\n<div class='header'>\n<div class='year'>\n<span>\n{{settings[selectedSport].year}}\n</span>\n</div>\n<div class='title'>\nRecruiting Class Rankings\n</div>\n<div class='enrichment-tabs-container'>\n<label class='enrichment-sport-tab' ng-repeat='sport in sports'>\n<input ng-model='$parent.selectedSport' ng-value='sport' type='radio'>\n<span ng-class='{selected: selectedSport == &#39;{{sport}}&#39; }'>{{sport}}</span>\n</label>\n</div>\n</div>\n<div class='ranking-list team-rankings'>\n<table>\n<thead>\n<tr>\n<th class='rank'>#</th>\n<th>Name</th>\n<th>Points</th>\n</tr>\n</thead>\n<tbody>\n<tr class='team-ranking' ng-repeat='teamRank in settings[selectedSport].rankings'>\n<td class='rank'>\n{{teamRank.rank}}\n</td>\n<td class='college-name'>\n<a ng-href='{{teamRank.school_url}}'>\n{{teamRank.school_name}}\n</a>\n</td>\n<td class='points'>\n{{teamRank.points}}\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class='nav-block more-news-link-wrapper'>\n<a ng-href='{{settings[selectedSport].path}}'>\n<div class='chevron-icon'><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewbox=\"0 0 32 32\">\n    <g fill=\"none\" fill-rule=\"evenodd\" transform=\"matrix(0 -1 -1 0 32 32)\">\n        <rect width=\"31\" height=\"31\" x=\".5\" y=\".5\" stroke=\"#0D74CF\" rx=\"15.5\"></rect>\n        <path fill=\"#0D74CF\" d=\"M18 17.5L14.5 21 13 19.5l3.5-3.5-3.5-3.5 1.5-1.5 5 5-1.5 1.5z\"></path>\n    </g>\n</svg>\n</div>\n<span class='news-link'>\nSee More\n</span>\n</a>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").directive("rvTeamRankingsModule",["teamRankingsService","userPaths",function(e,t){return{restrict:"E",scope:{siteColor:"=",defaultFootball:"=",teamRankingsFootballYear:"=",teamRankingsBasketballYear:"="},templateUrl:"content/enrichment/rvTeamRankingsModule.html",
link:function(n){n.conference="all-teams",n.rankingLimit=14,n.sports=["Football","Basketball"],n.selectedSport=n.defaultFootball?n.sports[0]:n.sports[1],n.settings={Football:{year:n.teamRankingsFootballYear},Basketball:{year:n.teamRankingsBasketballYear}},_.each(n.sports,function(i){e.getRankings(n.settings[i].year,n.conference,i,n.rankingLimit).then(function(e){var r=t.siteUrl("rivals")+"/team_rankings/"+n.settings[i].year+"/"+n.conference;n.settings[i].path=r+"/"+i,n.settings[i].rankings=e})})}}}])}.call(this),angular.module("rivals").factory("enrichmentsService",["$http","responseHandler","httpRequestService","userPaths",function(e,t,n,i){return{fetchActiveEnrichments:function(r){var o=i.apiV1HpEnrichments;return r?n.getHttpRequestNoCache(o):e.get(o).then(t.handleSuccess,t.handleErrors)}}}]),function(){"use strict";angular.module("rivals").factory("forumNavigationService",["$http","userPaths",function(e,t){var n=function(e){return"basketballrecruiting"==e&&(e="rivals"),"https://"+t.cdnPath+"/navigation/"+e+"-nav.json"},i=function(t){return e.get(n(t)).then(function(e){return e.data},function(e){return e})};return{getNavigation:i}}])}.call(this),angular.module("rivals").service("forumService",["$http","responseHandler","userPaths",function(e,t,n){this.fetchHotThreads=function(i,r){var o=n.trendingThreads(i,r);return e.get(o,{cache:!0}).then(t.handleSuccess,t.handleErrors)}}]),function(){"use strict";angular.module("rivals").controller("GiftSuccessPageController",["googleAnalyticsFactory",function(e){var t=this;t.init=function(t){try{var n={id:t.obi_offer.id,name:"gift",category:t.subscription_length+" "+t.subscription_length_unit,price:t.obi_offer.price,quantity:1},i={id:t.obi_offer.offer_id,revenue:t.obi_offer.price};e.sendEcommerceEvent(n,i);var r=t.subscription_length+" "+t.subscription_length_unit;e.sendEvent("giftPurchaseSuccessful","purchase gift",r)}catch(o){"ReferenceError"!==o.name?console.log(o):console.log("ga not defined")}}}])}.call(this),function(){"use strict";angular.module("rivals").controller("LandingPageController",["$scope","responsiveService","googleAnalyticsFactory",function(e,t,n){var i=this,r="desktop-small",o="desktop-large",a="mobile-small",s="mobile-large";i.init=function(e){try{if("free"!==e.sub_type){var t={id:e.subscription.id,name:e.site.name,category:e.gift_redemption_type?"gift redemption "+e.gift_redemption_type:"subscription",variant:e.sub_type,price:e.amount,coupon:e.promo?e.promo.code:null,quantity:1},i={id:e.subscription.id,affiliation:e.site.name,revenue:e.amount,coupon:e.promo?e.promo.code:null};n.sendEcommerceEvent(t,i);var r=e.gift_redemption_type?"giftRedemptionSuccess":"newRegistrationCompletion",o=e.gift_redemption_type?e.gift_redemption_type:e.sub_type+" subscription";n.sendEvent(r,o,e.site.name)}else n.sendEvent("newRegistrationCompletion","free registration",e.site.name)}catch(a){"ReferenceError"!==a.name?console.log(a):console.log("ga not defined")}},t.subscribeScopeToResizeEvents(e,function(t,n){e.size=n.breakpoint,e.isDesktop=e.size==o||e.size==r,e.isMobile=e.size==a||e.size==s,e.$$phase||e.$apply()})}])}.call(this),function(){"use strict";angular.module("rivals").controller("NavController",["$scope","schoolByGroupDivision","responsiveService","userService","userPaths","eventService","$uibModal","cookies","googleAnalyticsFactory","$window",function(e,t,n,i,r,o,a,s,l,c){var u=this;u.init=function(e){u.utmParams="?utm_source="+e+"&utm_medium=on_site&utm_campaign=header_banner"},u.schoolByGroupDivision=t,u.unsubscribed=!1,u.userProfileEditPath=r.userProfileEditPath,u.giftPurchasePath=r.giftsPurchasePath,i.getCurrentUserInfo().then(function(e){var t=e.user;t=_.isEmpty(t)?null:t,u.currentUser=t,u.showEmailUpdateBanner=u.currentUser&&u.currentUser.email_invalid,u.unsubscribed=!u.currentUser||0==u.currentUser.subscriptions.length,u.currentUser?(u.subscribePath=r.newSiteSubscriptionPath,"true"!==s.get("inappropriateUserModal")&&(u.currentUser.inappropriate_username||u.currentUser.inappropriate_user_photo)&&a.open({templateUrl:"modals/inappropriateUserModal.html",controller:"inappropriateUserModalController as ctrl",size:"sm"})):u.subscribePath=r.subscriptionFunnelPath,o.checkEvents()}),u.toggleBackgroundOverflow=function(e){var t=angular.element("body");t.css("overflow",e?"hidden":"")},u.toggleContentNav=function(e){e.preventDefault(),angular.element(".nav-row").toggle(),u.toggleBackgroundOverflow(angular.element(".nav-row").is(":visible"))},u.toggleUserNav=function(){angular.element(".nav-menu-mobile").is(":visible")&&angular.element(".nav-row").hide()},u.subscribeEvent=function(){l.sendEvent("headerInteraction","Subscribe",null),c.location.href=u.subscribePath+u.utmParams},u.showSubscribe=function(){var e=angular.element("#registration-page").length>0;return u.unsubscribed&&u.isDesktop&&!e},n.subscribeScopeToResizeEvents(e,function(e,t){u.isTablet="tablet"==t.breakpoint,u.isDesktop="desktop-large"==t.breakpoint||"desktop-small"==t.breakpoint,u.isMobile="mobile-small"==t.breakpoint||"mobile-large"==t.breakpoint})}])}.call(this),function(){angular.module("rivals").controller("announcementDateController",["moment","timeZones","datePickerFactory",function(e,t,n){var i=this;i.init=function(e){i.openDate=!1,i.usZones=t.getUsZones(),i.myTimeZone=t.getLocalTimeZone(i.usZones),i.selectedTimeZone=i.myTimeZone,e?(e=new Date(e),i.saveAnnouncementDate=e,i.announcementDate=t.displayInTimeZone(e,i.myTimeZone)):i.announcementDate=null,i.displayDate=i.announcementDate,i.datePickerOpen={}},i.updateSavedDateTime=function(){i.momentDate=e(i.announcementDate);var n=e(i.announcementDate).tz(i.selectedTimeZone)._offset,r=i.momentDate.zone();i.momentDate._offset=n-r,i.saveAnnouncementDate=e.parseZone(i.momentDate).toDate(),i.displayDate=t.displayInTimeZone(i.saveAnnouncementDate,i.myTimeZone)},i.openDatePicker=function(e,t){n.openDatePicker(e,t,i.datePickerOpen)}}])}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/prospect/rvForecastGraph.html","<div class='rivals-forecast-chart' id='forecastGraph'>\n<div class='user-filter-btn-container'>\n<span class='user-filter-btn' ng-click='$ctrl.toggleUserForecast(analysts, $event)'>\nanalysts\n</span>\n<span class='user-filter-btn' ng-click='$ctrl.toggleUserForecast(publishers, $event)'>\npublishers\n</span>\n<span class='user-filter-btn disabled' ng-click='$ctrl.toggleUserForecast(fans, $event)'>\nfans\n</span>\n</div>\n<svg class='graph'></svg>\n<div class='unanimous-text-container' ng-if='$ctrl.showUnanimousText'>\n<div class='unanimous-text'>\n{{ $ctrl.lineOne }}\n</div>\n<div class='line-two-container'>\n<img ng-src='{{ $ctrl.collegeLogo }}'>\n<span class='school-text'>\n{{ $ctrl.lineTwo | uppercase }}\n</span>\n</div>\n</div>\n</div>\n<div class='graph-key forecast-graph' ng-class='{ &#39;no-graph&#39;: !$ctrl.showGraph }'>\n<div class='year-breakup' ng-if='$ctrl.showGraph &amp;&amp; $ctrl.rankYear &gt; 2019'>\n<div class='school-years soph'>SO. '{{$ctrl.year - 3}} \u2013 '{{$ctrl.year - 2}}</div>\n<div class='school-years junior'>JR '{{$ctrl.year - 2}} \u2013 '{{$ctrl.year - 1}}</div>\n<div class='school-years senior'>SR '{{$ctrl.year - 1}} \u2013 '{{$ctrl.year}}</div>\n</div>\n<div class='year-breakup' ng-if='$ctrl.showGraph &amp;&amp; $ctrl.rankYear === 2019'>\n<div class='school-years short-junior'>JR '{{$ctrl.year - 2}} \u2013 '{{$ctrl.year - 1}}</div>\n<div class='school-years long-senior'>SR '{{$ctrl.year - 1}} \u2013 '{{$ctrl.year}}</div>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvForecastGraph",{restrict:"E",bindings:{prospectId:"=",rankYear:"=",prospectName:"=",numForecastTypes:"=",totalForecasts:"="},templateUrl:"content/prospect/rvForecastGraph.html",controller:["prospectRankingGraphConstants","userForecastsService","$window","$scope","moment","$document","graphBuildingToolsFactory",function(e,t,n,i,r,o,a){function s(){var e=-1;return R.data.forEach(function(t){var n=-1,i=0;t.data_points.forEach(function(e){e.value!==n&&(n=e.value,i+=1)}),i>e&&(e=i)}),e-1}function l(e,n){t.fetchForecastGraphData(R.prospectId,n).then(function(t){R.data=t.data,R.showGraph=!0,R.showUnanimousText=!1,R.showNoneValid=!1;var r=s();if(0===r?(R.showNoneValid=!0,R.showGraph=!1):1===r&&1===R.data.length&&(R.showUnanimousText=!0,R.showGraph=!1),R.loaded?n?i.$emit("updateForecastGraphOpenUserType",n.includes("Analysts"),n.includes("Publishers"),R.showUnanimousText):i.$emit("updateForecastGraphOpenUserType",!0,!0,R.showUnanimousText):R.loaded=!0,e&&(R.d3.select("#forecastGraph svg").selectAll("polygon, image, rect, text, defs, line").remove(),R.g.selectAll("svg").remove(),R.g.remove(),0===R.data.length)){var o="No "+n+" forecasts made for "+R.prospectName;a.addText(R.svg,R.svgWidth/2,R.svgHeight/2,"middle","no-forecasts",o)}R.showNoneValid||c();var l=R.d3.select("#forecastGraph svg"),u=R.margin,d=R.svgWidth-u.left-u.right,p=R.svgHeight-R.margin.top-R.margin.bottom,h=l.append("g").attr("transform","translate("+u.left+","+R.margin.top+")");R.svg=l,R.g=h,R.d3.timeParse("%m/%d/%Y %H:%M:%S"),R.xAxis=R.d3.scaleTime().rangeRound([0,d]),R.yAxis=R.d3.scaleLinear().rangeRound([0,p]),R.line=R.d3.line().x(function(e){return R.xAxis(e.date)}).y(function(e){return R.yAxis(e.value)}),R.showGraph?(k(),x(),A()):R.showUnanimousText?x():R.showNoneValid&&C(),a.dropShadowFilter(R.svg)})}function c(){var e=[];R.data.forEach(function(t){d(t)<t.data_points.length&&e.push(t)}),R.data=_.sortBy(e,function(e){return d(e)}),R.data.length>N&&u()}function u(){var e=[],t=[],n=[],i=[],r=R.data.length-(N-1);R.data.forEach(function(r){0!==r.data_points[r.data_points.length-1].value?n.push(r):0!==r.data_points[0].value?t.push(r):i.push(r),e.push(r)}),t=_.sortBy(t,function(e){return p(e)}),n=_(n).chain().sortBy(function(e){return p(e)}).sortBy(function(e){return e.data_points[e.data_points.length-1].value}).value(),i=_.sortBy(i,function(e){return p(e)});for(var o=[].concat(i).concat(n).concat(t),a=o.slice(0,r),s=e.length;s--;s>=0)a.includes(e[s])&&e.splice(s,1);R.numOtherLayers=a.length;var l=Object.assign({},a[0]);l.college_name="Other",l.college_color="#1D2933",l.college_logo=null,l.college_id=null;for(var c=0,u=l.data_points.length;u>c;c++){var d=0;a.forEach(function(e){d+=e.data_points[c].value}),l.data_points[c].value=d}e.unshift(l),R.data=e}function d(e){for(var t=0;t<e.data_points.length;t++)if(e.data_points[t].value>0)return t;return e.data_points.length}function p(e){var t=0;return e.data_points.forEach(function(e){e.value>0&&(t+=1)}),t}function h(e,t){for(var n=t.slice(0),i=0;i<n.length;i++)n[i].value=e[i].value+n[i].value;return n}function f(e,t){for(var n=[],i=0;i<e.length;i++)n.push(" "+R.xAxis(new Date(e[i].date)).toString()+","+R.yAxis(e[i].value));for(i=t.length-1;i>-1;i--)n.push(" "+R.xAxis(new Date(t[i].date)).toString()+","+R.yAxis(t[i].value));return n.join()}function m(e){var t=[];e.forEach(function(e){t.push(new Date(e.date))});var n=[];n.push(t[0]);for(var i=1;i<t.length;i++)n.push(new Date((t[i].getTime()+t[i-1].getTime())/2));return n.push(t[t.length-1]),n}function g(e){var t=[];return e.forEach(function(e){t.push({date:e.date,values:[]})}),R.data.forEach(function(e){t.forEach(function(t,n){e.data_points[n].value>0&&t.values.push({name:e.college_name,percentage:e.data_points[n].value,color:e.college_color})})}),t.forEach(function(e){e.values.reverse()}),t}function v(e,t,n){e.append("line").attr("x1",R.xAxis(t)).attr("x2",R.xAxis(t)).attr("y1",1).attr("y2",R.yAxis(0)-1).style("stroke",n).style("stroke-width",1)}function b(e,t,n,i,r){e.append("circle").attr("cy",R.yAxis(t)).attr("cx",R.xAxis(n)).attr("r",i).style("fill",r).style("stroke","white").style("stroke-width",1)}function y(t,n){return R.g.append("line").attr("x1",0).attr("x2",e.graphWidth).attr("y1",R.yAxis(t)-n).attr("y2",R.yAxis(t)-n).attr("class","horizontal-line")}function w(e,t,n){return e+t+n.node().getBBox().width+8}function k(){if(2019===R.rankYear)var t=[new Date("6/1/2018"),new Date("3/10/2019")];else t=[new Date(e.startDate+(R.rankYear-2).toString()),new Date(e.endDate+R.rankYear.toString())];R.xAxis.domain(R.d3.extent(t,function(e){return e})),R.yAxis.domain([1,0]);var n=[0,.25,.5,.75,1];n.forEach(function(e){y(e,0)}),y(0,1),F(0),R.g.append("text").attr("x",-133).attr("y",-20).attr("class","percentage-text").attr("transform","rotate(-90)").text("PERCENTAGE")}function x(){R.data=_.sortBy(R.data,function(e){return e.data_points[e.data_points.length-1].value}),R.datePoints=g(R.data[0].data_points);var e=[];R.layers={},R.data.forEach(function(t,n){var i=t.college_name.replace(/\s/g,"");if(R.layers[i]={info:t,path:null,polygonPath:null,polygon:null,logoPolygon:null,visible:!0},0!==n){var r=h(e[n-1],t.data_points);e.push(r),R.layers[i].path=r}else e.push(t.data_points),R.layers[i].path=t.data_points});var t=Object.keys(R.layers);if(R.showUnanimousText?S(R.layers[t[0]]):$(t,e),t.indexOf("Other")>0&&(t.splice(t.indexOf("Other"),1),t.unshift("Other")),t.reverse(),t.length<=L)T(1,0,t,null);else{var n=T(1,0,t.slice(0,L),null);T(1,35,t.slice(L),n)}}function $(e,t){e.forEach(function(e,n){var i=R.layers[e];0!==n?i.polygonPath=f(i.path,t[n-1]):i.polygonPath=f(i.path,[{date:t[0][0].date.toString(),value:0},{date:t[0][t[0].length-1].date.toString(),value:0}])}),e.forEach(function(e){var t=R.layers[e],n=t.info.college_name.replace(/\s/g,"");P(t),t.polygon=R.g.append("polygon").attr("id",n+"color").style("fill",t.info.college_color).attr("class","background-polygon").attr("points",t.polygonPath),t.logoPolygon=R.g.append("polygon").attr("id",n+"logo").style("fill","url(#"+n+")").style("stroke","white").style("stroke-width",1).attr("points",t.polygonPath),R.g.append("path").datum(t.path).style("stroke-width",1).style("stroke","white").style("fill","none").attr("d",R.line)})}function S(e){R.svg.append("rect").attr("class","unanimous-background").attr("x",20).attr("y",40),R.numForecastTypes>0&&0===o.find(".user-filter-btn.disabled").length&&o.find(".user-filter-btn").addClass("disabled"),R.lineOne="FutureCast for "+R.prospectName+" is unanimous: ",R.lineTwo="100% "+e.info.college_name,R.collegeLogo=e.info.college_logo}function C(){R.svg.append("rect").attr("class","unanimous-background").attr("x",20).attr("y",40),o.find(".user-filter-btn").addClass("disabled");var e="No active forecast history for "+R.prospectName+".";a.addText(R.svg,R.svgWidth/2,R.svgHeight/2,"middle","no-forecasts",e)}function T(e,t,n,i){R.buttonPercentages={},R.datePoints[R.datePoints.length-1].values.forEach(function(e){R.buttonPercentages[e.name]=E(e.percentage)});var r=R.svg.append("svg");return n.forEach(function(n){var i=R.layers[n],o=i.info.college_name,s=r.append("rect").attr("x",e).attr("y",1+t).attr("width",100).attr("class","button-body");if("Other"!==i.info.college_name){r.append("image").attr("y",7+t).attr("x",e+8).attr("xlink:href",i.info.college_logo).attr("height",18).attr("width",18);var l=a.addText(r,e+31,20+t,"left","button-name-text",o),c=w(8,23,l)}else o=o+"("+R.numOtherLayers.toString()+")",l=a.addText(r,e+8,20+t,"left","button-name-text",o),c=w(8,0,l);if(R.buttonPercentages[i.info.college_name]){o=R.buttonPercentages[i.info.college_name];var u=a.addText(r,e+c,20+t,"left","button-percentage-text",o);c=w(c,0,u)}s.attr("width",c);var d=r.append("rect").attr("x",e).attr("y",1+t).attr("width",c).attr("class","button-body-disabled").style("opacity",0);R.showUnanimousText?(s.attr("class","button-body-disabled"),d.style("opacity",.6)):d.on("click",function(){R.layers[n].visible=!R.layers[n].visible,R.layers[n].visible?(R.layers[n].polygon.style("opacity",.8),s.attr("class","button-body"),R.d3.select(this).style("opacity",0)):(R.layers[n].polygon.style("opacity",.4),s.attr("class","button-body-disabled"),R.d3.select(this).style("opacity",.6))}),e=e+c+10}),i&&i<R.svgWidth-e-25?r.attr("x",i):r.attr("x",R.svgWidth-e-25),R.svgWidth-e-25}function A(){var e=O(R.datePoints),t=m(R.datePoints),n=t.length-1,i={};t.forEach(function(t,r){if(n>r){var o=R.datePoints[r],a=new Date(o.date),s=R.g.append("g").attr("visibility","hidden").attr("id","smallLine_"+o.date.toString()),l=R.g.append("g").attr("visibility","hidden");if(i[o.date]=l,o.date>=e){var c=o.values.length>0?"white":"#d9d9d9";v(s,a,c),v(l,a,c);var u=1;o.values.length>0?o.values.forEach(function(e){b(s,u,a,4,e.color),b(l,u,a,6,e.color),u-=e.percentage}):(b(s,u,a,4,c),b(l,u,a,6,c))}}});var r=2*t.length/3,o=0;t.forEach(function(s,l){if(l>r&&(o=-120),n>l){var c=R.datePoints[l];if(c.date>=e){var u=new Date(c.date),d=R.g.append("g").attr("visibility","hidden"),p=d.append("rect").attr("x",R.xAxis(u)+10+o).attr("y",50).attr("height",100).attr("class","popover");c.values.length>4&&p.attr("height",(100+12.5*(c.values.length-4)).toString()),a.addText(d,R.xAxis(u)+60+o,70,"middle","date-text",D(u));var h=90;c.values.length>0?c.values.forEach(function(e){var t=e.name+" "+E(e.percentage);a.addText(d,R.xAxis(u)+60+o,h,"middle","percentage-text",t),h+=15}):(a.addText(d,R.xAxis(u)+60+o,h,"middle","percentage-text","No active"),a.addText(d,R.xAxis(u)+60+o,h+15,"middle","percentage-text","forecasts.")),R.g.append("rect").attr("y",R.yAxis(1)).attr("x",R.xAxis(s)).attr("height",R.yAxis(0)-R.yAxis(1)).attr("width",R.xAxis(t[l+1])-R.xAxis(s)).style("fill","transparent").on("click",function(){R.openDate&&R.openDate!==c.date&&i[R.openDate].attr("visibility","hidden"),i[c.date].attr("visibility","visible"),M(c.date)}).on("mouseover",function(){d.attr("visibility","visible"),R.d3.select("#smallLine_"+c.date.toString()).attr("visibility","visible")}).on("mouseout",function(){d.attr("visibility","hidden"),R.d3.select("#smallLine_"+c.date.toString()).attr("visibility","hidden")})}}}),R.openDate=R.openDate||R.datePoints[R.datePoints.length-1].date,i[R.openDate].attr("visibility","visible")}function M(e){R.openDate=e,i.$emit("updateForecastGraphOpenDate",r(new Date(e)).format("MM/DD/YYYY"),R.showUnanimousText)}function D(e){return r(e).format("MM/DD/YYYY")}function E(e){return 100*e>=.5?""+Math.round(100*e).toString()+"%":""+(100*e).toFixed(1)+"%"}function P(e){var t=e.info.college_name.replace(/\s/g,"");R.svg.append("defs").append("svg:pattern").attr("id",t).attr("width",45).attr("height",45).attr("patternUnits","userSpaceOnUse").append("svg:image").attr("xlink:href",e.info.college_logo).attr("width",30).attr("height",30).attr("x",10).attr("y",0).attr("opacity","0.2")}function I(){return a.getDates(R.rankYear)}function F(t){var n=I();n.forEach(function(i){var r="";i===n[n.length-1]?(a.signingDayLabel(R.g,R.xAxis(i)+8,R.yAxis(t)+25,"SIGNING"),a.signingDayLabel(R.g,R.xAxis(i)+8,R.yAxis(t)+35,"DAY")):r=e.rankMonths[(i.getMonth()-2)/3],a.addText(R.g,R.xAxis(i)-5,R.yAxis(t)+30,"start","month-text",r)})}function O(e){var t=e.find(function(e){return e.values.length>0});return t.date}var N=8,L=N/2,R=this;R.$onInit=function(){R.year=R.rankYear%100,R.data=[],R.svgWidth=parseInt(angular.element(document.querySelector(".graph")).css("width")),R.svgHeight=parseInt(angular.element(document.querySelector(".graph")).css("height")),R.openDate=null,R.d3=n.d3,R.margin={top:80,right:35,bottom:40,left:50},R.loaded=!1,l(!1,["Analysts","Publishers"])},R.toggleUserForecast=function(e,t){var n=angular.element(t.currentTarget),i=o.find(".user-filter-btn").length,r=o.find(".user-filter-btn.disabled"),a=n.hasClass("disabled"),s=r.length===i-1,c=r.length<i-1;if(0===r.length||s&&a||c){n.toggleClass("disabled");var u=!o.find(".user-filter-btn").hasClass("disabled");if(u)l(!0,null);else{var d=[];_.each(o.find(".user-filter-btn").not(".disabled"),function(e){d.push(e.innerText)}),l(!0,d)}}}}]})}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/prospect/rvForecastListRow.html","<div class='forecast-row'>\n<div class='logo-box'>\n<div class='change-container' ng-class='{&#39;unlikely&#39;: $ctrl.forecast.no_longer_likely }'>\n<div class='logo' ng-cloak ng-if='$ctrl.forecast.previous_college_logo'>\n<img class='logo' ng-class='{&#39;unlikely-logo&#39;: $ctrl.forecast.previous_forecast_cancelled }' ng-src='{{$ctrl.forecast.previous_college_logo}}'>\n</div>\n<div class='right-arrow' ng-cloak ng-if='$ctrl.forecast.previous_college_logo'></div>\n<div class='logo' ng-class='{ &#39;singular&#39; : !$ctrl.forecast.previous_college_logo }' ng-cloak>\n<img class='logo' ng-class='{&#39;unlikely-logo&#39;: $ctrl.forecast.no_longer_likely }' ng-src='{{$ctrl.forecast.college_logo}}'>\n</div>\n</div>\n<div class='marked-unlikely' ng-if='$ctrl.forecast.no_longer_likely'>\nUnlikely\n</div>\n</div>\n<div class='info-box' ng-class='{ &#39;first-forecast-row&#39;: $index === 0 }'>\n<div class='forecast-info'>\n<a class='analyst-name forecaster_profile text-capitalize' ng-href='{{$ctrl.forecast.forecaster_profile_url}}' ng-if='$ctrl.forecast.forecaster_profile_url'>\n{{$ctrl.forecast.author_name}}\n</a>\n<div class='analyst-name text-capitalize' ng-if='!$ctrl.forecast.forecaster_profile_url'>\n{{$ctrl.forecast.author_name}}\n</div>\n<div class='forecast-date'>\n{{$ctrl.displayDate($ctrl.forecast.forecast_date)}}\n</div>\n</div>\n<div class='accuracy'>\nxx% Accuracy  |  xx/xx predictions\n</div>\n<div class='reason-text'>\n{{$ctrl.forecast.reason}}\n</div>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvForecastListRow",{bindings:{forecast:"="},templateUrl:"content/prospect/rvForecastListRow.html",controller:["$scope","graphBuildingToolsFactory","moment",function(e,t,n){var i=this;i.displayDate=function(e){return n(e).format("MM/DD/YY h:mm a")}}]})}(),angular.module("rivals").controller("rvProspectCardEditorCtrl",["$scope",function(e){e.prospect=e.$parent.prospect,e.cloudinaryPublicId=e.$parent.cloudinaryPublicId}]),function(){"use strict";angular.module("rivals").controller("rvProspectCardEmbedController",["$scope","$timeout","$window",function(e,t,n){var i=this;n.addEventListener("copy",function(){}),angular.element(document).ready(function(){i.clipboard=new Clipboard(".clipboard"),i.copied=!1,i.clipboard.on("success",function(){i.copied=!0,t(function(){i.copied=!1},1500),e.$digest()}),i.clipboard.on("error",function(){i.copied=!1})})}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/prospect/rvProspectForecastGraph.html","<div class='anchor' id='forecast-graph' ng-class='{&#39;committed&#39;: $ctrl.prospect[&#39;status&#39;] !== &#39;undecided&#39;}'></div>\n<div class='committed-forecast-history' ng-cloak ng-if='$ctrl.prospect[&#39;status&#39;] !== &#39;undecided&#39;'>\n<div class='commit-block'>\n<div class='small-title-text' style='order: 1'>\nCommitment Status\n</div>\n<div class='commit'>\n<img class='forecast-commit-logo' ng-src='{{$ctrl.prospect[&#39;big_commit_logo&#39;]}}'>\n<div class='information'>\n<div class='label' ng-class='$ctrl.prospect[&#39;status&#39;]'>{{ $ctrl.prospect['status'] }}</div>\n<div class='commit-text'>{{ $ctrl.prospect['commit_date'] }}</div>\n<a class='commit-text name' ng-href='{{$ctrl.prospect[&#39;school_commits_url&#39;]}}'>{{$ctrl.prospect['committed_college_name']}}</a>\n</div>\n</div>\n</div>\n<div class='dividing-line'></div>\n<div class='forecast-history-spread'>\n<div class='forecast-logo-spacer'>\n<div class='forecast-logo-container'>\n<rv-forecast-logos analysts='true' commitment='true' forecasts='$ctrl.analystForecastModule'></rv-forecast-logos>\n</div>\n</div>\n<div class='forecast-logo-spacer'>\n<div class='forecast-logo-container'>\n<rv-forecast-logos analysts='false' commitment='true' forecasts='$ctrl.fanForecastModule'></rv-forecast-logos>\n</div>\n</div>\n<div class='forecast-logo-spacer'>\n<div class='forecast-logo-container'>\n<rv-my-forecast commitment='true' prospect-interests='$ctrl.interests' prospect='$ctrl.prospect' subtitle='&#39;Mine&#39;'></rv-my-forecast>\n</div>\n</div>\n</div>\n</div>\n<div class='forecast-history-divider' ng-if='$ctrl.prospect[&#39;status&#39;] !== &#39;undecided&#39;'></div>\n<div class='wrapper'>\n<div class='scrollable-shadow active graph-shadow'></div>\n<div class='scrollable-table-container'>\n<div class='prospect-forecast-graph'>\n<div class='small-title-text' ng-cloak ng-if='$ctrl.prospect[&#39;status&#39;] !== &#39;undecided&#39;'>Forecast Graph</div>\n<rv-forecast-graph num_forecast_types='$ctrl.numForecastTypes' prospect-id='$ctrl.prospect.id' prospect_name='$ctrl.prospect.full_name' rank-year='$ctrl.prospect.recruit_year' total_forecasts='$ctrl.forecasts.length'></rv-forecast-graph>\n</div>\n</div>\n</div>\n<div class='forecast-module' ng-cloak>\n<div class='anchor' id='forecast-reasons'></div>\n<div ng-show='$ctrl.userType !== &quot;neither&quot;'>\n<div class='header-text' ng-if='!$ctrl.unanimous'>\n{{ $ctrl.userType }} forecast changes for <b>{{$ctrl.dateWindowStart}}</b> to <b>{{$ctrl.dateWindowEnd}}</b>. {{$ctrl.promptText}}\n</div>\n<div class='header-text' ng-if='$ctrl.unanimous'>\n<b>All</b> {{ $ctrl.userType }} forecast changes. {{$ctrl.promptText}}\n</div>\n</div>\n<div class='each-forecast' ng-cloak ng-repeat='data in $ctrl.topFiveData' ng-show='$ctrl.topFiveData &amp;&amp; $ctrl.topFiveData !== []'>\n<div class='break-line' ng-if='$index != 0'></div>\n<rv-forecast-list-row forecast='data'></rv-forecast-list-row>\n</div>\n<div class='each-forecast' ng-cloak ng-repeat='data in $ctrl.additionalData' ng-show='$ctrl.additionalData &amp;&amp; $ctrl.additionalData !== [] &amp;&amp; $ctrl.showAll'>\n<div class='break-line'></div>\n<rv-forecast-list-row forecast='data'></rv-forecast-list-row>\n</div>\n<div class='no-changes' ng-cloak ng-if='$ctrl.topFiveData.length == 0'>\nNo changes for {{$ctrl.dateWindowEnd}}.\n</div>\n<div class='btn-gradient with-caret show-all' ng-click='$ctrl.toggleReasons()' ng-show='!$ctrl.showText &amp;&amp; $ctrl.additionalData.length &gt; 0'>\n<a class='text' du_smooth_scroll='forecast-reasons' href='#forecast-reasons' ng-show='!$ctrl.showText'>Show all</a>\n</div>\n<div class='btn-gradient with-caret show-less' ng-click='$ctrl.toggleReasons()' ng-show='$ctrl.showText &amp;&amp; $ctrl.additionalData.length &gt; 0'>\n<a class='text' du_smooth_scroll='forecast-reasons' href='#forecast-reasons' ng-show='$ctrl.showText'>Show less</a>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvProspectForecastGraph",{bindings:{prospect:"=",interests:"="},templateUrl:"content/prospect/rvProspectForecastGraph.html",controller:["$scope","graphBuildingToolsFactory","moment","$document","$timeout","forecastDisplayDatesService","userContentsService","userForecastsService","animationFactory",function(e,t,n,i,r,o,a,s,l){var c=this,u=5;c.$onInit=function(){c.showText=!1,c.showAll=!1,c.month=["mar","jun","sep","dec"],c.showTooltip=!1,c.dateWindowEnd=null,c.userType="Analyst and Publisher",c.dateWindowStart=null,c.dataToShow=[],c.dataSelections={},c.unanimous=!0,c.unanimousDataSelections={"Analyst and Publisher":c.forecasts,Analyst:[],Publisher:[],neither:[]},c.promptText="Click on the graph to filter by week and user type.",c.getForecasts(),c.prospect.commit_date&&(c.analystForecastModule=p("analysts"),c.fanForecastModule=p("fans"))},c.getForecasts=function(){s.fetchForecastsForProspect(c.prospect.id).then(function(e){c.forecasts=e,c.setData()})},c.setData=function(){c.forecasts.forEach(function(e){e.by_analyst?c.unanimousDataSelections.Analyst.push(e):c.unanimousDataSelections.Publisher.push(e)}),c.dataSelections["Analyst and Publisher"]=o.parseData(c.prospect.recruit_year,c.forecasts),c.dataSelections.Analyst=o.parseData(c.prospect.recruit_year,c.unanimousDataSelections.Analyst),c.dataSelections.Publisher=o.parseData(c.prospect.recruit_year,c.unanimousDataSelections.Publisher),c.dataSelections.neither={},c.allDates=Object.keys(c.dataSelections[c.userType]);var e=_.countBy(c.forecasts,function(e){return e.by_analyst});c.numForecastTypes=Object.keys(e).length,c.forecasts.length>0&&(c.dateWindowEnd=c.allDates[c.allDates.length-1],c.setModuleDates(c.dateWindowEnd))},c.setModuleDates=function(e){c.dateWindowEnd=e,c.dateWindowStart=n(new Date(c.allDates[c.allDates.indexOf(e)-1])).add(1,"d").format("MM/DD/YYYY"),c.setReasonData()},c.showForecastReasons=function(e){c.promptText=null,i.ready(function(){e.length>0&&i.find(".forecast-row").css("opacity",1)})},c.setReasonData=function(){if(c.unanimous){var e={};_.each(c.forecasts,function(t){e[t.user_id]=t}),c.dataToShow=_.filter(c.forecasts,function(t){return e[t.user_id]===t})}else c.dataToShow=c.dataSelections[c.userType][c.dateWindowEnd];d()};var d=function(){c.dataToShow.length>u?(c.topFiveData=c.dataToShow.slice(0,u),c.additionalData=c.dataToShow.slice(u)):(c.topFiveData=c.dataToShow.slice(0),c.additionalData=[])};c.toggleReasons=function(){c.showText=!c.showText,l.slowScrolling("#forecast-reasons"),r(function(){c.showAll=!c.showAll},300)},i.ready(function(){r(function(){i.find(".forecast-row").css("opacity",1)},300)}),e.$on("updateForecastGraphOpenDate",function(t,n,i){c.unanimous=i,c.setModuleDates(n),e.$apply(),c.showForecastReasons(c.dataToShow)});var p=function(e){a.getTopForecasts(c.prospect.id,e).then(function(t){e&&"analysts"!=e||(c.analystForecastModule=t.analysts),e&&"fans"!=e||(c.fanForecastModule=t.fans),c.forecastsReady=!0})};e.$on("updateForecastGraphOpenUserType",function(e,t,n,i){c.unanimous=i,t&&n?c.userType="Analyst and Publisher":t?c.userType="Analyst":n?c.userType="Publisher":c.userType="neither",c.setReasonData(),c.showForecastReasons(c.dataToShow)})}]})}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/prospect/rvProspectForecastTable.html","<div class='date-window'>\nForecasts statistics as of <b>{{$ctrl.selectedDate}}</b>.\n</div>\n<div class='forecast-table-date-picker'>\n<ui-select ng-model='$ctrl.selectedDate' on-select='$ctrl.getDataToView()' theme='selectize'>\n<ui-select-match ng-cloak placeholder='Select Date'>{{ $ctrl.selectedDate }}</ui-select-match>\n<ui-select-choices position='down' repeat='date as date in $ctrl.allDates'>\n<div ng-cloak>{{date}}</div>\n</ui-select-choices>\n</ui-select>\n</div>\n<div class='prospect-forecast-table'>\n<div class='no-active-forecasts' ng-cloak ng-if='$ctrl.topFiveData.length === 0'>\nNo active forecasts in this date range.\n</div>\n<div class='table-container' ng-cloak ng-if='$ctrl.topFiveData.length &gt; 0'>\n<div class='scrollable-shadow active'></div>\n<div class='scrollable-table-container'>\n<table class='forecast-table'>\n<thead>\n<tr>\n<th class='forecast-table school'>\n<div>School</div>\n</th>\n<th class='forecast-table analyst'>\nanalysts\n</th>\n<th class='forecast-table publisher'>\npublishers\n</th>\n<th class='forecast-table fan'>\nfans\n</th>\n<th class='forecast-table percent'>\n<div>Forecast %</div>\n</th>\n</tr>\n</thead>\n<tbody>\n<tr ng-repeat='data in $ctrl.topFiveData track by $index'>\n<td class='school'>\n<div class='school-logo-name'>\n<div class='img-container'>\n<img ng-if='$ctrl.interestHash[data[&#39;school&#39;]][&#39;team_logo&#39;]' ng-src='{{ $ctrl.interestHash[data[&#39;school&#39;]][&#39;team_logo&#39;] }}'>\n</div>\n<a ng-href='{{$ctrl.interestHash[data[&#39;school&#39;]][&#39;commitments_url&#39;]}}' ng-if='$ctrl.interestHash[data[&#39;school&#39;]][&#39;commitments_url&#39;]'>\n{{ $ctrl.interestHash[data['school']]['team_name'] }}\n</a>\n<div ng-if='!$ctrl.interestHash[data[&#39;school&#39;]][&#39;commitments_url&#39;]'>\n{{ $ctrl.interestHash[data['school']]['team_name'] }}\n</div>\n</div>\n</td>\n<td class='analyst'>\n<div ng-hide='data[&#39;spread&#39;][&#39;analysts&#39;] == 0'>{{ data['spread']['analysts'] }}</div>\n</td>\n<td class='publisher'>\n<div ng-hide='data[&#39;spread&#39;][&#39;publishers&#39;] == 0'>{{ data['spread']['publishers'] }}</div>\n</td>\n<td class='fan'>\n<div ng-hide='data[&#39;spread&#39;][&#39;fans&#39;] == 0'>{{ data['spread']['fans'] }}</div>\n</td>\n<td class='percent'>\n<div ng-hide='data[&#39;spread&#39;][&#39;total&#39;] == 0'>{{ data['spread']['percentage'] }}</div>\n</td>\n</tr>\n<tbody class='more-table' ng-show='$ctrl.showAll'>\n<tr ng-repeat='data in $ctrl.additionalData track by $index'>\n<td class='school'>\n<div class='school-logo-name'>\n<div class='img-container'>\n<img ng-if='$ctrl.interestHash[data[&#39;school&#39;]][&#39;team_logo&#39;]' ng-src='{{ $ctrl.interestHash[data[&#39;school&#39;]][&#39;team_logo&#39;] }}'>\n</div>\n<a ng-href='{{$ctrl.interestHash[data[&#39;school&#39;]][&#39;commitments_url&#39;]}}' ng-if='$ctrl.interestHash[data[&#39;school&#39;]][&#39;commitments_url&#39;]'>\n{{ $ctrl.interestHash[data['school']]['team_name'] }}\n</a>\n<div ng-if='!$ctrl.interestHash[data[&#39;school&#39;]][&#39;commitments_url&#39;]'>\n{{ $ctrl.interestHash[data['school']]['team_name'] }}\n</div>\n</div>\n</td>\n<td class='analyst'>\n<div ng-hide='data[&#39;spread&#39;][&#39;analysts&#39;] == 0'>{{ data['spread']['analysts'] }}</div>\n</td>\n<td class='publisher'>\n<div ng-hide='data[&#39;spread&#39;][&#39;publishers&#39;] == 0'>{{ data['spread']['publishers'] }}</div>\n</td>\n<td class='fan'>\n<div ng-hide='data[&#39;spread&#39;][&#39;fans&#39;] == 0'>{{ data['spread']['fans'] }}</div>\n</td>\n<td class='percent'>\n<div ng-hide='data[&#39;spread&#39;][&#39;total&#39;] == 0'>{{ data['spread']['percentage'] }}</div>\n</td>\n</tr>\n</tbody>\n</tbody>\n</table>\n</div>\n</div>\n<div class='btn-gradient with-caret show-all' ng-click='$ctrl.toggleInterests()' ng-show='!$ctrl.showText &amp;&amp; $ctrl.additionalData.length &gt; 0'>\n<a class='text' du_smooth_scroll='forecast-totals' href='#forecast-totals' ng-show='!$ctrl.showText'>Show all</a>\n</div>\n<div class='btn-gradient with-caret show-less' ng-click='$ctrl.toggleInterests()' ng-show='$ctrl.showText &amp;&amp; $ctrl.additionalData.length &gt; 0'>\n<a class='text' du_smooth_scroll='forecast-totals' href='#forecast-totals' ng-show='$ctrl.showText'>Show less</a>\n</div>\n</div>");
}]),function(){"use strict";angular.module("rivals").component("rvProspectForecastTable",{bindings:{interests:"=",prospect:"="},templateUrl:"content/prospect/rvProspectForecastTable.html",controller:["$scope","$timeout","animationFactory","userForecastsService","moment",function(e,t,n,i,r){var o=5,a=this;this.$onInit=function(){a.showText=!1,a.showAll=!1,a.topFiveData=[],a.additionalData=[],a.apiData=null,a.loadData()},a.loadData=function(){i.fetchForecastTableData(a.prospect.id).then(function(e){a.apiData=e.data,a.allDates=Object.keys(a.apiData),a.cleanUpDates(),a.selectedDate=a.allDates[0],a.parseInterestHash(),a.getDataToView()})},a.cleanUpDates=function(){for(var e=_.pick(a.apiData,function(e,t){return _.isEmpty(e)?void 0:t}),t=r(Object.keys(e)[0]).subtract(1,"days");r(a.allDates[0])<t;)a.allDates.shift();a.allDates.reverse()},a.parseInterestHash=function(){a.interestHash={},a.interests.forEach(function(e){a.interestHash[e.college_id]=e})},a.getDataToView=function(){var e=[],t=[];a.dataForDate=a.apiData[a.selectedDate],a.keys=Object.keys(a.dataForDate);var n=0;a.keys.forEach(function(t){var i=a.dataForDate[t];i.total>0&&(e.push({school:t,spread:i}),n+=i.total)}),a.collegeOrder=_.map(_.sortBy(a.interests,function(e){return e.team_name}),"college_id"),a.collegeOrder.forEach(function(n){var i=_.find(e,{school:n.toString()});i&&t.push(i)}),e=t,e.forEach(function(e){e.spread.percentage=(100*(e.spread.total/n)).toFixed(1)+"%"}),e=_.sortBy(e,function(e){return-1*e.spread.total}),e.length>o?(a.topFiveData=e.slice(0,o),a.additionalData=e.slice(o)):a.topFiveData=e.slice(0)},a.toggleInterests=function(){a.showText=!a.showText,n.slowScrolling("#forecast-totals"),t(function(){a.showAll=!a.showAll},300)}}]})}(),angular.module("rivals").controller("rvProspectPageCtrl",["$scope","$rootScope","responsiveService","prospectProfileConstants","$timeout","$document","userService","animationFactory","forecastModalFactory","timeZones",function(e,t,n,i,r,o,a,s,l,c){var u="desktop-small",d="desktop-large",p="tablet",h="mobile-small",f=0;e.init=function(t,n,r,o){e.prospect=t,e.aolPlayerId=n,e.aolCompanyId=r,e.images=t.images,e.status=i.commitmentStatus[e.prospect.status],e.hasProspectContents=o,e.adOnly=!e.prospect.spotlight_video_remote&&!e.hasProspectContents,e.noNews=!e.hasProspectContents&&e.prospect.spotlight_video_remote;var a=c.getUsZones(),s=c.getLocalTimeZone(a);e.prospect.announcement_date=c.displayInTimeZone(t.announcement_date,s),e.myTimeZone=moment().tz(s).format("z")};var m=function(){var e=angular.element(".profile-block").height();angular.element(".stretchable-background").css("height",e+"px"),angular.element(".profile-block-gradients.image-box").css("height",e+"px"),angular.element(".profile-block-gradients.bottom").css("height",e+"px"),angular.element(".profile-block-gradients.top").css("height",e+"px");var t=angular.element(".new-prospect-profile").find(".prospect-personal-information").height();angular.element(".dividing-line.vertical.flex.non-mobile").css("height",t+"px")};angular.element(document).ready(function(){m()}),angular.element(window).on("load resize",function(){m()}),a.getCurrentUserInfo().then(function(t){var n=t.user;e.subscribedUser=n&&n.subscriptions.length>0}),angular.element(function(){e.showProspectImages()}),e.showProspectImages=function(){var t=o[0].getElementsByClassName("prospect-slideshow-background-image");if(t.length>=3){for(var n=0;3>n;n++)t[n].style.opacity="0";t[f].style.opacity="1",f<t.length-1?f++:f=0,r(e.showProspectImages,5500)}},e.$on("editProspects",function(t,n){e.editProspects=n}),e.expandInterestsTable=function(){t.$broadcast("expand:prospectInterestTable")},e.scrollToForecastGraph=function(e){"make-forecast"!=e.target.classList[0]&&s.slowScrolling("#forecast-graph")},e.openForecastModal=function(t,n,i){l.openModal(e.prospect,t,n,i,!1)},n.subscribeScopeToResizeEvents(e,function(t,n){e.size=n.breakpoint,e.orientation=n.orientation,e.isDesktop=e.size==d||e.size==u||e.size==p&&"landscape"==e.orientation,e.isMobile=e.size==h,e.isTablet=!e.isDesktop&&!e.isMobile,e.$$phase||e.$apply()})}]),angular.module("templates").run(["$templateCache",function(e){e.put("content/prospect/rvProspectProfile.html","<div class='gradient-overlay profile-card'>\n<div class='school-logo-box profile-card'>\n<img class='school-logo-bg long-card' ng-cloak ng-if='!prospectCommit.schoolId' ng-src='https://cdn.rivals.com/production/assets/icons/icons_rivalsdatabase_modal_icon-09d74c9f6ebcc83cb0a94ef792a69ba648c051e8558216ce4858fedc95a355a3.svg'>\n<img class='school-logo-bg long-card' ng-cloak ng-if='prospectCommit.schoolId &amp;&amp; prospectCommit.big_commit_logo' ng-src='{{prospectCommit.big_commit_logo}}'>\n</div>\n<div class='profile-prospect-card'>\n<div class='img-constant rv' ng-cloak ng-if='prospectInfo.profile_image_url'>\n<img class='player-img' ng-src='{{prospectInfo.profile_image_url}}'>\n</div>\n<div class='img-constant rv' ng-cloak ng-if='!prospectInfo.profile_image_url'>\n<img class='player-img' ng-src='https://cdn.rivals.com/production/assets/icons/icons_prospectprofile_avatar-f8b63a445cc9298d92203997366f1a6d36b7c02de68654d3af2229092416a6da.svg'>\n</div>\n<div class='rank-block'>\n<div class='logo-line mobile-design'>\n<div class='small-rank-line'>\n<div class='rivals-rank-icon'></div>\n</div>\n<div class='decimal-rank-number'>{{ prospectRankings.rivalsRating }}</div>\n</div>\n<div class='rank'>\n<span class='arrowbox up' ng-if='prospectRankings.national_change &gt; 0'></span>\n<span class='arrowbox down' ng-if='prospectRankings.national_change &lt; 0'></span>\n<span class='arrowbox' ng-if='prospectRankings.national_change == 0'></span>\n<span class='number'>\n<a class='number-link' ng-href='{{prospectRankings.nationalUrl}}' ng-if='prospectRankings.nationalUrl'>{{ prospectRankings.national }}</a>\n<div class='number-link' ng-if='!prospectRankings.nationalUrl'>{{ prospectRankings.national }}</div>\n</span>\n<span class='arrowbox'></span>\n<div class='type'>NATL</div>\n</div>\n<div class='rank'>\n<span class='arrowbox up' ng-if='prospectRankings.state_change &gt; 0'></span>\n<span class='arrowbox down' ng-if='prospectRankings.state_change &lt; 0'></span>\n<span class='arrowbox' ng-if='prospectRankings.state_change == 0'></span>\n<span class='number'>\n<a class='number-link' ng-href='{{prospectRankings.stateUrl}}' ng-if='prospectRankings.stateUrl'>{{ prospectRankings.state }}</a>\n<div class='number-link' ng-if='!prospectRankings.stateUrl'>{{ prospectRankings.state }}</div>\n</span>\n<span class='arrowbox'></span>\n<div class='type'>ST</div>\n</div>\n<div class='rank'>\n<span class='arrowbox up' ng-if='prospectRankings.position_change &gt; 0'></span>\n<span class='arrowbox down' ng-if='prospectRankings.position_change &lt; 0'></span>\n<span class='arrowbox' ng-if='prospectRankings.position_change == 0'></span>\n<span class='number'>\n<a class='number-link' ng-href='{{prospectRankings.positionUrl}}' ng-if='prospectRankings.positionUrl'>{{ prospectRankings.position }}</a>\n<div class='number-link' ng-if='!prospectRankings.positionUrl'>{{ prospectRankings.position }}</div>\n</span>\n<span class='arrowbox'></span>\n<div class='type'>POS</div>\n</div>\n</div>\n<div class='rows-block'>\n<div class='row-number-one'>\n<div class='name-flex-block'>\n<a class='card-prospect-name' ng-href='{{prospectsPath}}'>\n<div class='first-name'>{{ prospectInfo.first_name }}</div>\n<div class='last-name'>{{ prospectInfo.last_name }}</div>\n</a>\n</div>\n<div class='rank-info-flex-block'>\n<div class='prospect-stars'>\n<rv-stars class='stars' ng-hide='prospectRankings.stars == null || prospectRankings.stars == 0' num-stars='prospectRankings.stars'></rv-stars>\n</div>\n<div class='order-box commitment'>\n<div class='commit-contents-flex-box' ng-if='prospectCommit.schoolId'>\n<span class='logo-box'>\n<a class='logo-box-link' ng-href='{{prospectCommit.schoolCommitsUrl}}'>\n<img class='commit-school-logo-box' ng-if='prospectCommit.big_commit_logo' ng-src='{{prospectCommit.big_commit_logo}}'>\n<img class='commit-school-logo-box' ng-if='!prospectCommit.big_commit_logo' ng-src='{{prospectCommit.committed_college_logo}}'>\n</a>\n</span>\n<span class='commit-info-box' ng-if='prospectCommit.school.length &lt; 21'>\n<div class='commit-type status'>\n{{prospectCommit.status}}\n</div>\n<div class='commit-date'>\n{{prospectCommit.commitDate}}\n</div>\n<a class='commit-type name' ng-href='{{prospectCommit.schoolCommitsUrl}}' ng-if='prospectCommit.schoolId'>\n{{ prospectCommit.school }}\n</a>\n</span>\n<span class='commit-info-box' ng-if='prospectCommit.school.length &gt; 20'>\n<div class='commit-type-small status'>\n{{prospectCommit.status}}\n</div>\n<div class='commit-date'>\n{{prospectCommit.commitDate}}\n</div>\n<a class='commit-type-small name' ng-href='{{prospectCommit.schoolCommitsUrl}}' ng-if='prospectCommit.schoolId'>\n{{ prospectCommit.school }}\n</a>\n</span>\n</div>\n<div class='commit-contents-flex-box' ng-if='!prospectCommit.schoolId'>\n<div class='commit-type'>{{prospectCommit.status}}</div>\n</div>\n</div>\n</div>\n</div>\n<div class='row-number-two'>\n<div class='order-box prospect-info' ng-class='prospectCommit.status === &quot;UNDECIDED&quot; ? &quot;undecided&quot; : &quot;&quot;'>\n<div class='vitals'>\n<span class='height' ng-cloak ng-if='prospectInfo.height'>\n{{ prospectInfo.height | inchesToFeet}}\n</span>\n<span class='break-line' ng-cloak ng-if='prospectInfo.height'>\n|\n</span>\n<span class='weight' ng-cloak ng-if='prospectInfo.weight'>\n{{ prospectInfo.weight }}\n</span>\n<span class='break-line' ng-cloak ng-if='prospectInfo.weight'>\n|\n</span>\n<span class='pos' ng-cloak ng-if='prospectInfo.abbreviation'>\n{{ prospectInfo.abbreviation }}\n</span>\n<span class='break-line' ng-cloak ng-if='prospectInfo.abbreviation'>\n|\n</span>\n<span class='pos'>{{ prospectInfo.class }}</span>\n</div>\n<div class='home-information'>\n<div class='high-school-name'>\n<div class='low-character-name' ng-if='prospectInfo.school.length &lt; 21 || prospectInfo.city.length &lt; 21'>\n{{ prospectInfo.school }}\n</div>\n<div class='mid-character-name' ng-if='prospectInfo.school.length &gt; 20 &amp;&amp; prospectInfo.city.length &gt; 20'>\n{{ prospectInfo.school }}\n</div>\n</div>\n<div class='home-town-name'>\n<div class='low-character-name' ng-if='prospectInfo.school.length &lt; 21 || prospectInfo.city.length &lt; 21'>\n{{ prospectInfo.city }}\n</div>\n<div class='mid-character-name' ng-if='prospectInfo.school.length &gt; 20 &amp;&amp; prospectInfo.city.length &gt; 20'>\n{{ prospectInfo.city }}\n</div>\n</div>\n</div>\n</div>\n<div class='order-box'>\n<div class='logo-line desktop-design'>\n<div class='decimal-rank-number'>{{ prospectRankings.rivalsRating }}</div>\n<div class='rivals-rank-icon'></div>\n</div>\n</div>\n</div>\n</div>\n<div class='share-block'>\n<div class='share-button' id='p{{prospectInfo.id}}' prospect-id='{{prospectInfo.id}}' prospect-name='{{prospectInfo.name}}' prospect-url='{{prospectsPath}}' rv-share-prospect shareable-prospect-card-url='{{prospectsPath}}'><?xml version=\"1.0\" encoding=\"iso-8859-1\"?>\n<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewbox=\"0 0 525.152 525.152\" style=\"enable-background:new 0 0 525.152 525.152;\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\">\n<g>\n	<path d=\"M420.735,371.217c-20.021,0-37.942,7.855-51.596,20.24L181.112,282.094c1.357-6.061,2.407-12.166,2.407-18.468\n		c0-6.302-1.072-12.385-2.407-18.468l185.904-108.335c14.179,13.129,32.931,21.334,53.719,21.334\n		c43.828,0,79.145-35.251,79.145-79.079C499.88,35.338,464.541,0,420.735,0c-43.741,0-79.079,35.338-79.079,79.057\n		c0,6.389,1.072,12.385,2.407,18.468L158.158,205.947c-14.201-13.194-32.931-21.378-53.741-21.378\n		c-43.828,0-79.145,35.317-79.145,79.057s35.317,79.079,79.145,79.079c20.787,0,39.54-8.206,53.719-21.334l187.698,109.604\n		c-1.291,5.58-2.101,11.4-2.101,17.199c0,42.45,34.594,76.979,76.979,76.979c42.428,0,77.044-34.507,77.044-76.979\n		S463.163,371.217,420.735,371.217z\"></path>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n</div>\n</div>\n</div>\n</div>")}]),function(){angular.module("rivals").controller("rvProspectProfileBarCtrl",["$scope","$window","navBarFactory","responsiveService","$document",function(e,t,n,i,r){var o=this,a=function(){var e=r.find(".collapsed-bar").height(),t=r.find(".stretchable-background").height(),n=r.find(".nav-row-container").length>0?r.find(".nav-row-container").height():0,i=r.find(".horizontal-ad-container").length>0?r.find(".horizontal-ad-container").height():0;o.scrollHeight=t+n+i-e};r.ready(function(){a()}),t.onscroll=function(){o.showCollapsedBar=t.pageYOffset>=o.scrollHeight,n.mobileCollapse(o.isMobileSm),e.$apply()},o.scrollToTop=function(){angular.element("html, body").animate({scrollTop:0},1e3)},i.subscribeScopeToResizeEvents(e,function(t,n){o.isMobileSm="mobile-small"==n.breakpoint,a(),e.$$phase||e.$apply()})}])}(),function(){"use strict";angular.module("rivals").directive("rvProspectProfile",["userPaths","userPeopleFactory","prospectProfileConstants",function(e,t,n){function i(e){var t={};return t.id=e.id,t.name=e.first_name+" "+e.last_name,t.first_name=e.first_name,t.last_name=e.last_name,t.position=e.position,t.city=e.hometown,t.school=e.highschool,t.height=e.height,t.weight=e.weight+" lbs",t.verifiedHeight=e.verified_height,t.verifiedWeight=e.verified_weight,t["class"]=e.recruit_year,t.profile_image_url=e.profile_image_url,t.sport=e.sport,"PRO"===e.position_abbreviation||"DUAL"===e.position_abbreviation?t.abbreviation=e.position_abbreviation+" QB":t.abbreviation=e.position_abbreviation,t}function r(e){var t={};return t.school=e.school_name,t.status=n.commitmentStatus[e.status],t.schoolId=e.sport_school_id,t.schoolCommitsUrl=e.school_commits_url,t.committed_college_logo=e.committed_college_logo,t.big_commit_logo=e.big_commit_logo,t.commitDate=e.commit_date,t}function o(e){var t={};return t.national=e.national_rank?e.national_rank:"-",t.national_change=e.national_rank_change,t.position=e.position_rank?e.position_rank:"-",t.position_change=e.position_rank_change,t.state=e.state_rank?e.state_rank:"-",t.state_change=e.state_rank_change,t.nationalUrl=e.national_rank_url,t.positionUrl=e.position_rank_url,t.stateUrl=e.state_rank_url,t.rivalsRating=e.rivals_rating?parseFloat(e.rivals_rating).toPrecision(2):"N/A",t.stars=e.stars,t}return{restrict:"E",templateUrl:"content/prospect/rvProspectProfile.html",scope:{prospectId:"=",isProspectCard:"=",prospect:"=",prospectTwitterCardUrl:"="},link:function(n){n.commitmentsPath=e.commitmentsPath,n.rivals250Path=e.rivals250Path,n.forecastsReady=!1;var a=function(e){n.prospectsPath=e.prospect_url,n.prospectInfo=i(e),n.prospectRankings=o(e),n.prospectCommit=r(e)};if(n.prospect){var s=n.prospect;a(s)}else n.prospectId&&t.getProspect(n.prospectId).then(function(e){a(e)});n.hoverState=function(e){var t=angular.element(document).find("#prospect-"+e);t.hasClass("hover")?t.removeClass("hover"):t.addClass("hover")}}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/prospect/rvProspectRankingGraph.html","<div class='wrapper'>\n<div class='scrollable-shadow active graph-shadow'></div>\n<div class='scrollable-table-container'>\n<div class='prospect-ranking-graph' ng-if='$ctrl.ranks.length &gt; 0'>\n<div class='prospect-profile-tooltip-question' ng-mouseleave='$ctrl.showTooltip = false' ng-mouseover='$ctrl.showTooltip = true'>?</div>\n<div class='prospect-profile-tooltip' ng-if='$ctrl.showTooltip'>\nThe Rank History graph shows the Rivals rank over the course of the prospect\u2019s high school career. Rivals analysts update the ranks several times a year.\n</div>\n<div class='graph-dropdown' ng-class='{&quot;inset&quot;: ($ctrl.selectedRank.kind == &quot;rivals250&quot; || $ctrl.selectedRank.kind == &quot;rivals150&quot;)}'>\n<div class='rivals-block-logo'></div>\n<div class='rank-logo-box'>\n<div class='top-logo'>\n<div class='rivals250' ng-cloak ng-if='$ctrl.selectedRank.kind == &quot;rivals250&quot;'></div>\n<div class='rivals150' ng-cloak ng-if='$ctrl.selectedRank.kind == &quot;rivals150&quot;'></div>\n<div class='state-position' ng-cloak ng-if='$ctrl.selectedRank.kind == &quot;state&quot; || $ctrl.selectedRank.kind == &quot;position&quot;'>\n{{$ctrl.prospect.recruit_year}} Prospect Rankings\n</div>\n</div>\n<div class='bottom-text' ng-cloak ng-if='$ctrl.selectedRank.kind == &quot;rivals250&quot; || $ctrl.selectedRank.kind == &quot;rivals150&quot;'>\n{{$ctrl.prospect.recruit_year}} Prospect Rankings\n</div>\n<div class='state-position-bottom-text' ng-cloak ng-if='$ctrl.selectedRank.kind == &quot;state&quot;'>\n{{$ctrl.prospect.state}}\n</div>\n<div class='state-position-bottom-text' ng-cloak ng-if='$ctrl.selectedRank.kind == &quot;position&quot;'>\n{{$ctrl.prospect.position_abbreviation}}\n</div>\n</div>\n</div>\n<rv-ranking-chart data='$ctrl.selectedRank' lightning-bolt-asset='&#39;https://cdn.rivals.com/production/assets/icons/icons_lightning_bolt-ab8782be3fb21c065f4fe9506386036de9a4922fb2bd7dff265fa5db0a0e1f74.svg&#39;' rank-decrease-asset='&#39;https://cdn.rivals.com/production/assets/icons/icons_rank_decrease-caae3870d19ea427cb8845160139948a4920e44ba07724b365e561f23a6a9992.svg&#39;' rank-increase-asset='&#39;https://cdn.rivals.com/production/assets/icons/icons_rank_increase-51c0056897cbd5547b60988bfb264f545034d3f8a342e9632778ca65a3af8278.svg&#39;' rank-kind='$ctrl.selectedRank.kind' rank-year='$ctrl.year'></rv-ranking-chart>\n<div class='graph-key'>\n<div class='year-breakup'>\n<div class='school-years soph'>SO. '{{$ctrl.year - 3}} \u2013 '{{$ctrl.year - 2}}</div>\n<div class='school-years junior'>JR '{{$ctrl.year - 2}} \u2013 '{{$ctrl.year - 1}}</div>\n<div class='school-years senior'>SR '{{$ctrl.year - 1}} \u2013 '{{$ctrl.year}}</div>\n</div>\n<div class='legend'>\n<div class='key'>\n<div class='key-symbol lightning'></div>\n<div class='key-text'>5+ rank increase</div>\n</div>\n<div class='key'>\n<div class='key-symbol increase'></div>\n<div class='key-text'>Increase</div>\n</div>\n<div class='key'>\n<div class='key-symbol decrease'></div>\n<div class='key-text'>Decrease</div>\n</div>\n<div class='key'>\n<div class='key-symbol other'>\u2013</div>\n<div class='key-text'>No change</div>\n</div>\n<div class='key last'>\n<div class='key-symbol other' style='padding: 0'>NR</div>\n<div class='key-text'>Not ranked</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvProspectRankingGraph",{bindings:{prospect:"=",rankHistory:"="},templateUrl:"content/prospect/rvProspectRankingGraph.html",controller:["prospectProfileConstants",function(e){var t=this;t.$onInit=function(){t.ranks=t.rankHistory.slice(0),t.month=["mar","jun","sep","dec"],t.year=t.prospect.recruit_year%100,t.getDates(t.prospect.recruit_year),t.getRankTypes(t.ranks),t.showTooltip=!1},t.getDates=function(e){t.dates=[],t.dates.push(new Date("3/1/"+(e-2).toString()));for(var n=1;10>n;n++){var i=new Date(t.dates[t.dates.length-1]);t.dates.push(new Date(i.setMonth(i.getMonth()+3)))}},t.getRankTypes=function(n){t.selectedRank=null,t.noData=!1,n=_.sortBy(n,function(t){var n=Object.keys(t)[0];return e.position[n]}),n.length>0?(t.ranks=_.map(n,function(e){return e.kind=Object.keys(e)[0],e}),t.selectedRank=t.ranks[0]):t.noData=!0}}]})}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/prospect/rvProspectSchoolInterests.html","<div class='prospect-interest-table'>\n<div class='interest-table-key'>\n<div class='official-container'>\n<div class='official-dot key'></div>\n<div class='official-visit'>\nOfficial Visit\n</div>\n</div>\n<div class='vital-line'>\n|\n</div>\n<div class='showing-count'>\nShowing {{$ctrl.interestShownCount}} of {{$ctrl.data.length}}\n</div>\n</div>\n<div class='table-container'>\n<div class='scrollable-shadow active'></div>\n<div class='scrollable-table-container'>\n<table>\n<thead>\n<tr>\n<th class='school'>\n<div>School</div>\n<div class='recruiters'>& Recruited by</div>\n</th>\n<th class='interest'>\n<div>Prospect's</div>\n<div>interest</div>\n</th>\n<th class='recruiters'>Recruited by</th>\n<th>\n<div>Visits to</div>\n<div>school</div>\n</th>\n<th class='offer'>School offer</th>\n</tr>\n</thead>\n<tbody>\n<tr ng-repeat='interest in $ctrl.topInterestList'>\n<td class='school'>\n<div class='school-logo-name'>\n<div class='img-container'>\n<img ng-if='interest.team_logo' ng-src='{{ interest.team_logo }}'>\n</div>\n<a ng-href='{{interest.commitments_url}}' ng-if='interest.commitments_url'>{{ interest.team_name }}</a>\n<div ng-if='!interest.commitments_url'>{{ interest.team_name }}</div>\n</div>\n<div class='recruiters' ng-if='interest.recruitersList'>\n{{ interest.recruitersList }}\n</div>\n</td>\n<td class='interest' ng-if='interest.commit'>\nCommitted\n<div ng-if='interest.sign &amp;&amp; interest.commit_date'>\n({{ interest.commit_date | timestampToDate }})\n</div>\n</td>\n<td class='interest' ng-if='!interest.commit'>\n{{ interest.interest }}\n</td>\n<td class='recruiters'>\n<div ng-if='interest.recruitersList'>{{ interest.recruitersList }}</div>\n<div class='blank' ng-if='!interest.recruitersList'>\u2014</div>\n</td>\n<td class='visit' ng-if='interest.visitsList'>\n<div ng-repeat='visit in interest.visits | orderBy: &quot;-visit_date&quot;'>\n<div class='official-visits' ng-if='visit.visit_official'>\n<div class='tooltip-hover interests' ng-show='hover'>\n<div class='tooltip-hover-text'>Official Visit</div>\n</div>\n<div class='official-dot' ng-mouseenter='hover = true' ng-mouseleave='hover = false'></div>\n</div>\n<div class='space' ng-if='!visit.visit_official'></div>\n<div class='date' ng-class='{&#39;official&#39;: visit.visit_official}'>\n{{visit.visit_date | timestampToDate}}\n</div>\n</div>\n</td>\n<td class='visit' ng-if='!interest.visitsList'>\n<div class='space'></div>\nNone\n</td>\n<td class='offer'>\n<div class='checkmark' ng-if='interest.offer'></div>\n<div ng-if='!interest.offer'>\u2014</div>\n</td>\n</tr>\n<tbody class='moreTable' ng-show='$ctrl.showAll'>\n<tr ng-repeat='interest in $ctrl.moreInterestList'>\n<td class='school'>\n<div class='school-logo-name'>\n<div class='img-container'>\n<img ng-if='interest.team_logo' ng-src='{{ interest.team_logo }}'>\n</div>\n<a ng-href='{{interest.commitments_url}}' ng-if='interest.commitments_url'>{{ interest.team_name }}</a>\n<div ng-if='!interest.commitments_url'>{{ interest.team_name }}</div>\n</div>\n<div class='recruiters' ng-if='interest.recruitersList'>\n{{ interest.recruitersList }}\n</div>\n</td>\n<td class='interest'>\n{{ interest.interest }}\n</td>\n<td class='recruiters'>\n<div ng-if='interest.recruitersList'>{{ interest.recruitersList }}</div>\n<div class='blank' ng-if='!interest.recruitersList'>\u2014</div>\n</td>\n<td class='visit' ng-if='interest.visitsList'>\n<div ng-repeat='visit in interest.visits'>\n<div class='official-visits' ng-if='visit.visit_official'>\n<div class='tooltip-hover interests' ng-show='hover'>\n<div class='tooltip-hover-text'>Official Visit</div>\n</div>\n<div class='official-dot' ng-mouseenter='hover = true' ng-mouseleave='hover = false'></div>\n</div>\n<div class='space' ng-if='!visit.visit_official'></div>\n<div class='date' ng-class='{&#39;official&#39;: visit.visit_official}'>\n{{visit.visit_date | timestampToDate}}\n</div>\n</div>\n</td>\n<td class='visit' ng-if='!interest.visitsList'>\n<div class='space'></div>\nNone\n</td>\n<td class='offer'>\n<div class='checkmark' ng-if='interest.offer'></div>\n<div ng-if='!interest.offer'>\u2014</div>\n</td>\n</tr>\n</tbody>\n</tbody>\n</table>\n</div>\n</div>\n<div class='btn-gradient with-caret show-all' ng-click='$ctrl.toggleInterests(&quot;showAll&quot;)' ng-show='!$ctrl.showText &amp;&amp; $ctrl.moreInterestList.length &gt; 0'>\n<a class='text' du_smooth_scroll='school-interests' href='#school-interests' ng-show='!$ctrl.showText'>Show all</a>\n</div>\n<div class='btn-gradient with-caret show-less' ng-click='$ctrl.toggleInterests(&quot;showLess&quot;)' ng-show='$ctrl.showText &amp;&amp; $ctrl.moreInterestList.length &gt; 0'>\n<a class='text' du_smooth_scroll='school-interests' href='#school-interests' ng-show='$ctrl.showText'>Show less</a>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvProspectSchoolInterests",{bindings:{data:"="},templateUrl:"content/prospect/rvProspectSchoolInterests.html",controller:["$scope","$filter","$timeout","animationFactory",function(e,t,n,i){var r=5,o=this;this.$onInit=function(){var e=_.map(o.data,function(e){return e.recruitersList=e.recruiters.join(", "),e.visitsList=_.map(e.visits,function(e){return t("timestampToDate")(e)}).join(", "),e});o.topInterestList=e.slice(0,r),o.moreInterestList=e.slice(r,e.length),o.showText=!1,o.showAll=!1,o.interestShownCount=o.topInterestList.length},o.toggleInterests=function(e){o.showText=!o.showText,i.slowScrolling("#school-interests"),n(function(){o.showAll=!o.showAll,"showAll"===e?o.interestShownCount=o.data.length:o.interestShownCount=o.topInterestList.length},300)},e.$on("expand:prospectInterestTable",function(){o.toggleInterests("showAll")})}]})}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/prospect/rvRankingChart.html","<div class='rivals-rank-chart' id='rankGraph'>\n<svg class='graph'></svg>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvRankingChart",{restrict:"E",bindings:{data:"=",rankKind:"=",rankYear:"=",lightningBoltAsset:"<",rankDecreaseAsset:"<",rankIncreaseAsset:"<"},templateUrl:"content/prospect/rvRankingChart.html",controller:["prospectRankingGraphConstants","$window","graphBuildingToolsFactory",function(e,t,n){function i(e){return null!==e.rank}function r(e,t){e=e.filter(i);var n=_.min(e,function(e){return e.rank}).rank,r=_.max(e,function(e){return e.rank}).rank,o=Math.ceil((r-n)/4),a=[],s=n,l=1;n===r||4>=r-n||(l=o),n+4*l>t&&(s-=n+4*l-t),a.push(s);for(var c=0;5>c;c++)a.push(a[c]+l);return a}function o(t,i){var r=n.getDates(b.rankYear).slice(0),o=[],a=e.fortyFiveDays;r.forEach(function(e){new Date(t[0].date)-e>a&&o.push({date:e,rank:i,unranked:!0})});var s=new Date(e.endDate+b.rankYear.toString());t.forEach(function(e){e.date<s&&o.push(e)});var l=new Date,c=o[o.length-1],u={date:c.date,unranked:c.unranked,rank:c.rank};return s>l?u.date=l:u.date=s,o.push(u),o}function a(){var t=[new Date(e.startDate+(b.rankYear-2).toString()),new Date(e.endDate+b.rankYear.toString())];b.xAxis.domain(b.d3.extent(t,function(e){return e}));var n=_.min(b.yAxisValues,function(e){return e}),i=_.max(b.yAxisValues,function(e){return e});b.yAxis.domain([n,i])}function s(t,i){var r=new Date(e.endDate+b.rankYear.toString()),a=new Date,s=_.map(t,function(e){return e.date});b.g.append("g").attr("transform","translate(0,"+i+")").call(b.d3.axisBottom(b.xAxis).tickValues(s).tickFormat(b.d3.timeFormat("")).tickSize(0));var f=b.yAxisValues[0],m=b.yAxisValues[b.yAxisValues.length-1];b.g.append("g").attr("class","yAxis").call(b.d3.axisLeft(b.yAxis).tickValues(b.yAxisValues).tickFormat(function(e){if(e===m)return"NR";if(Math.floor(e)==e)return e})),b.yAxisValues.forEach(function(t){t!==m&&b.g.append("line").attr("x1",0).attr("x2",e.graphWidth).attr("y1",b.yAxis(t)).attr("y2",b.yAxis(t)).attr("class","horizontal-line")});var g=o(t,m);h(f,m),p(g,m),n.dropShadowFilter(b.svg),b.g.append("path").datum(g).attr("class","line-path").attr("d",b.line),u(m);var v=null,y=g.pop();y.date.getFullYear()===a.getFullYear()&&y.date.getMonth()===a.getMonth()&&y.date.getDate()===a.getDate()||g.push(y),g.forEach(function(e){var t="";t=e.unranked?"NR":e.rank;var i="";i=!e.unranked&&v&&v!==m&&v-e.rank>=5?"lightning-ranking-points":"ranking-points",c(e,m),b.g.append("circle").attr("cy",b.yAxis(e.rank)).attr("cx",b.xAxis(e.date)).attr("r",10).attr("class",i),n.addText(b.g,b.xAxis(e.date),b.yAxis(e.rank)+3,"middle","ranking-point-text",t),"lightning-ranking-points"===i&&b.g.append("image").attr("y",b.yAxis(e.rank)-28).attr("x",b.xAxis(e.date)-3).attr("xlink:href",b.lightningBoltAsset).attr("height",14).attr("width",8),l(e,r),e.date.getTime()!==r.getTime()&&d(e,v,m),v=e.rank})}function l(e,t){var i=b.xAxis(e.date)-6,r=b.yAxis(e.rank)-20,o=""+i+","+(r-1)+", "+(i+6)+","+(r+4)+", "+(i+12)+","+(r-1),a=b.g.append("rect").attr("y",b.yAxis(e.rank)-45).attr("x",b.xAxis(e.date)-30).attr("class","graph-tooltip"),s="";s=e.date.getTime()!==t.getTime()?""+(e.date.getMonth()+1)+"/"+e.date.getDate()+"/"+e.date.getFullYear()%100:"NSD";var l=n.addText(b.g,b.xAxis(e.date),b.yAxis(e.rank)-29,"center","graph-tooltip-text",s),c=b.g.append("polygon").style("fill","transparent").attr("points",o);b.g.append("circle").attr("cy",b.yAxis(e.rank)).attr("cx",b.xAxis(e.date)).attr("r",10).style("fill","transparent").style("stroke","none").on("mouseover",function(){a.transition().duration(10).attr("class","graph-tooltip-hover"),l.transition().duration(10).attr("class","graph-tooltip-text-hover"),c.transition().duration(10).style("fill","white").attr("filter","url(#dropshadow)")}).on("mouseout",function(){a.transition().duration(10).attr("class","graph-tooltip"),l.transition().duration(10).attr("class","graph-tooltip-text"),c.transition().duration(10).style("fill","transparent").attr("filter","none")})}function c(e,t){e.unranked||b.g.append("line").attr("x1",b.xAxis(e.date)).attr("x2",b.xAxis(e.date)).attr("y1",b.yAxis(e.rank)).attr("y2",b.yAxis(t)).attr("class","vertical-line")}function u(t){var i=n.getDates(b.rankYear);i.forEach(function(r){var o="";r===i[i.length-1]?(n.signingDayLabel(b.g,b.xAxis(r)+8,b.yAxis(t)+45,"SIGNING"),n.signingDayLabel(b.g,b.xAxis(r)+8,b.yAxis(t)+55,"DAY")):o=e.rankMonths[(r.getMonth()-2)/3],n.addText(b.g,b.xAxis(r)-5,b.yAxis(t)+50,"start","month-text",o)})}function d(e,t,i){var r="",o="",a="";e.unranked?(r="text",o="NR"):t===i||e.rank===t?(r="text",o="\u2013"):e.rank>t?(r="image",a=b.rankDecreaseAsset):(r="image",a=b.rankIncreaseAsset),"text"===r?n.addText(b.g,b.xAxis(e.date),b.yAxis(i)+25,"middle","key-text",o):b.g.append("image").attr("y",b.yAxis(i)+16).attr("x",b.xAxis(e.date)-5).attr("xlink:href",a).attr("height",9).attr("width",8)}function p(e,t){var n=e.slice(0);n.push({date:e[e.length-1].date,rank:t,unranked:!0}),b.g.append("path").datum(n).attr("class","background-gradient").style("fill","url(#graph-gradient)").attr("d",b.line)}function h(t,n){var i=e.graphGreen,r=e.graphBlue,o=e.graphBlack,a=.6,s=e.graphPositionMidpoint;s>=t&&s>=n?(a=1,i=m(t/s,e.blueRGB,e.greenRGB),r=m(n/s,e.blueRGB,e.greenRGB)):t>s&&n>s?(a=0,r=m(1-(t-s)/s,e.blueRGB,e.blackRGB),o=m(1-(n-s)/s,e.blueRGB,e.blackRGB)):s>=t&&n>s&&(a=(s-t)/(n-s+(s-t)),i=m(t/s,e.blueRGB,e.greenRGB),o=m((n-s)/s,e.blackRGB,e.blueRGB)),f(i,r,o,a)}function f(e,t,n,i){var r=b.svg.append("defs").append("linearGradient").attr("id","graph-gradient").attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%");r.append("stop").attr("offset",0).style("stop-color",e).style("stop-opacity",1),r.append("stop").attr("offset",i).style("stop-color",t).style("stop-opacity",1),r.append("stop").attr("offset",1).style("stop-color",n).style("stop-opacity",1)}function m(e,t,n){for(var i=(2*e-1+1)/2,r=1-i,o="#",a=0;3>a;a++){var s=parseInt(t[a]*i+n[a]*r).toString(16);""===s?o+="00":1===s.length&&(o+="0"),o+=s}return o}function g(e,t,n){for(var i in e)null===e[i].rank?(e[i].rank=n,t[i]=e[i].rank,e[i].unranked=!0):e[i].unranked=!1}function v(e){var t=[];for(var n in e)t[n]=e[n].rank,null===t[n]&&(t[n]=0);return t}var b=this;b.$onInit=function(){var e=b.data[b.rankKind],n=v(e),i="rivals150"===b.rankKind?150:250;b.yAxisValues=r(e,i),g(e,n,b.yAxisValues[b.yAxisValues.length-1]);var o=parseInt(angular.element(document.querySelector(".graph")).css("width")),l=parseInt(angular.element(document.querySelector(".graph")).css("height"));b.d3=t.d3;var c=b.d3.select("#rankGraph svg"),u={top:50,right:35,bottom:60,left:50},d=o-u.left-u.right,p=l-u.top-u.bottom,h=c.append("g").attr("transform","translate("+u.left+","+u.top+")");b.svg=c,b.g=h;var f=b.d3.timeParse("%m/%d/%Y %H:%M:%S");b.xAxis=b.d3.scaleTime().rangeRound([0,d]),b.yAxis=b.d3.scaleLinear().rangeRound([0,p]),b.line=b.d3.line().x(function(e){return b.xAxis(e.date)}).y(function(e){return b.yAxis(e.rank)}),e=_.map(e,function(e){return e.date=f(e.date),e}),a(),s(e,p)}}]})}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/prospect/rvSpotlightVideo.html","<div id='spotlight-video'>\n<div class='card' ng-class='{ &#39;centered-vid-player&#39;: $ctrl.aolVideo, &#39;hudl-vid-player&#39;: $ctrl.hudlVideo}'>\n<div class='aol-vid-player'></div>\n<iframe allowfullscreen='' frameborder='0' ng-if='$ctrl.videoResult &amp;&amp; !$ctrl.aolVideo' ng-src='{{$ctrl.videoResult.src}}'></iframe>\n<div class='video-icon' ng-if='!$ctrl.videoResult'></div>\n<div class='spotlight-title' ng-if='!$ctrl.videoResult'>\nSpotlight video\n</div>\n</div>\n<div ng-if='$ctrl.editMode'>\n<div class='spotlight-url-field'>\n<input id='video-url' name='spotlight_video' ng-change='$ctrl.updateVideo()' ng-model='$ctrl.videoUrl' placeholder='enter video URL' type='text'>\n</div>\n<div class='hidden-elements'>\n<input name='prospect[spotlight_video_remote]' ng-value='$ctrl.videoResult.remote' type='hidden'>\n<input name='prospect[spotlight_video_provider]' ng-value='$ctrl.videoResult.provider' type='hidden'>\n</div>\n</div>\n</div>");
}]),function(){"use strict";angular.module("rivals").component("rvSpotlightVideo",{templateUrl:"content/prospect/rvSpotlightVideo.html",bindings:{videoProvider:"@",videoRemote:"@",prospect:"=",editMode:"=",aolCompanyId:"=",aolPlayerId:"=",autoplay:"=?"},controller:["$sce",function(e){var t=this;this.providers={aol:{regex:/(?:http[s]?:\/\/)?(?:www\.)?\.*vidible\.tv\/o2\/search\/v\/((?:[a-z]*[0-9]*)*)(?:\#.*)?/,domain:"http://vidible.tv/o2/search/v/",queryString:"#Basic%20Information"},vimeo:{regex:/^(?:http[s]?:\/\/)?(?:www.)?(?:\/\/player.)?vimeo.com\/(?:.+\/)?(.+)$/,domain:"https://player.vimeo.com/video/",queryString:"?title=1=1=1=0"},hudl:{regex:/^(?:http[s]?:\/\/)?(?:www\.)?hudl\.com\/(?:embed\/)?(video(\/3\/\d+)?\/\w+)/,domain:"https://www.hudl.com/embed/",queryString:"?wmode=transparent"},youtube:{regex:/^.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*$/,domain:"https://www.youtube.com/embed/",queryString:"?wmode=transparent"},yahoo_sports:{regex:/^(?:http[s]?:\/\/)?sports\.yahoo\.com\/video\/([\w\-]+\.html)/,domain:"https://sports.yahoo.com/video/",queryString:"?format=embed"}},this.$onInit=function(){this.currentRemote=this.prospect.spotlight_video_remote,this.currentProvider=this.prospect.spotlight_video_provider,this.currentRemote&&this.currentProvider&&(this.videoResult={provider:this.currentProvider,remote:this.currentRemote,src:e.trustAsResourceUrl(i(this.currentRemote,this.currentProvider,this.autoplay))},"aol"==this.currentProvider?(this.aolVideo=!0,r(this.videoResult.src),this.videoUrl=this.providers[this.currentProvider].domain+this.currentRemote+this.providers[this.currentProvider].queryString):("hudl"==this.currentProvider&&(this.hudlVideo=!0),this.videoUrl=this.videoResult.src))},this.updateVideo=function(){if(this.videoUrl){if(this.videoResult=n(this.videoUrl),"aol"==this.videoResult.provider){this.aolVideo=!0;var t=e.trustAsResourceUrl(i(this.videoResult.remote,this.videoResult.provider));r(t)}}else this.videoResult=!1};var n=function(n){var r;for(var o in t.providers)if(r=RegExp(t.providers[o].regex).exec(n))return{provider:o,remote:r[1],src:e.trustAsResourceUrl(i(r[1],o))}},i=function(e,n,i){if("aol"==n)return"//delivery.vidible.tv/jsonp/pid="+t.aolPlayerId+"/vid="+e+"/"+t.aolCompanyId+".js";var r=t.providers[n].domain+e;return i&&"vimeo"!=n?r+"?autoplay=true&mute=true":r},r=function(e){var n=angular.element(".aol-vid-player");n[0].hasChildNodes()&&n[0].removeChild(n[0].firstChild);var i=angular.element("<script/>").attr({src:e,type:"text/javascript",async:!0,"class":"aol-script"}),r=angular.element("<div>").attr("class","vdb_player").attr("class","vdb_"+t.aolPlayerId+t.aolCompanyId);n.append(r),r.append(i)}}]})}(),angular.module("rivals").factory("adminListsFactory",["$http","$q","$injector","responseHandler","adminSearchParamService","adminPaths",function(e,t,n,i,r,o){function a(t){return e.get(t).then(i.handleSuccess,i.handleErrors)}var s=["rosters","ranks"],l=["prospect_rankings","position_rankings","state_rankings"];return{validateUrlList:function(e){var t=e.split("/"),n=t.length;if(3>n)return!1;var i=_.include(t[2].split("."),"rivals"),r=_.include(s,t[3]);if(r)var o=/^\d+$/.test(t[4]);else var a=_.include(l,t[3]);return i&&(r&&o||a)},fullTextFetchLists:function(e){var t="/api/v1/publishing/lists?";return e&&e.length>0&&(t+="list[query]="+e),a(t)},getPublisherList:function(e){var t=e.split("/"),n=_.include(s,t[3]),i=null;if(n){var r=parseInt(_.last(e.split("/")));i=o.apiV1PublishingListsPath.replace("id",r)}else l[0]==t[3]?i=o.apiV1PublishingProspectRanksPath.replace("kind",t[4]).replace("year",t[5]):l[1]==t[3]?i=o.apiV1PublishingPositionRanksPath.replace("sport",t[4]).replace("year",t[5]).replace("abbreviation",t[6]):l[2]==t[3]&&(i=o.apiV1PublishingStateRanksPath.replace("year",t[4]).replace("state_name",t[5]));return a(i)},fetchAllLists:function(e,t){var n=r.buildUrl(e,t,"lists");return a(n)},getHistory:function(t){return e.get(o.apiV1AdminListHistoryPath(t)).then(i.handleSuccess,i.handleErrors)}}}]),function(){angular.module("rivals").factory("ranksFactory",["$http","userPaths","responseHandler",function(e,t,n){return{fetchRankProspects:function(i,r,o,a){var s=t.apiV1RanksProspectsPath(i),l="";return _.isNumber(r)&&(l=l+"start="+r),a&&(l.length>0&&(l+="&"),l+="position="+a),o&&(l.length>0&&(l+="&"),l+="pageSize="+o),l.length>0&&(s+="?"+l),e.get(s).then(n.handleSuccess,n.handleErrors)}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/prospect_lists/rvDepthChart.html","<div class='depth-chart user-view' ng-if='!loadError'>\n<div class='top'>\n<rv-depth-chart-category category='offense' class='category'></rv-depth-chart-category>\n<div class='space'></div>\n<rv-depth-chart-category category='defense' class='category'></rv-depth-chart-category>\n</div>\n<hr ng-if='embedded'>\n<div class='bottom'>\n<rv-depth-chart-category category='specialTeams' class='category'></rv-depth-chart-category>\n<div class='space'></div>\n<rv-depth-chart-category category='notPlaying' class='category'></rv-depth-chart-category>\n</div>\n</div>\n<div class='depth-chart load-error' ng-if='loadError'>\n{{loadErrorMessage}}\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("content/prospect_lists/rvDepthChartCategory.html","<div class='category-name'>\n{{category[0].category_name}}\n</div>\n<div class='group' ng-if='group.string_groups.length &gt; 0' ng-repeat='group in category'>\n<div class='group-name'>\n{{group.name}}\n</div>\n<div class='string-group' ng-repeat='stringGroup in group.string_groups'>\n<div class='group-prospect' ng-class='{&#39;not-last&#39;: notLast(prospect, stringGroup)}' ng-repeat='prospect in stringGroup.prospects'>\n<div class='prospect-details'>\n<a class='prospect-link' ng-href='{{prospect.prospect_url}}'>\n<div class='jersey-number'>\n{{prospect.jersey_number}}\n</div>\n<div class='name'>\n{{prospect.full_name}}\n</div>\n</a>\n<div class='hometown'>\n{{prospect.hometown}}\n</div>\n</div>\n<div class='multi-string-separator' ng-show='stringGroup.prospects.length &gt; 1 &amp;&amp; notLast(prospect, stringGroup)'>or</div>\n</div>\n<hr class='multiple-strings' ng-if='notLastGroup(stringGroup, group)'>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").directive("rvDepthChartCategory",function(){return{restrict:"E",templateUrl:"content/prospect_lists/rvDepthChartCategory.html",scope:{category:"="},link:function(e){e.notLast=function(e,t){return _.last(t.prospects)!=e},e.notLastGroup=function(e,t){return _.last(t.string_groups)!=e}}}})}.call(this),function(){"use strict";angular.module("rivals").directive("rvDepthChart",["userListsFactory",function(e){return{restrict:"E",templateUrl:"content/prospect_lists/rvDepthChart.html",scope:{depthChartId:"=?",offense:"=?",defense:"=?",specialTeams:"=?",notPlaying:"=?"},link:function(t){t.depthChartId&&e.getList(t.depthChartId).then(function(e){t.offense=e.prospects[1],t.defense=e.prospects[2],t.specialTeams=e.prospects[3],t.notPlaying=e.prospects[4],t.embedded=!0},function(){t.loadError=!0,t.loadErrorMessage="Unable to load prospects for depth chart"})}}}])}.call(this),angular.module("rivals").controller("rvListPageCtrl",["$scope","$window","userListsFactory","sharingService",function(e,t,n,i){var r=this;r.init=function(e){n.canEditList(e).then(function(e){r.canEdit=e})},r.openShareWindow=function(e,n){var r=t.location.href;"facebook"==e?i.shareFacebook(r):"twitter"==e&&i.shareTwitter(r,n)}}]),function(){"use strict";angular.module("rivals").directive("rvProspectRanking",["$q","$window","moment","ranksFactory","userListsFactory",function(e,t,n,i,r){return{restrict:"E",template:'<rv-sortable-table selected-sport="selectedSport" sport="sport" year="year" subject="subject" categories="categories" kind="kind" list-design="true" background-multiplier="backgroundMultiplier" fetching-page="loading" page="page" no-results="loadError" custom-no-results-message="loadErrorMessage">',scope:{sport:"@",year:"@",position:"@",prospects:"=",rankId:"=",kind:"@",prospectCount:"=",page:"@"},link:function(e){var t="OTHER"!==e.kind,o="article"==e.page,a="editArticle"==e.page;e.subject="rankings",e.categories=[{visibleName:"Rank",name:"rank","class":t?"rank":"rank-unofficial",dataType:"rank"},{visibleName:"Change",name:"change","class":"change",dataType:"change"},{visibleName:"Prospect",name:"name","class":"player-name-prospects",dataType:"link",suppress_prospect_image:!t},{visibleName:"Pos",name:"position_abbreviation","class":"position",dataType:"position"},{visibleName:"Location",name:"location","class":o?"location-article-rank":"location-prospects",dataType:"breakText",textOne:"hometown",textTwo:"highschool"},{visibleName:"Ht",name:"height","class":"height",dataType:"height"},{visibleName:"Wt",name:"weight","class":"weight",dataType:"weight"},{visibleName:"Commit Status",name:"school","class":"school-name-prospects",dataType:"school"}],e.year=e.year||n().format("YYYY"),e.loading=!1;var s=function(t){return _.map(e.categories,function(e){return"Prospect"==e.visibleName?e.suppress_prospect_image=!["rivals100","rivals150","rivals250"].includes(t):"Rank"==e.visibleName&&(e["class"]="OTHER"!==t.toUpperCase()?"rank":"rank-unofficial"),e})},l=function(){_.every(d,{rank:0})&&(e.categories=_.reject(e.categories,{name:"rank"}))},c=function(){e.backgroundMultiplier=100*e.prospectCount/d.length+"%",e.selectedSport={rankings:d,kind:e.kind}},u=function(){e.loading=!0,e.loadError=!1;var t=d.length>0?_.last(d).rank:null;i.fetchRankProspects(e.rankId,t,e.pageSize,e.position).then(function(t){d=e.selectedSport.rankings.concat(t.prospects),c(),d.length<e.prospectCount?u():e.loading=!1},function(){e.loading=!1,e.loadError=!0,e.loadErrorMessage="Unable to prospects for ranking"})};if(!t&&e.rankId)r.getList(e.rankId).then(function(t){var n=t.prospects,i=t.list.kind;l(),e.categories=s(i),e.selectedSport={rankings:n,kind:i}}),e.backgroundMultiplier="100%";else{var d=e.prospects||[];e.pageSize=d.length,l(),(o||a||d.length<e.prospectCount)&&u(),c()}}}}])}.call(this),function(){"use strict";angular.module("rivals").directive("rvProspectRoster",["$q","$window","moment","siteFactory","userListsFactory",function(e,t,n,i,r){return{restrict:"E",template:'<rv-sortable-table selected-sport="selectedSport" sport="sport" year="year" subject="subject" sites="sites" categories="categories" no-results="loadError" custom-no-results-message="loadErrorMessage">',scope:{sport:"@",year:"@",position:"@",prospects:"=",rosterId:"="},link:function(e){if(e.subject="rosters",e.categories=[{visibleName:"No.",name:"jersey-number","class":"jersey-number",sortable:!0,dataType:"text"},{visibleName:"Name",name:"name","class":"player-name-prospects",sortable:!0,dataType:"link",suppress_prospect_image:!0},{visibleName:"Pos",name:"position","class":"position",sortable:!0,dataType:"text"},{visibleName:"Ht",name:"height","class":"",sortable:!0,dataType:"height"},{visibleName:"Wt",name:"weight","class":"",sortable:!0,dataType:"text"},{visibleName:"Location",name:"location","class":"location-prospects",dataType:"breakText",textOne:"hometown",textTwo:"highschool"}],e.year=e.year||n().format("YYYY"),e.rosterId)r.getList(e.rosterId).then(function(n){e.prospects=n.prospects,_.every(t,{roster:0})&&(e.categories=_.reject(e.categories,{name:"roster"})),e.selectedSport={rosters:e.prospects}},function(){e.loading=!1,e.loadError=!0,e.loadErrorMessage="Unable to prospects for roster"});else{var t=e.prospects||[];_.every(t,{roster:0})&&(e.categories=_.reject(e.categories,{name:"roster"})),i.getSites().then(function(n){e.selectedSport={rosters:t},e.sites=_.keyBy(n,"maple_college_id")})}}}}])}.call(this),angular.module("rivals").factory("userListsFactory",["$http","$q","$injector","responseHandler","userService",function(e,t,n,i,r){function o(t){return e.get(t).then(i.handleSuccess,i.handleErrors)}return{getList:function(e){var t="/api/v1/lists/"+e;return o(t)},canEditList:function(n){return r.getCurrentUserInfo().then(function(r){return"super_admin"===r.user.role?t.resolve(!0):r.user.show_publishing===!0||r.user.show_admin_portal===!0?e.get("/api/v1/publishing/lists/"+n+"/can_edit/").then(function(e){return e.data.can_edit},i.handleErrors):t.resolve(!1)})}}}]),function(){"use strict";angular.module("rivals").directive("rvCommitments",["$q","$window","moment",function(e,t,n){return{restrict:"E",scope:{sport:"@",year:"@",teamRanking:"=",prospects:"@"},template:'<rv-sortable-table selected-sport="selectedSport" subject="subject" categories="categories">',link:function(e){e.subject="commitments",e.categories=[{visibleName:"Name",name:"name","class":"player-name-commits",sortable:!0,dataType:"link",suppress_prospect_image:!0},{visibleName:"Pos",name:"position","class":"position",sortable:!0,dataType:"position"},{visibleName:"Location",name:"location","class":"location",sortable:!0,dataType:"text"},{visibleName:"Ht",name:"height","class":"",sortable:!0,dataType:"height"},{visibleName:"Wt",name:"weight","class":"",sortable:!0,dataType:"text"},{visibleName:"Stars",name:"stars","class":"stars",sortable:!0,dataType:"stars"},{visibleName:"Rating",name:"rating","class":"rating",sortable:!0,dataType:"text"},{visibleName:"Committed",name:"committed","class":"committed",sortable:!0,dataType:"timestamp"}],e.sport=e.sport||"football",e.year=e.year||n().format("YYYY");var t=JSON.parse(e.prospects),i=e.sport[0].toUpperCase()+e.sport.slice(1),r=t.reduce(function(t,n){return n.sport==i&&n.year&&n.year.toString()==e.year&&(n.position=n.position_group_abbreviation,n.location=n.city+", "+n.state_abbreviation,n.committed=n.commit_date,n.signed=n.sign,n.rating=n.rivals_rating,t.push(n)),t},[]);r.sort(function(e,t){return(e.signed?!t.signed:t.signed)?t.signed-e.signed:e.committed&&t.committed?Date.parse(t.committed)-Date.parse(e.committed):t.committed&&!e.committed?1:e.committed&&!t.committed?-1:0}),e.selectedSport={commitments:r}}}}])}.call(this),angular.module("rivals").controller("rvCommitmentsPageCtrl",["$scope",function(e){e.teamRanking=""}]),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvContentModule.html","<div class='custom-module-container'>\n<div class='homepage-module custom-content-module' ng-hide='$ctrl.moduleContent || $ctrl.hidePlaceholder'>\n<div class='contents contents-placeholder' ng-class='{&#39;with-ad&#39;: $ctrl.showAd}'><div class='content placeholder' ng-cloak ng-repeat='placeholder in $ctrl.placeholders'>\n<div class='spinner'></div>\n</div></div>\n<div class='extra-content placeholder' ng-class='{&#39;with-ad&#39;: $ctrl.showAd}' ng-cloak ng-if='!$ctrl.isMobile'>\n<div class='nav-block more-news-link-wrapper'></div>\n</div>\n</div>\n<div class='custom-module homepage-module' ng-cloak ng-if='$ctrl.moduleContent'>\n<div class='module-wrapper'>\n<div class='section-header'>\n{{ $ctrl.moduleContent.title }}\n</div>\n<div class='contents'>\n<div class='content' ng-if='!$ctrl.isMobile' ng-repeat='article in $ctrl.sectionContent($ctrl.moduleContent.contents).visible'>\n<rv-sliding-article article='article' forum_thread='forumThread' ga-source='$ctrl.gaSource' is_publisher='isPublisher' link='link' site_id='siteId' time_ago='$ctrl.timeAgo' view_link='$ctrl.viewLink'></rv-sliding-article>\n</div>\n<div class='content' ng-cloak ng-if='$ctrl.isMobile'>\n<rv-swiping-article articles='$ctrl.moduleContent.contents' forum_thread='forumThread' ga-source='$ctrl.gaSource' link='link' view_link='$ctrl.viewLink'></rv-swiping-article>\n</div>\n</div>\n<div class='extra-content' ng-if='!$ctrl.isMobile &amp;&amp; $ctrl.sectionContent($ctrl.moduleContent.contents).hidden.length &gt; 0'>\n<a class='content-module-link' ng-click='$ctrl.showMore()' ng-show=' $ctrl.hideModuleContent'>\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewbox=\"0 0 32 32\">\n    <g fill=\"none\" fill-rule=\"evenodd\" transform=\"rotate(90 16 16)\">\n        <rect width=\"31\" height=\"31\" x=\".5\" y=\".5\" stroke=\"#0D74CF\" rx=\"15.5\"></rect>\n        <path fill=\"#0D74CF\" d=\"M18 17.5L14.5 21 13 19.5l3.5-3.5-3.5-3.5 1.5-1.5 5 5-1.5 1.5z\"></path>\n    </g>\n</svg>\n\n<span class='link-blue'>\nMore {{ $ctrl.moduleContent.title }}\n</span>\n</a>\n<div class='hidden-content' ng-class='{&#39;last&#39;:$last, &#39;first&#39;: $first}' ng-if='!$ctrl.hideModuleContent' ng-repeat='article in $ctrl.sectionContent($ctrl.moduleContent.contents).hidden'>\n<a ng-href='{{$ctrl.viewLink(article)}}{{ $ctrl.gaSource ? &quot;?ga_source=&quot; + $ctrl.gaSource : &quot;&quot; }}'>\n<div class='content-title' ng-cloak>\n<div class='premium-icon' ng-if='article.kind === &quot;premium&quot; || article.premium'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n{{ article.title }}\n</div>\n<span class='byline'>\n<time datetime='{{article.live_at}}' ng-cloak>\n{{ $ctrl.timeAgo(article.live_at) }}\n</time>\n<span ng-cloak>\n{{article.site.name}}\n</span>\n</span>\n</a>\n</div>\n<a class='content-module-link' ng-click='$ctrl.hideModuleContent = true' ng-hide='$ctrl.hideModuleContent'>\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewbox=\"0 0 32 32\">\n    <g fill=\"none\" fill-rule=\"evenodd\" transform=\"matrix(0 -1 -1 0 32 32)\">\n        <rect width=\"31\" height=\"31\" x=\".5\" y=\".5\" stroke=\"#0D74CF\" rx=\"15.5\"></rect>\n        <path fill=\"#0D74CF\" d=\"M18 17.5L14.5 21 13 19.5l3.5-3.5-3.5-3.5 1.5-1.5 5 5-1.5 1.5z\"></path>\n    </g>\n</svg>\n\n<span class='link-blue'>\nLess {{ $ctrl.moduleContent.title }}\n</span>\n</a>\n</div>\n</div>\n<rv-custom-ad ad='$ctrl.pubAd' class='custom-ad module-ad' ng-if='$ctrl.showAd'></rv-custom-ad>\n</div>\n</div>")}]),angular.module("rivals").component("rvContentModule",{template:'<div ng-include="getTemplate()">',bindings:{pubAd:"<",customModule:"<",size:"<",menuItems:"<",trending:"<",numVisibleModuleContent:"<",timeAgo:"<",viewLink:"<",isPreview:"="},controller:["userCustomModulesService","$scope","$window","userPaths","userContentsService","mediaModalService","googleAnalyticsFactory",function(e,t,n,i,r,o,a){var s=this,l=_.pluck(s.menuItems,"url_key"),c=_.last(n.location.pathname.split("/"));s.galleriesPath=i.galleriesPath,s.gaSource="cm",t.getTemplate=function(){return s.trending?"content/rvTrendingModule.html":s.customModule&&"Gallery"==s.customModule.kind?"content/rvGalleryModule.html":"content/rvContentModule.html"};var u=function(t,n){e.getCustomModule(t,n,s.isPreview).then(function(e){e&&(s.moduleContent=e.custom_module)})};this.$onInit=function(){s.isMobile="mobile-small"===s.size||"mobile-large"===s.size,s.hideModuleContent=!0,s.showAd=s.customModule&&1==s.customModule.position&&s.pubAd,s.placeholders=s.showAd?_.range(s.numVisibleModuleContent-1):_.range(s.numVisibleModuleContent),c&&_.include(l,c)&&(s.selectedSport=c),s.customModule?u(s.customModule.id,s.selectedSport):s.trending&&(s.hideTrendingContent=!0,r.chartbeatContent().then(function(e){s.trendingContentPresent=e.chartbeat_data_present,s.trendingContentPresent&&(s.trendingContentLoaded=!1,r.getModuleContents("trending",s.selectedSport).then(function(e){e.content&&(s.trendingArticles=e.content,s.trendingContentLoaded=!0)}))}))},s.sectionContent=function(e){return angular.isDefined(e)?r.sectionContent(e,s.numVisibleModuleContent,s.size,s.showAd):e},s.showGalleryModal=function(e){return o.showGalleryModal(e)},s.showMore=function(){s.hideModuleContent=!1,a.sendEvent("Custom Module Interaction","More link clicked",s.moduleContent.title)}}]}),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvContentPagination.html","<div class='article-list'>\n<div class='article' ng-repeat='content in contents | limitTo: numArticlesShown'>\n<div class='button-wrapper'>\n<a class='edit-article' href='/publishing/contents/{{content.id}}/edit' ng-show='isPublisher'>Edit</a>\n</div>\n<a alt='{{content.title}}' class='image-news-feed-container' href='{{viewLink(content)}}' target='{{linkTarget(content.content_type)}}'>\n<div class='image-news-feed' style='background-image: url({{content.thumbnail_url}})'></div>\n</a>\n<div class='byline ticker-article'>\n<div class='icons-row'>\n<div class='premium-icon' ng-if='content.kind === &quot;premium&quot;'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n<div class='icon-divider' ng-if='content.kind === &quot;premium&quot;'></div>\n<div class='forum-icon' ng-if='forumThread(content.content_type)'><svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 15 14.77\"><defs><style>.cls-1{fill:#4a545c;}</style></defs><title>icons_forumtype_frontpage_ticker</title>\n<path class=\"cls-1\" d=\"M0,0H15V11.08H10.63L8.06,14.77l-2.9-3.69H0V0ZM0,2.5v2H15v-2H0ZM0,6.75v2H15v-2H0Z\"></path></svg>\n</div>\n<div class='link-icon' ng-if='link(content.content_type)'><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewbox=\"0 0 16 12.2\" enable-background=\"new 0 0 16 12.2\" xml:space=\"preserve\">\n  <path id=\"XMLID_228_\" fill=\"#0A4EA3\" d=\"M9.1,8.8C8.3,10,7,10.7,5.5,10.7c-2.4,0-4.3-1.9-4.3-4.3s1.9-4.3,4.3-4.3\n      c1.4,0,2.6,0.7,3.4,1.7h1.2C9.2,2.3,7.5,1.2,5.5,1.2c-2.9,0-5.3,2.4-5.3,5.3s2.4,5.3,5.3,5.3c2,0,3.8-1.2,4.7-2.9H9.1z\"></path>\n  <polygon id=\"XMLID_229_\" fill=\"#0A4EA3\" points=\"16.2,6.1 13.8,3.7 13.8,6.2 5.8,6.2 5.8,7.2 13.8,7.2 13.8,8.6 	\"></polygon>\n</svg>\n</div>\n<div class='icon-divider' ng-if='forumThread(content.content_type) || link(content.content_type)'></div>\n<span ng-if='content.site_name == siteName'>{{ content.author_name }}</span>\n<span ng-if='content.site_name != siteName'>{{ content.site_name.replace('.com', '') }}</span>\n</div>\n<a class='headline' href='{{viewLink(content)}}' target='{{linkTarget(content.content_type)}}'>\n{{content.title | ellipsifyString: articleTitleCharacterLimit}}\n</a>\n<div class='date-row'>\n<time datetime='{{content.live_at}}'>{{ timeAgo(content.live_at) }}</time>\n</div>\n</div>\n</div>\n</div>\n<a class='btn btn-primary btn-block load-more' href='#' ng-click='loadMore($event)' ng-hide='contents.length &lt; pageSize || numArticlesShown == contents.length'>Load More</a>")}]),function(){"use strict";angular.module("rivals").directive("rvContentPagination",["userPaths","contentHelpers","siteFactory","responsiveService","articleTitleCharacterLimit","articleSummaryCharacterLimit",function(e,t,n,i,r,o){var a=25;return{restrict:"E",scope:{contents:"=",pageSize:"=?",showProspect:"=?",siteName:"@"},templateUrl:"content/rvContentPagination.html",link:function(n){i.subscribeScopeToResizeEvents(n,function(e,t){a="mobile-large"==t.breakpoint||"mobile-small"==t.breakpoint?12:25}),n.contents=n.contents||[],n.showProspect=n.showProspect||!0,n.pageSize?a=n.pageSize:n.pageSize=a,n.numArticlesShown=a,n.articleTitleCharacterLimit=r,n.articleSummaryCharacterLimit=o,n.loadMore=function(e){e.preventDefault(),n.numArticlesShown=Math.min(n.numArticlesShown+a,n.contents.length)},n.link=function(e){return t.isLink(e)},n.linkTarget=function(e){return t.linkTarget(e)},n.forumThread=function(e){return t.isForumThread(e)},n.timeAgo=function(e){return t.timeAgo(e)},n.viewLink=function(t){if(t){var n=t.permalink;return angular.isDefined(e.contentsPath)&&(n=e.contentsPath.replace("slug",t.slug)),n}},n.$on("isPublisher",function(e,t){n.isPublisher=t})}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvCustomAd.html","<div class='ad-container'>\n<a ng-href='{{ad[&quot;url&quot;]}}'>\n<img ng-src='{{ad[&quot;image_url&quot;]}}' style='width: 100%'>\n</a>\n</div>")}]),function(){"use strict";angular.module("rivals").directive("rvCustomAd",function(){return{restrict:"E",scope:{ad:"="},templateUrl:"content/rvCustomAd.html"}})}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvFancastLeaderboard.html","<div class='fancast-leaderboard-header' ng-class='{&#39;leaderboard-page&#39;: !$ctrl.isEnrichment}'>\n<div class='timestamp-container' ng-if='!$ctrl.isEnrichment'>Last updated {{ $ctrl.timestamp }} ago</div>\n<div class='title'>\n<img class='fancast-logo' src='https://cdn.rivals.com/production/assets/icons/icons_Rivals_FanFutureCast_black_norivals-ee197bed4e10adae6e0bad838e3ca6743c8f60593cc91fd60e5e7d1739f620e4.svg'>\n<div class='logo-container fancast'>LEADERBOARD</div>\n</div>\n<select class='year-select-dropdown' id='leaderboard_anchor' ng-change='$ctrl.reset(); $ctrl.getUsers()' ng-if='!$ctrl.isEnrichment' ng-model='$ctrl.year' ng-options='year for year in $ctrl.years'></select>\n<div class='national' ng-cloak ng-if='$ctrl.isNational'>national ranking</div>\n<div class='enrichment-tabs-container' ng-cloak ng-if='!$ctrl.isNational'>\n<label class='enrichment-sport-tab'>\n<input ng-click='$ctrl.reset(); $ctrl.selectUsers(&quot;site&quot;)' ng-model='$ctrl.selectedTab' ng-value='site' type='radio'>\n<span ng-class='{&#39;selected&#39;: $ctrl.selectedTab == &#39;site&#39;}'>{{ $ctrl.site['name'] }}</span>\n</label>\n<label class='enrichment-sport-tab'>\n<input ng-click='$ctrl.reset(); $ctrl.selectUsers(&quot;national&quot;)' ng-model='$ctrl.selectedTab' ng-value='national' type='radio'>\n<span ng-class='{&#39;selected&#39;: $ctrl.selectedTab == &#39;national&#39;}'>National</span>\n</label>\n</div>\n</div>\n<div class='prospect-list prospect-rankings fancast-leaderboard'>\n<div class='loading-screen' ng-show='$ctrl.loading'>\n<div class='spinner'></div>\n</div>\n<table ng-show='!$ctrl.loading'>\n<thead>\n<tr>\n<th class='fancast-rank' ng-class='{&#39;expanded-margin&#39;: !$ctrl.isEnrichment}'>Rank</th>\n<th class='fancast-user' ng-class='{&#39;fancast-user-title&#39;: !$ctrl.isEnrichment}'>User</th>\n<th class='representing' ng-cloak ng-if='!$ctrl.isEnrichment &amp;&amp; $ctrl.selectedTab == &quot;national&quot;'>Representing</th>\n<th class='fancast-score-title'>Score</th>\n</tr>\n</thead>\n<tbody>\n<tr class='prospect-ranking' ng-class-even='&#39;even&#39;' ng-class-odd='&#39;odd&#39;' ng-class='{&#39;currentuser&#39;: user[&#39;id&#39;] === $ctrl.currentUserId}' ng-repeat='user in $ctrl.displayUsers'>\n<td class='table-fancast-rank' ng-class='{&#39;leaderboard-page&#39;: !$ctrl.isEnrichment }' ng-cloak>\n<div class='fancast-user-icon'>\n<div class='standin-icon' ng-if='!user[&quot;icon_url&quot;]'></div>\n<img class='user-icon' ng-if='user[&quot;icon_url&quot;]' ng-src='{{user[&quot;icon_url&quot;]}}'>\n</div>\n<div class='fancast-rank-number' ng-class='{&#39;long-number&#39;: (($index + 1) + $ctrl.numberOffset) &gt;= 100}' ng-cloak>\n{{ user['ordinality'] }}\n</div>\n</td>\n<td class='fancast-user' ng-class='{&#39;page-margin&#39;: !$ctrl.isEnrichment}' ng-cloak ng-if='$ctrl.selectedTab == &quot;site&quot;'>{{ user['username'] }}</td>\n<td class='fancast-national-leaderboard' ng-class='{&#39;page-margin&#39;: !$ctrl.isEnrichment}' ng-cloak ng-if='$ctrl.selectedTab == &quot;national&quot;'>\n<div class='username'>{{ user['username'] }}</div>\n<div class='subscriptions' ng-class='{&#39;hide-on-page&#39;: !$ctrl.isEnrichment}' ng-if='user[&quot;affiliation&quot;]'>\n<a class='subscription-name' ng-href='{{ user[&quot;affiliation&quot;][&quot;url&quot;] }}' ng-if='user[&quot;affiliation&quot;][&quot;url&quot;]'>\n{{ user[\"affiliation\"][\"name\"] }}\n</a>\n<div class='subscription-name' ng-if='!user[&quot;affiliation&quot;][&quot;url&quot;]'>\n{{ user[\"affiliation\"][\"name\"] }}\n</div>\n</div>\n</td>\n<td class='representing' ng-cloak ng-if='!$ctrl.isEnrichment &amp;&amp; $ctrl.selectedTab == &quot;national&quot;'>\n<a ng-href='{{ user[&quot;affiliation&quot;][&quot;url&quot;] }}' ng-if='user[&quot;affiliation&quot;][&quot;url&quot;]'>\n<img class='site-logo' ng-if='user[&#39;affiliation&#39;][&#39;logo&#39;]' ng-src='{{ user[&#39;affiliation&#39;][&#39;logo&#39;] }}'>\n<div ng-if='!user[&#39;affiliation&#39;][&#39;logo&#39;]'>{{ user[\"affiliation\"][\"name\"] }}</div>\n</a>\n<div ng-if='!user[&quot;affiliation&quot;][&quot;url&quot;]'>\n<img class='site-logo' ng-if='user[&#39;affiliation&#39;][&#39;logo&#39;]' ng-src='{{ user[&#39;affiliation&#39;][&#39;logo&#39;] }}'>\n<div ng-if='!user[&#39;affiliation&#39;][&#39;logo&#39;]'>{{ user[\"affiliation\"][\"name\"] }}</div>\n</div>\n</td>\n<td class='fancast-score table' ng-class='{&#39;leaderboard-page&#39;: !$ctrl.isEnrichment}'>{{ user['score'] }}</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class='nav-block more-news-link-wrapper' ng-if='$ctrl.isEnrichment'>\n<a ng-href='/fan_futurecast_leaderboard'>\n<div class='chevron-icon'><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewbox=\"0 0 32 32\">\n    <g fill=\"none\" fill-rule=\"evenodd\" transform=\"matrix(0 -1 -1 0 32 32)\">\n        <rect width=\"31\" height=\"31\" x=\".5\" y=\".5\" stroke=\"#0D74CF\" rx=\"15.5\"></rect>\n        <path fill=\"#0D74CF\" d=\"M18 17.5L14.5 21 13 19.5l3.5-3.5-3.5-3.5 1.5-1.5 5 5-1.5 1.5z\"></path>\n    </g>\n</svg>\n</div>\n<span class='news-link'>See More</span>\n</a>\n</div>\n<div class='pagination-container' ng-if='!$ctrl.isEnrichment &amp;&amp; $ctrl.totalNumber &gt; $ctrl.pageSize'>\n<uib-pagination boundary-link-numbers='true' class='fancast-leaderboard-pagination' items-per-page='$ctrl.pageSize' max-size='5' ng-change='$ctrl.loading = true; $ctrl.scrollUp() ;$ctrl.getUsers()' ng-model='$ctrl.pageNumber' total-items='$ctrl.totalNumber'></uib-pagination>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvFancastLeaderboard",{bindings:{site:"=",isNational:"=",isEnrichment:"=",years:"=",siteColor:"="},templateUrl:"content/rvFancastLeaderboard.html",controller:["$scope","fanCastLeaderboardFactory","$document","responsiveService","timeZones","$anchorScroll","$location",function(e,t,n,i,r,o,a){var s=this,l=100;s.$onInit=function(){s.selectedTab=s.isNational?"national":"site",s.nationalUsers=[],s.siteUsers=[],s.pageNumber=1,s.pageSize=l,s.year="all",s.totalNumber=0,s.numberOffset=0,s.loading=!0,s.getUsers(),s.timestamp="...";var e=r.getUsZones();s.currentTz=r.getLocalTimeZone(e)},s.getUsers=function(){var e={is_enrichment:s.isEnrichment,year:s.year,page:s.pageNumber,tab:s.selectedTab};t.getLeaderboardUsers(e).then(function(e){s.displayUsers=e.users,s.totalNumber=e.count,s.timestamp=moment.unix(e.timestamp).fromNow(),s.numberOffset=(s.pageNumber-1)*s.pageSize,s.currentUserId=s.currentUserId?s.currentUserId:e.current_user_id,s.loading=!1,s.isEnrichment||s.resizeRankNumbers(),s.addIcons()})},s.reset=function(){s.loading=!0,s.pageNumber=1},s.selectUsers=function(e){s.selectedTab=e,s.getUsers()},s.addIcons=function(){s.displayUsers.forEach(function(e){var n={user_id:e.id,affiliated_site_id:e.affiliation.site_id};t.getUserIcon(n).then(function(t){t?e.icon_url=t:e.icon_url=null})})},s.scrollUp=function(){a.hash("leaderboard_anchor"),o()},s.resizeRankNumbers=function(){n.ready(function(){_.each(n.find(".fancast-rank-number"),function(e){if(s.isMobile)e.setAttribute("style","left: 4px");else{var t=e.offsetWidth/2;e.setAttribute("style","left: "+(38-t).toString()+"px")}})})},i.subscribeScopeToResizeEvents(e,function(e,t){s.isEnrichment||(s.isMobile="mobile-large"===t.breakpoint||"mobile-small"===t.breakpoint,s.resizeRankNumbers())})}]})}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvForecastLogos.html","<div class='forecast' ng-if='$ctrl.forecasts'>\n<div ng-if='$ctrl.analysts'>\n<div class='futurecast-logo-white-sm' ng-if='!$ctrl.commitment'></div>\n<div class='futurecast-logo-black' ng-if='$ctrl.commitment'></div>\n</div>\n<div ng-if='!$ctrl.analysts'>\n<div class='fan-futurecast-logo-white-sm' ng-if='!$ctrl.commitment'></div>\n<div class='fan-futurecast-logo-black-sm' ng-if='$ctrl.commitment'></div>\n</div>\n<div class='percentage none' ng-class='{&#39;committed&#39;: $ctrl.commitment}' ng-if='$ctrl.forecasts.length == 0'>\nNONE\n</div>\n<img ng-if='$ctrl.forecasts.length == 1' ng-src='{{$ctrl.forecasts[0][&#39;logo&#39;]}}'>\n<div class='percentage' ng-class='{&#39;committed&#39;: $ctrl.commitment}' ng-if='$ctrl.forecasts.length == 1'>\n{{$ctrl.forecasts[0]['percentage']}}%\n</div>\n<div class='two-tie-container' ng-if='$ctrl.forecasts.length == 2'>\n<img class='first' ng-src='{{$ctrl.forecasts[0][&#39;logo&#39;]}}'>\n<div class='diagonal'></div>\n<img class='second' ng-src='{{$ctrl.forecasts[1][&#39;logo&#39;]}}'>\n</div>\n<div class='percentage' ng-class='{&#39;committed&#39;: $ctrl.commitment}' ng-if='$ctrl.forecasts.length == 2'>\nTie\n</div>\n<div class='multiple-tie-container' ng-if='$ctrl.forecasts.length &gt; 2'>\n<div class='circles-container' ng-repeat='forecast in $ctrl.forecasts track by $index'>\n<div class='forecast-circle' ng-class='{&quot;align-bottom&quot;: $index%2 != 0}' ng-style='{&#39;background-color&#39;: &#39;{{$ctrl.getPrimaryColor(forecast)}}&#39; }'></div>\n</div>\n</div>\n<div class='percentage' ng-class='{&#39;committed&#39;: $ctrl.commitment}' ng-if='$ctrl.forecasts.length &gt; 2'>\nToss Up\n</div>\n</div>");
}]),function(){"use strict";angular.module("rivals").component("rvForecastLogos",{bindings:{forecasts:"<",analysts:"<",commitment:"<"},templateUrl:"content/rvForecastLogos.html",controller:function(){var e=this;e.getPrimaryColor=function(e){return"#"+(e.primary_color?e.primary_color:"0A4EA3")}}})}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvForecasterProfileForecasts.html","<div class='primary-info-row' ng-cloak>\n<div class='prospect-information'>\n<div class='prospect-image'>\n<img class='prospect-image' ng-if='$ctrl.prospect.profile_picture' ng-src='{{ $ctrl.prospect.profile_picture }}'>\n<img class='prospect-image' ng-if='!$ctrl.prospect.profile_picture' ng-src='https://cdn.rivals.com/production/assets/icons/icons_prospectprofile_avatar-f8b63a445cc9298d92203997366f1a6d36b7c02de68654d3af2229092416a6da.svg'>\n</div>\n<div class='prospect-data'>\n<a href='{{$ctrl.prospect.prospect_url}}'>\n<div class='prospect-first-name'>{{ $ctrl.firstName }}</div>\n<div class='prospect-last-name'>{{ $ctrl.lastName }}</div>\n</a>\n<div class='star-row'>\n<rv-stars class='stars' num-stars='$ctrl.stars'></rv-stars>\n</div>\n<div class='vitals'>{{ $ctrl.prospect.height }} | {{ $ctrl.prospect.weight }} LBS | {{ $ctrl.prospect.position }}</div>\n</div>\n</div>\n<div class='forecast-information'>\n<div class='status-header correct' ng-cloak ng-if='$ctrl.commitmentName &amp;&amp; !$ctrl.unlikely &amp;&amp; ($ctrl.commitmentName === $ctrl.mainForecast[&quot;college_name&quot;])'>\nCorrect: {{$ctrl.formatDate($ctrl.mainForecast['forecast_date'])}}\n</div>\n<div class='status-header incorrect' ng-cloak ng-if='$ctrl.commitmentName &amp;&amp; !$ctrl.unlikely &amp;&amp; ($ctrl.commitmentName !== $ctrl.mainForecast[&quot;college_name&quot;])'>\nWrong: {{$ctrl.formatDate($ctrl.mainForecast['forecast_date'])}}\n</div>\n<div class='status-header incorrect' ng-cloak ng-if='$ctrl.commitmentName &amp;&amp; $ctrl.unlikely'>\nUnlikely: {{$ctrl.formatDate($ctrl.mainForecast['forecast_date'])}}\n</div>\n<div class='status-header latest' ng-cloak ng-if='!$ctrl.commitmentName'>\nLatest: {{ $ctrl.formatDate($ctrl.mainForecast['forecast_date']) }}\n</div>\n<div class='forecast-comparison analyst-forecast'>\n<div class='forecast-details'>\n<div class='forecast-logo'>\n<img class='forecast-logo' ng-class='{&#39;unlikely-logo&#39;: $ctrl.mainForecast[&#39;no_longer_likely&#39;]}' ng-src='{{ $ctrl.mainForecast[&quot;college_logo&quot;] }}'>\n</div>\n<div class='forecast-name' ng-class='{&#39;unlikely-name&#39;: $ctrl.mainForecast[&#39;no_longer_likely&#39;]}'>{{ $ctrl.mainForecast['college_name'] }}</div>\n</div>\n<div class='forecast-marked-unlikely' ng-if='$ctrl.mainForecast[&#39;no_longer_likely&#39;]'>unlikely</div>\n</div>\n<div class='forecast-comparison prospect-commitment'>\n<div class='commit-row'>\n<div class='commit-date'><b>COMMIT:</b> {{ $ctrl.commitmentDate }}</div>\n<div class='commit-status signed' ng-if='$ctrl.commitmentName &amp;&amp; $ctrl.prospect.commitment_type === &quot;signed&quot;'>\nSigned\n</div>\n<div class='commit-status verbal' ng-if='$ctrl.commitmentName &amp;&amp; $ctrl.prospect.commitment_type === &quot;verbal&quot;'>\nVerbal\n</div>\n<div class='commit-status verbal' ng-if='$ctrl.commitmentName &amp;&amp; $ctrl.prospect.commitment_type === &quot;soft&quot;'>\nSoft\n</div>\n</div>\n<div class='commitment' ng-if='$ctrl.commitmentName'>\n<div class='commit-logo'>\n<img class='commit-logo' ng-src='{{ $ctrl.prospect.committed_college_logo }}'>\n</div>\n<div class='commit-name'>{{ $ctrl.commitmentName }}</div>\n</div>\n<div class='commitment' ng-if='!$ctrl.commitmentName || $ctrl.commitmentName === &quot;&quot;'>Undecided</div>\n</div>\n</div>\n<div class='commit-forecast'>\n<div class='show-more-less' ng-click='$ctrl.showAllSpread = !$ctrl.showAllSpread' ng-cloak ng-if='$ctrl.prospect[&quot;forecast_spread&quot;].length &gt; 3'>\n<div ng-cloak ng-if='$ctrl.showAllSpread'>Close All</div>\n<div ng-cloak ng-if='!$ctrl.showAllSpread'>See All</div>\n</div>\n<div class='commit-forecast-body'>\n<div class='popout-body' ng-class='{&#39;show-more-less&#39;: $ctrl.showAllSpread}' ng-cloak>\n<div class='forecast-title' ng-cloak>\nCommit FutureCast\n</div>\n<div class='forecast-spread'>\n<div class='spread-line' ng-class='{&#39;contracted&#39;: $ctrl.showAllSpread}' ng-cloak ng-repeat='forecast in $ctrl.prospect[&quot;forecast_spread&quot;]'>\n<div ng-cloak ng-if='$index &lt; 3 || $ctrl.showAllSpread === true'>\n{{forecast['name']}} ({{forecast['percentage']}})\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='forecast-reason expanded' ng-if='$ctrl.mainForecast[&quot;reason&quot;]'>\n<div class='main-forecast-reason' id='reason-{{$ctrl.prospect.prospect_id}}' ng-if='!$ctrl.showReason'>\n{{ $ctrl.mainForecast['reason'] }}\n</div>\n<div class='toggle-reason' ng-click='$ctrl.showReason =! $ctrl.showReason' ng-if='!$ctrl.showReason &amp;&amp; $ctrl.longMessage'>\nSee more\n</div>\n<div ng-if='$ctrl.showReason'>\n{{ $ctrl.mainForecast['reason'] }}\n<div class='toggle-reason' ng-click='$ctrl.showReason =! $ctrl.showReason '>\nSee less\n</div>\n</div>\n</div>\n<div class='previous-forecasts' ng-if='$ctrl.forecasts.length &gt; 0'>\n<div class='forecast-list' ng-cloak ng-show='$ctrl.open'>\n<div class='forecast-row' ng-repeat='forecast in $ctrl.forecasts'>\n<div class='forecast-information'>\n<div class='logo'>\n<img class='logo' ng-class='{&#39;unlikely-logo&#39;: forecast[&#39;no_longer_likely&#39;]}' ng-src='{{forecast[&quot;college_logo&quot;]}}'>\n</div>\n<div class='information'>\n<div class='name'>{{ forecast['college_name'] }}</div>\n<div class='date'>{{ $ctrl.formatDate(forecast['forecast_date']) }}</div>\n<div class='forecast-marked-unlikely' ng-if='forecast[&#39;no_longer_likely&#39;]'>unlikely</div>\n</div>\n</div>\n<div class='forecast-reason'>\n{{ forecast['reason'] }}\n</div>\n</div>\n</div>\n<div class='expand-contract' ng-click='$ctrl.open = !$ctrl.open'>\n<div class='label' ng-if='!$ctrl.open'>\nPrevious\n</div>\n<div class='label' ng-if='$ctrl.open'>\nHide previous\n</div>\n<div class='arrow down' ng-if='!$ctrl.open'></div>\n<div class='arrow up' ng-if='$ctrl.open'></div>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvForecasterProfileForecasts",{bindings:{prospect:"="},templateUrl:"content/rvForecasterProfileForecasts.html",controller:["moment","responsiveService","$scope","$document",function(e,t,n,i){var r=this;r.$onInit=function(){r.open=!1,r.firstName=r.prospect.first_name,r.lastName=r.prospect.last_name,r.profilePicture=r.prospect.profile_picture,r.commitmentDate=r.prospect.commitment_date?e(r.prospect.commitment_date).format("MM/DD/YYYY"):r.prospect.commitment_date,r.commitmentName=r.prospect.committed_college_name,r.forecasts=r.prospect.forecasts,r.stars=r.prospect.stars,r.mainForecast=r.forecasts.shift(),r.unlikely=r.mainForecast.no_longer_likely},r.formatDate=function(t){return e(t).format("MM/DD/YYYY")},t.subscribeScopeToResizeEvents(n,function(e,t){var n=t.breakpoint;r.smMobile="mobile-small"==n}),i.ready(function(){var e=i.find("#reason-"+r.prospect.prospect_id);r.longMessage=e[0]&&e[0].scrollWidth>e[0].offsetWidth})}]})}(),angular.module("rivals").controller("rvForecasterProfilePageController",["$scope","$document","userListsFactory","sharingService","userForecastsService","userContentsService",function(e,t,n,i,r,o){var a=this;a.init=function(e,t,n){a.query="",a.forecasts=null,a.results=null,a.userId=e,n&&a.getForecasterContents(),a.years=[],a["class"]=t,a.commitStatuses=["All","Undecided","Committed"],a.forecastStatuses=["All","Correct","Wrong"],a.commitStatus=a.commitStatuses[0],a.forecastStatus=a.forecastStatuses[0],a.dropdownChange(null),a.loading=!0,a.selected=!1},a.dropdownChange=function(e){a.loading=!0,a.query="","commit"===e&&"Undecided"===a.commitStatus&&(a.forecastStatus="All"),"forecast"===e&&"All"!==a.forecastStatus&&(a.commitStatus="Committed");var t={user_id:a.userId,year:a["class"],commit_status:a.commitStatus,forecast_status:a.forecastStatus};r.forecastSearch(t).then(function(e){a.forecasts=e.forecasts,a.years=e.years,-1===a.years.indexOf(a["class"])&&(a["class"]=a.years[0]),a.query="",a.loading=!1})},a.toggleDropdowns=function(){var e=a.query.length>0,n=t.find(".futurecast-module select");_.each(n,function(t){t.disabled=e})},a.onSelect=function(e){a.selected=!0;var t={user_id:a.userId,prospect_id:e.prospect.id,forecast_status:"All",commit_status:"All"};r.forecastSearch(t).then(function(e){a.forecasts=e.forecasts})},a.getForecasterContents=function(){return o.getContents(null,{author_id:a.userId}).then(function(e){a.forecasterContents=e.contents})},a.getForecastedProspects=function(e){var t={user_id:a.userId,query:e};return r.forecastSearch(t).then(function(e){return e.forecasts})},a.setDefault=function(){a.selected=!1,a.dropdownChange(null),a.toggleDropdowns()}}]),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvForumNavigation.html","<rv-navigation navigation='nav' ng-repeat='nav in navigation'></rv-navigation>")}]),function(){"use strict";angular.module("rivals").directive("rvForumNavigation",["$window","forumNavigationService",function(e,t){var n=function(e,t){Object.keys(e).map(function(i){var r=e[i];r.items&&n(r.items,t),!/forums/.test(r.link)&&/rivals\.com/.test(r.link)&&/(n\.)?rivals\.com/.test(r.link)&&(r.link=r.link.replace(/(n\.)?rivals\.com/,t))})},i=function(t){var i=e.location.host;if("rivals.com"!==i&&"n.rivals.com"!==i){var r=/(rivals-.*?\.com)/.exec(i),o=r&&2===r.length?r[1]:null;o&&n(t,o)}};return{restrict:"E",scope:{siteIdentifier:"=",limit:"="},templateUrl:"content/rvForumNavigation.html",link:function(e){t.getNavigation(e.siteIdentifier).then(function(t){if(i(t),e.limit){var n=_.map(t,function(e){return{title:e.title,items:e.items,link:e.link}}),r=parseInt(e.limit),o=n.slice(r);e.navigation=n.slice(0,r),o.length>0&&e.navigation.push({title:"...",items:o})}else e.navigation=t})}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvForums.html","<div class='forums' ng-class='{&#39;homepage-module&#39;: homepage, &#39;left-rail&#39;: !homepage}' ng-cloak ng-if='showModule()'>\n<div class='section-header'>\nForums\n<a ng-href='{{forumsUrl}}' ng-if='homepage'>\nVisit Forums\n</a>\n</div>\n<div class='thread-content' ng-class='{&#39;ad-present&#39;: !subscribedUser &amp;&amp; false}'>\n<div class='threads'><div class='section0 thread-section' ng-cloak ng-if='showSection(0)'>\n<a class='thread-box' ng-cloak ng-href='{{thread.links.permalink}}' ng-repeat='thread in sectionThreads(0)'>\n<div class='contents'>\n<img class='icon' ng-src='{{thread.first_post.links.poster_avatar}}'>\n<div class='thread-post'>\n<div class='creator-section'>\n<time datetime='{{thread.thread_create_date}}' ng-cloak>\n{{timeAgoStatic(thread.thread_create_date)}}\n</time>\n<span>\n{{thread.creator_username}}\n</span>\n</div>\n<div class='thread-title'>\n{{thread.thread_title | ellipsifyString: 65}}\n</div>\n</div>\n</div>\n<div class='meta-info'>\n<span class='latest-post'>\n<span class='time-ago'>\n<time datetime='{{thread.thread_update_date}}' ng-cloak>\n{{timeAgo(thread.thread_update_date)}}\n</time>\n</span>\n<span class='poster-name'>\n{{thread.last_post.poster_username}}\n</span>\n</span>\n<span>\n<span class='post-count'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_comment_gray-41f8811c80d370ad7e9dc8ffda4b70e9b509b4ccd1a53ed0d33c60c390efea3d.svg'>\n{{thread.thread_post_count}}\n</span>\n<span class='view-count'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_eye_gray-a0559c175664bd665b4f75808031f333c17c221c05e1d58248734a2518058e72.svg'>\n{{thread.thread_view_count}}\n</span>\n</span>\n</div>\n</a>\n</div><div class='section1 thread-section' ng-cloak ng-if='showSection(1)'>\n<a class='thread-box' ng-cloak ng-href='{{thread.links.permalink}}' ng-repeat='thread in sectionThreads(1)'>\n<div class='contents'>\n<img class='icon' ng-src='{{thread.first_post.links.poster_avatar}}'>\n<div class='thread-post'>\n<div class='creator-section'>\n<time datetime='{{thread.thread_create_date}}' ng-cloak>\n{{timeAgoStatic(thread.thread_create_date)}}\n</time>\n<span>\n{{thread.creator_username}}\n</span>\n</div>\n<div class='thread-title'>\n{{thread.thread_title | ellipsifyString: 65}}\n</div>\n</div>\n</div>\n<div class='meta-info'>\n<span class='latest-post'>\n<span class='time-ago'>\n<time datetime='{{thread.thread_update_date}}' ng-cloak>\n{{timeAgo(thread.thread_update_date)}}\n</time>\n</span>\n<span class='poster-name'>\n{{thread.last_post.poster_username}}\n</span>\n</span>\n<span>\n<span class='post-count'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_comment_gray-41f8811c80d370ad7e9dc8ffda4b70e9b509b4ccd1a53ed0d33c60c390efea3d.svg'>\n{{thread.thread_post_count}}\n</span>\n<span class='view-count'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_eye_gray-a0559c175664bd665b4f75808031f333c17c221c05e1d58248734a2518058e72.svg'>\n{{thread.thread_view_count}}\n</span>\n</span>\n</div>\n</a>\n</div><div class='section2 thread-section' ng-cloak ng-if='showSection(2)'>\n<a class='thread-box' ng-cloak ng-href='{{thread.links.permalink}}' ng-repeat='thread in sectionThreads(2)'>\n<div class='contents'>\n<img class='icon' ng-src='{{thread.first_post.links.poster_avatar}}'>\n<div class='thread-post'>\n<div class='creator-section'>\n<time datetime='{{thread.thread_create_date}}' ng-cloak>\n{{timeAgoStatic(thread.thread_create_date)}}\n</time>\n<span>\n{{thread.creator_username}}\n</span>\n</div>\n<div class='thread-title'>\n{{thread.thread_title | ellipsifyString: 65}}\n</div>\n</div>\n</div>\n<div class='meta-info'>\n<span class='latest-post'>\n<span class='time-ago'>\n<time datetime='{{thread.thread_update_date}}' ng-cloak>\n{{timeAgo(thread.thread_update_date)}}\n</time>\n</span>\n<span class='poster-name'>\n{{thread.last_post.poster_username}}\n</span>\n</span>\n<span>\n<span class='post-count'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_comment_gray-41f8811c80d370ad7e9dc8ffda4b70e9b509b4ccd1a53ed0d33c60c390efea3d.svg'>\n{{thread.thread_post_count}}\n</span>\n<span class='view-count'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_eye_gray-a0559c175664bd665b4f75808031f333c17c221c05e1d58248734a2518058e72.svg'>\n{{thread.thread_view_count}}\n</span>\n</span>\n</div>\n</a>\n</div></div>\n</div>\n</div>")}]),angular.module("rivals").directive("rvForums",["forumService","contentHelpers",function(e,t){return{restrict:"E",scope:{baseApiUrl:"@",spaceId:"@",adReferer:"@",pubAd:"@",subscribedUser:"=",size:"=",forumsUrl:"@",homepage:"="},templateUrl:"content/rvForums.html",link:function(n){e.fetchHotThreads(n.baseApiUrl,26,3).then(function(e){n.threads=_.map(e.threads,function(e){return e.thread_create_date=moment(1e3*e.thread_create_date).zone("-0600").format(),e.thread_update_date=moment(1e3*e.thread_update_date).zone("-0600").format(),e}),n.pubAd=angular.fromJson(n.pubAd)}),n.visibleThreads=function(){if(n.homepage){var e=2;if(n.subscribedUser&&(e=0),"desktop-large"==n.size||"desktop-xl"==n.size)var t=n.threads.slice(0,6-e);else t="desktop-small"==n.size?n.threads.slice(0,4-e):"mobile-large"==n.size||"mobile-small"==n.size||"tablet"==n.size?n.threads.slice(0,2):n.threads.slice(0,6-e)}else"desktop-large"!=n.size&&"desktop-small"!=n.size||(t=n.threads.slice(0,4));return t},n.showModule=function(){return n.threads&&n.threads.length>1},n.showSection=function(e){return n.visibleThreads().length>=2*e+1},n.adSection=function(e){return!n.showSection(e)},n.sectionThreads=function(e){return n.visibleThreads().slice(2*e,2*e+2)},n.timeAgo=function(e){return t.timeAgo(e)},n.timeAgoStatic=function(e){return t.timeAgoStatic(e)}}}}]),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvGalleryBlockPreview.html","<div class='gallery-block'>\n<div class='gallery-block-content'>\n<div class='blurred-image' ng-click='showGallery(gallery)'>\n<div class='overlay-icon'></div>\n<div class='background' style='background-image: url({{gallery.images[0].gallery_preview_url}})'></div>\n<img class='gallery-image' ng-if='displayAllowed' ng-src='{{gallery.images[0].gallery_preview_url}}'>\n</div>\n<div class='premium-gatekeeper' ng-if='!displayAllowed'>\n<div class='upsell-preview'>\n<div class='blurred-image gallery-upsell-background'>\n<div class='background' style='background-image: url({{gallery.images[0].gallery_preview_url}})'></div>\n<img ng-src='{{gallery.images[0].gallery_preview_url}}'>\n</div>\n<div class='shadow-box background-fade gallery-upsell-background'></div>\n<rv-gallery-upsell></rv-gallery-upsell>\n</div>\n</div>\n<div class='description-container'>\n<div class='gallery-title' ng-bind='gallery.name' ng-click='showGallery(gallery)'></div>\n<div class='social-media-container'>\n<div class='expand' ng-click='showGallery(gallery)'></div>\n<div class='facebook' ng-click='openShareWindow(&quot;facebook&quot;)'></div>\n<div class='twitter' ng-click='openShareWindow(&quot;twitter&quot;)'></div>\n</div>\n<div class='subheader' ng-click='showGallery(gallery)'>\n<div class='icon-container' ng-if='gallery.premium'>\n<div class='premium-icon'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n</div>\n<div class='publish-date' ng-bind='gallery.live_at | timestampToDate' ng-if='gallery.live_at'></div>\n<div class='publish-date' ng-if='!gallery.live_at'>DRAFT</div>\n<div class='date-separator'>-</div>\n<div class='photo-count' ng-bind='gallery.photo_count'></div>\n</div>\n<br>\n<div class='gallery-summary' ng-bind='gallery.summary' ng-click='showGallery(gallery)'></div>\n</div>\n</div>\n</div>")}]),angular.module("rivals").directive("rvGalleryBlockPreview",["galleriesService","mediaModalService","sharingService","$window","userPaths","userService",function(e,t,n,i,r,o){return{restrict:"E",scope:{galleryId:"=",gallery:"=?"},templateUrl:"content/rvGalleryBlockPreview.html",link:function(a){a.galleryData=e.fetchGallery(a.galleryId),a.signInPath=r.signInPath,a.registerPath=r.subscriptionFunnelPath,a.displayAllowed=!0,o.getCurrentUserInfo().then(function(e){var t=e.user;t=_.isEmpty(t)?null:t,a.currentUser=t,a.userServiceFinalized=!0}),a.setGalleryDisplay=function(){a.userServiceFinalized||_.delay(a.setGalleryDisplay,100),!a.gallery.premium||a.currentUser&&(a.currentUser.subscriptions&&a.currentUser.subscriptions[0]||a.currentUser.publishing_sites&&a.currentUser.publishing_sites[0]||"super_admin"==a.currentUser.role)?(a.displayAllowed=!0,a.digest&&a.digest()):a.displayAllowed=!1},a.galleryData.then(function(e){if(e){a.gallery=e;var t=a.gallery.images.length;1==t?a.gallery.photo_count="1 photo":t?a.gallery.photo_count=a.gallery.images.length+" photos":a.gallery.photo_count="0 photos",a.setGalleryDisplay();var n=a.gallery.images[0]?a.gallery.images[0].gallery_preview_url:void 0;a.premiumPreviewBackgroundImage={"background-image":"linear-gradient(rgba(0, 0, 0, 0.5),rgba(0, 0, 0, 0.5)),url("+n+")"}}}),a.showGallery=function(e){a.displayAllowed&&t.showGalleryModal(e.id)},a.openShareWindow=function(e){var t=i.location.origin+r.galleriesPath+"/"+a.gallery.id;"facebook"==e?n.shareFacebook(t):"twitter"==e?n.shareTwitter(t,a.gallery.name):"reddit"==e&&n.shareReddit(t)}}}}]),angular.module("rivals").controller("rvGalleryIndexController",["$scope","$rootScope","mediaModalService",function(e,t,n){var i=2,r=6;e.init=function(t,o,a,s,l,c){if(n.adFrequency=c?void 0:l,e.galleries=t,a&&(e.firstAdPosition=i,e.galleries.length>i&&(e.galleries.splice(i+1,0,e.galleries[i]),e.galleries[i]={})),s&&(e.secondAdPosition=r,e.galleries.length>r&&(e.galleries.splice(r+1,0,e.galleries[r]),e.galleries[r]={})),o){var u=_.find(t,{id:o});u&&n.showGalleryModal(o)}},e.showGallery=function(e,t){t.preventDefault(),n.showGalleryModal(e.id)}}]),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvGalleryModule.html","<div class='custom-module-container' id='gallery'>\n<div class='homepage-module gallery-module' ng-cloak ng-if='$ctrl.moduleContent.contents.length &gt; 0'>\n<div class='module-wrapper'>\n<div class='section-header'>\n{{ $ctrl.moduleContent.title }}\n</div>\n<div class='contents'>\n<div class='content' ng-if='!$ctrl.isMobile' ng-repeat='gallery in $ctrl.sectionContent($ctrl.moduleContent.contents).visible'>\n<rv-sliding-gallery gallery='gallery' is_large_gallery='false' is_publisher='$ctrl.isPublisher'></rv-sliding-gallery>\n</div>\n</div>\n<div class='content' ng-cloak ng-if='$ctrl.isMobile'>\n<rv-swiping-article galleries='$ctrl.moduleContent.contents' is-media-page='false'></rv-swiping-article>\n</div>\n<div class='extra-content' ng-if='!$ctrl.isMobile &amp;&amp; $ctrl.sectionContent($ctrl.moduleContent.contents).hidden.length &gt; 0'>\n<a class='content-module-link' ng-click='$ctrl.hideModuleContent = false' ng-show=' $ctrl.hideModuleContent'>\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewbox=\"0 0 32 32\">\n    <g fill=\"none\" fill-rule=\"evenodd\" transform=\"rotate(90 16 16)\">\n        <rect width=\"31\" height=\"31\" x=\".5\" y=\".5\" stroke=\"#0D74CF\" rx=\"15.5\"></rect>\n        <path fill=\"#0D74CF\" d=\"M18 17.5L14.5 21 13 19.5l3.5-3.5-3.5-3.5 1.5-1.5 5 5-1.5 1.5z\"></path>\n    </g>\n</svg>\n\n<span class='link-blue'>\nMore {{ $ctrl.moduleContent.title }}\n</span>\n</a>\n<div class='hidden-content' ng-class='{&#39;last&#39;:$last, &#39;first&#39;: $first}' ng-if='!$ctrl.hideModuleContent' ng-repeat='gallery in $ctrl.sectionContent($ctrl.moduleContent.contents).hidden'>\n<a ng-click='$ctrl.showGalleryModal(gallery.gallery_id)'>\n<div class='content-title' ng-cloak>\n<div class='premium-icon' ng-if='gallery.kind === &#39;premium&#39;'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n{{ gallery.name }}\n</div>\n<span class='byline'>\n<time datetime='{{gallery.live_at}}' ng-cloak>\n{{ $ctrl.timeAgo(gallery.live_at) }}\n</time>\n<span ng-cloak>\n{{gallery.original_site}}\n</span>\n</span>\n</a>\n</div>\n<a class='content-module-link' ng-click='$ctrl.hideModuleContent = true' ng-hide='$ctrl.hideModuleContent'>\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewbox=\"0 0 32 32\">\n    <g fill=\"none\" fill-rule=\"evenodd\" transform=\"matrix(0 -1 -1 0 32 32)\">\n        <rect width=\"31\" height=\"31\" x=\".5\" y=\".5\" stroke=\"#0D74CF\" rx=\"15.5\"></rect>\n        <path fill=\"#0D74CF\" d=\"M18 17.5L14.5 21 13 19.5l3.5-3.5-3.5-3.5 1.5-1.5 5 5-1.5 1.5z\"></path>\n    </g>\n</svg>\n\n<span class='link-blue'>\nLess {{ $ctrl.moduleContent.title }}\n</span>\n</a>\n</div>\n</div>\n<rv-custom-ad ad='$ctrl.pubAd' class='custom-ad module-ad' ng-if='$ctrl.showAd'></rv-custom-ad>\n</div>\n</div>")}]),angular.module("rivals").directive("rvGalleryPreviewUpsell",["userPaths",function(e){return{restrict:"E",scope:{image:"=",imagesCount:"=",subscribePath:"=",currentSiteName:"="},templateUrl:"media/rvGalleryPreviewUpsell.html",link:function(t){t.signInPath=e.signInPath,t.getProspects=function(e){var t=[];return _.each(e.prospects,function(e){t.push(e.data.full_name)}),t.join(", ")}}}}]),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvMyForecast.html","<div class='forecast' ng-show='$ctrl.commitment || $ctrl.currentForecast || $ctrl.prospect.can_forecast'>\n<div class='forecast-subtitle' ng-class='{ &#39;committed&#39;: $ctrl.commitment }'>\n{{$ctrl.subtitle}}\n</div>\n<div class='my-forecast-container'>\n<img ng-class='{&#39;unlikely-logo&#39;: $ctrl.currentForecast.no_longer_likely}' ng-if='$ctrl.currentForecast' ng-src='{{$ctrl.teamLogo}}'>\n<div class='percentage' ng-if='$ctrl.currentForecast.no_longer_likely'>\nUnlikely\n</div>\n<div ng-cloak ng-if='!$ctrl.commitment'>\n<div class='make-forecast' ng-class='$ctrl.currentForecast ? &#39;forecast-button&#39; : &#39;no-current-forecast&#39;' ng-click='$ctrl.openForecastModal()' ng-show='$ctrl.prospect.can_forecast'>\nForecast\n</div>\n</div>\n<div ng-cloak ng-if='$ctrl.commitment'>\n<div ng-cloak ng-if='$ctrl.currentForecast'>\n<div class='accuracy-label correct' ng-if='$ctrl.prospect[&#39;committed_college_name&#39;] === $ctrl.currentForecast[&#39;college&#39;][&#39;short_name&#39;] &amp;&amp; !$ctrl.currentForecast.no_longer_likely'>Correct</div>\n<div class='accuracy-label wrong' ng-if='$ctrl.prospect[&#39;committed_college_name&#39;] !== $ctrl.currentForecast[&#39;college&#39;][&#39;short_name&#39;] || $ctrl.currentForecast.no_longer_likely'>Wrong</div>\n</div>\n<div class='accuracy-label none' ng-if='!$ctrl.currentForecast'>None</div>\n</div>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvMyForecast",{bindings:{prospect:"=",subtitle:"=",prospectInterests:"=",commitment:"="},templateUrl:"content/rvMyForecast.html",controller:["$scope","$rootScope","$window","forecastModalFactory","userService","userContentsService",function(e,t,n,i,r,o){function a(e){e&&(s.teamLogo=e.college.large_team_logo?e.college.large_team_logo:e.college.small_ncaaf_team_logo)}var s=this;s.$onInit=function(){r.getCurrentUserInfo().then(function(e){s.user=e.user,s.redirectPath=i.getRedirectPath(s.user)}),o.getCurrentForecast(s.prospect.id).then(function(e){s.currentForecast=_.isEmpty(e)||_.isEmpty(e.college)?null:e,a(s.currentForecast)})},s.openForecastModal=function(){i.canOpenModal(s.user)?i.openModal(s.prospect,s.prospectInterests,s.user.admin,s.currentForecast,!1):n.location.href=s.redirectPath},e.$on("myForecast:refresh",function(e,t){s.currentForecast=t,a(t)})}]})}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvNavigation.html","<li class='top-nav' ng_mouseleave='!isMobile &amp;&amp; closeTopMenu()'>\n<a ng-click='isMobile &amp;&amp; openTopMenu(navigation, $event)' ng-href='{{navigation.link}}' ng-if='!!navigation' ng-mouseover='!isMobile &amp;&amp; openTopMenu(navigation, $event)'>{{navigation.title}}</a>\n<div class='submenu-container' ng_if='!!navigation'>\n<ul class='second-nav'>\n<li ng_if='isMobile'>\n<a class='submenu-back-toggle back-caret' click='closeTopMenu()'>{{navigation.title}}</a>\n</li>\n<li class='nav-item' ng_repeat='(_, item) in navigation.items'>\n<div class='submenu-header' ng-class='{collegeSubHeader: item.group == &#39;Colleges&#39;}' ng-if='!!item.group'>{{item.group}}</div>\n<a class='forward-caret' ng-attr-rel='{{rel(item)}}' ng-attr-target='{{item.target}}' ng-attr-title='{{item.description}}' ng-click='openSubmenuOrLink(item, $event)' ng-href='{{item.link}}' ng-if='item.items' ng-mouseover='!isMobile &amp;&amp; openSubmenuOrLink(item, $event)'>{{item.title}}</a>\n<a ng-attr-rel='{{rel(item)}}' ng-attr-target='{{item.target}}' ng-attr-title='{{item.description}}' ng-href='{{item.link}}' ng-if='!item.items'>{{item.title}}</a>\n</li>\n</ul>\n<ul class='third-nav' ng_show='!!selectedSubmenu'>\n<li class='submenu-back-toggle back-caret' ng_click='closeSubmenu()'>{{ selectedName }}</li>\n<li class='nav-item' ng_repeat='(_, item) in selectedSubmenu'>\n<a ng-attr-rel='{{rel(item)}}' ng-attr-target='{{item.target}}' ng-attr-title='{{item.description}}' ng-href='{{item.link}}'>{{item.title}}</a>\n</li>\n</ul>\n</div>\n</li>")}]),function(){"use strict";angular.module("rivals").directive("rvNavigation",["responsiveService",function(e){return{restrict:"E",replace:!0,templateUrl:"content/rvNavigation.html",scope:{navigation:"<"},link:function(t,n){function i(){t.showNavDelayed&&clearTimeout(t.showNavDelayed),t.showNavDelayed=null}t.selectedSubmenu=null,t.selectedName=null,t.showNavDelayed=null,t.openTopMenu=function(e,r){e.items&&(r.preventDefault(),i(),t.showNavDelayed=setTimeout(function(){n.find(".submenu-container, .second-nav").addClass("open")},100))},t.closeTopMenu=function(){i(),n.find(".submenu-container, .second-nav, .third-nav").removeClass("open")},t.openSubmenuOrLink=function(e,i){e.items&&(i.preventDefault(),t.selectedName=e.title,t.selectedSubmenu=e.items,n.find(".second-nav").removeClass("open"),n.find(".third-nav").addClass("open"))},t.closeSubmenu=function(){n.find(".third-nav").removeClass("open"),n.find(".second-nav").addClass("open")},t.rel=function(e){var t=[];return 1===e.nofollow&&t.push("nofollow"),1===e.noreferrer&&t.push("noreferrer"),t.join(" ")},e.subscribeScopeToResizeEvents(t,function(e,n){t.isMobile="mobile-large"==n.breakpoint||"mobile-small"==n.breakpoint})}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvNewsTicker.html","<div class='article-list' ng-class='{&#39;not-profile&#39;: !$ctrl.profilePage}'>\n<div class='article' ng-if='$ctrl.profilePage' ng-repeat='content in $ctrl.contents | limitTo: $ctrl.numArticlesShown'>\n<a class='image-news-feed-container' href='{{$ctrl.viewLink(content)}}'>\n<div class='image-news-feed' style='background-image: url({{content.thumbnail_url}})'></div>\n</a>\n<div class='byline'>\n<div class='site'>\n<div class='premium-icon' ng-if='content.premium'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n{{content.site_name}}\n</div>\n<a class='headline' ng-cloak ng-href='{{$ctrl.viewLink(content)}}' ng-if='!$ctrl.isMobile'>\n{{content.title | ellipsifyString: $ctrl.newsFeedTitleCharacterLimit}}\n</a>\n<a class='headline' ng-cloak ng-href='{{$ctrl.viewLink(content)}}' ng-if='$ctrl.isMobile'>\n{{content.title | ellipsifyString: $ctrl.newsFeedTitleMobileCharacterLimit}}\n</a>\n<div class='date-row'>\n<time datetime='{{content.live_at}}'>{{$ctrl.timeAgo(content.live_at)}}</time>\n</div>\n</div>\n</div>\n<div class='btn-gradient' ng-click='$ctrl.loadMore()' ng-hide='$ctrl.numArticlesShown &gt;= $ctrl.contents.length' ng-if='$ctrl.profilePage'>\n<div class='text'>Load More</div>\n</div>\n<div class='article' ng-class='{&#39;tweet&#39;: content.type == &#39;Tweet&#39;}' ng-if='!$ctrl.profilePage' ng-repeat='content in $ctrl.contents'>\n<div class='tweet-content' ng-if='content.type === &quot;Tweet&quot;'>\n<span>\n<div class='tweet-icon'><svg id=\"Logo_FIXED\" data-name=\"Logo \u2014 FIXED\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 400 400\"><defs><style>.cls-1{fill:none;}.cls-2{fill:#1da1f2;}</style></defs><title>Twitter_Logo_Blue</title>\n<rect class=\"cls-1\" width=\"400\" height=\"400\"></rect><path class=\"cls-2\" d=\"M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23\"></path></svg></div>\n</span>\n<a href='{{content.tweet_url}}' target='_blank'>\n<div ng-bind-html='content.text_news_feed'></div>\n</a>\n</div>\n<div class='button-wrapper'>\n<a class='edit-article' ng-href='{{$ctrl.userPaths.editContentsPath(content.id)}}' ng-if='$ctrl.isPublisher &amp;&amp; !$ctrl.isPreview &amp;&amp; content.type != &quot;Tweet&quot;'>Edit</a>\n</div>\n<a class='image-news-feed-container' href='{{$ctrl.viewLink(content)}}' ng-if='content.type != &quot;Tweet&quot;'>\n<div class='image-news-feed' style='background-image: url({{content.hero_desktop_url}})'></div>\n</a>\n<div class='byline ticker-article' ng-if='content.type != &quot;Tweet&quot;'>\n<div class='icons-row'>\n<div class='premium-icon' ng-if='content.premium'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n<div class='icon-divider' ng-if='content.premium'></div>\n<div class='forum-icon' ng-if='$ctrl.forumThread(content.content_type)'><svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 15 14.77\"><defs><style>.cls-1{fill:#4a545c;}</style></defs><title>icons_forumtype_frontpage_ticker</title>\n<path class=\"cls-1\" d=\"M0,0H15V11.08H10.63L8.06,14.77l-2.9-3.69H0V0ZM0,2.5v2H15v-2H0ZM0,6.75v2H15v-2H0Z\"></path></svg>\n</div>\n<div class='link-icon' ng-if='$ctrl.link(content.content_type)'><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewbox=\"0 0 16 12.2\" enable-background=\"new 0 0 16 12.2\" xml:space=\"preserve\">\n  <path id=\"XMLID_228_\" fill=\"#0A4EA3\" d=\"M9.1,8.8C8.3,10,7,10.7,5.5,10.7c-2.4,0-4.3-1.9-4.3-4.3s1.9-4.3,4.3-4.3\n      c1.4,0,2.6,0.7,3.4,1.7h1.2C9.2,2.3,7.5,1.2,5.5,1.2c-2.9,0-5.3,2.4-5.3,5.3s2.4,5.3,5.3,5.3c2,0,3.8-1.2,4.7-2.9H9.1z\"></path>\n  <polygon id=\"XMLID_229_\" fill=\"#0A4EA3\" points=\"16.2,6.1 13.8,3.7 13.8,6.2 5.8,6.2 5.8,7.2 13.8,7.2 13.8,8.6 	\"></polygon>\n</svg>\n</div>\n<div class='icon-divider' ng-if='$ctrl.forumThread(content.content_type) || $ctrl.link(content.content_type)'></div>\n<span ng-show='content.site.name == $ctrl.siteName'>{{ content.author_name }}</span>\n<span ng-show='content.site.name != $ctrl.siteName'>{{ content.site.name.replace('.com', '') }}</span>\n</div>\n<a class='headline' ng-cloak ng-href='{{$ctrl.viewLink(content)}}' ng-if='$ctrl.isTablet'>\n{{ content.title | ellipsifyString: $ctrl.newsFeedTitleMobileCharacterLimit }}\n</a>\n<a class='headline' ng-cloak ng-href='{{$ctrl.viewLink(content)}}' ng-if='!$ctrl.isTablet'>{{ content.title }}</a>\n<div class='date-row'>\n<time datetime='{{content.live_at}}'>{{$ctrl.timeAgo(content.live_at)}}</time>\n</div>\n</div>\n</div>\n</div>");
}]),function(){"use strict";angular.module("rivals").component("rvNewsTicker",{templateUrl:"content/rvNewsTicker.html",bindings:{contents:"<",prospectId:"=",profilePage:"=",isPublisher:"=",isPreview:"=",referralCode:"=",team:"=",siteName:"@"},controller:["$scope","$http","contentHelpers","moment","newsFeedTitleCharacterLimit","newsFeedTitleMobileCharacterLimit","responsiveService","userPaths","responseHandler",function(e,t,n,i,r,o,a,s,l){var c=this,u=5;c.userPaths=s,c.numArticlesShown=u,c.newsFeedTitleCharacterLimit=r,c.newsFeedTitleMobileCharacterLimit=o,this.$onInit=function(){if(angular.isDefined(c.prospectId)){var e=s.apiV1ProspectNewsPath(c.prospectId);return t.get(e).then(l.handleSuccess,l.handleErrors).then(function(e){c.contents=e})}},c.forumThread=function(e){return n.isForumThread(e)},c.link=function(e){return n.isLink(e)},c.timeAgo=function(e){return n.timeAgo(e)},c.loadMore=function(){c.numArticlesShown=c.numArticlesShown+u},c.viewLink=function(e){if(e){var t=s.contentsPath.replace("slug",e.slug);return c.referralCode&&(t+=c.referralCode),t}},a.subscribeScopeToResizeEvents(e,function(e,t){c.isMobile="mobile-large"===t.breakpoint||"mobile-small"===t.breakpoint,c.isTablet="tablet"===t.breakpoint})}]})}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvProspectProfileHover.html","<div class='prospect-hover prospect-profile'>\n<div class='hover-flex'>\n<div class='hover-arrow'></div>\n<div class='hover-card'>\n<rv-prospect-profile is_prospect_card='true' prospect_id='prospectId'></rv-prospect-profile>\n</div>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").directive("rvProspectProfileHover",function(){return{restrict:"E",scope:{prospectId:"="},templateUrl:"content/rvProspectProfileHover.html"}})}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvProspectTarget.html","<div class='prospect-target'>\n<div class='prospect-information'>\n<img class='prospect-profile-picture' ng-if='$ctrl.prospect[&#39;profile_image_url&#39;]' ng-src='{{$ctrl.prospect[&quot;profile_image_url&quot;]}}'>\n<div class='prospect-profile-picture no-image' ng-if='!$ctrl.prospect[&#39;profile_image_url&#39;]'></div>\n<div class='prospect-profile-information'>\n<div class='name' ng-click='$ctrl.prospectClickEvent()'>\n<div class='first-name'>{{ $ctrl.prospect[\"first_name\"] }}</div>\n<div class='last-name'>{{ $ctrl.prospect[\"last_name\"] }}</div>\n</div>\n<div class='tactical-information'>\n<div class='rivals-stars'>\n<rv-stars num-stars='$ctrl.prospect[&quot;stars&quot;]'></rv-stars>\n</div>\n<div class='position'>{{ $ctrl.prospect[\"position_group_abbreviation\"] }}</div>\n</div>\n</div>\n</div>\n<div class='ranking-information'>\n<div class='ranking'>\n<div class='ranking-position'>{{ $ctrl.prospect['rivals_rating'] }}</div>\n<div class='ranking-title rivals'></div>\n</div>\n<div class='ranking'>\n<div class='ranking-position'>{{ $ctrl.prospect['national_rank'] || '-' }}</div>\n<div class='ranking-title'>NATL</div>\n</div>\n<div class='ranking'>\n<div class='ranking-position'>{{ $ctrl.prospect['position_rank'] || '-' }}</div>\n<div class='ranking-title'>POS</div>\n</div>\n<div class='ranking'>\n<div class='ranking-position'>{{ $ctrl.prospect['state_rank'] || '-' }}</div>\n<div class='ranking-title'>ST</div>\n</div>\n</div>\n<div class='dividing-line'></div>\n<div class='prospect-forecast-spread'>\n<div class='colleges-list' ng-class='{&#39;three-colleges&#39;: $ctrl.prospect[&#39;forecast_spread&#39;].length == 3}'>\n<div class='college' ng-repeat='college in $ctrl.prospect[&quot;forecast_spread&quot;]'>\n<img class='college-logo' ng-src='{{college[&quot;logo&quot;]}}'>\n<div class='percentage' ng-class='{&#39;active-site&#39;: $ctrl.collegeName == college[&#39;name&#39;]}'>{{ college['percentage'] }}</div>\n</div>\n</div>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvProspectTarget",{bindings:{prospect:"=",collegeName:"="},templateUrl:"content/rvProspectTarget.html",controller:["googleAnalyticsFactory","$window",function(e,t){var n=this;n.prospectClickEvent=function(){var i=n.prospect.first_name+" "+n.prospect.last_name;e.sendEvent("targetListInteraction","prospect profile view",i),t.location.href=n.prospect.url}}]})}(),function(){"use strict";angular.module("rivals").directive("rvSchoolOffers",function(){return{restrict:"E",scope:{sport:"@",year:"@",selectedSport:"="},template:'<rv-sortable-table selected-sport="selectedSport" sport="sport" year="year" subject="subject" categories="categories">',link:function(e){e.subject="offers",e.categories=[{visibleName:"Name",name:"name","class":"player-name-offers",dataType:"link",suppress_prospect_image:!0},{visibleName:"Pos",name:"position","class":"pos",sortable:!0,dataType:"text"},{visibleName:"Stars",name:"stars","class":"stars",sortable:!0,dataType:"stars"},{visibleName:"RR",name:"rating","class":"rating",sortable:!0,dataType:"text"},{visibleName:"Ht",name:"height","class":"",dataType:"height"},{visibleName:"Wt",name:"weight","class":"",dataType:"text"},{visibleName:"Hometown",name:"hometown","class":"hometown",dataType:"text"},{visibleName:"Rank",name:"rank","class":"rank-offers",dataType:"rank"},{visibleName:"Commit Status",name:"school","class":"school-name-prospects",dataType:"school"}]}}})}.call(this),function(){"use strict";angular.module("rivals").directive("rvSchoolVisits",function(){return{restrict:"E",scope:{sport:"@",year:"@",collegeId:"@",selectedSport:"="},template:'<rv-sortable-table selected-sport="selectedSport" sport="sport" year="year" subject="subject" categories="categories">',link:function(e){e.subject="visits",e.categories=[{visibleName:"Name",name:"name","class":"player-name-visits",dataType:"link",suppress_prospect_image:!0},{visibleName:"Pos",name:"position","class":"pos",dataType:"text"},{visibleName:"Stars",name:"stars","class":"stars",sortable:!0,dataType:"stars"},{visibleName:"RR",name:"rating","class":"rating",sortable:!0,dataType:"text"},{visibleName:"Ht",name:"height","class":"",dataType:"height"},{visibleName:"Wt",name:"weight","class":"",dataType:"text"},{visibleName:"Visits to school",name:"visitDates","class":"visit-date",sortable:!1,dataType:"visit"},{visibleName:"Commit Status",name:"school","class":"school-name-prospects",dataType:"school"}]}}})}.call(this),function(){"use strict";angular.module("rivals").component("rvShareLinks",{bindings:{collapsed:"@",printUrl:"@",siteName:"@",prospectId:"@",isProfile:"@"},templateUrl:"rvShareLinks.html",controller:["$window","sharingService","googleAnalyticsFactory","userPaths",function(e,t,n,i){var r=this;r.$onInit=function(){r.open=!1,r.baseSiteUrl=i.siteUrl("rivals")},r.openShareWindow=function(n){var i=e.location.href;r.isProfile!==!0&&"true"!==r.isProfile||r.shareProspectAnalyticsTrigger(n),"facebook"===n?t.shareFacebook(i):"twitter"===n?t.shareTwitter(i):"reddit"===n?t.shareReddit(i):"embed"===n&&t.showEmbed(r.prospectId,r.baseSiteUrl)},r.buildEmailLink=function(){var n="Check out this article from "+r.siteName;return t.emailLink(n,e.location.href)},r.toggleShareLinks=function(){r.open=!r.open,!r.open||r.isProfile!==!0&&"true"!==r.isProfile||n.sendEvent("shareProspectInteraction","share menu opened from prospect profile page",null)},r.isOpen=function(){return!r.collapsible()||r.open},r.collapsible=function(){return r.collapsed===!0||"true"===r.collapsed},r.shareProspectAnalyticsTrigger=function(e){n.sendEvent("shareProspectInteraction",e+" clicked on prospect profile page",r.prospectId)}}]})}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvSidebarFanFuturecastStats.html","<div class='fan-futurecast-sidebar'>\n<div class='sidebar-title'>My Fan Futurecasts</div>\n<div class='my-fan-futurecast-scores' ng-if='$ctrl.loading'>\n<div class='spinner'></div>\n</div>\n<div class='my-fan-futurecast-scores' ng-if='!$ctrl.loading &amp;&amp; !$ctrl.data'>\nUnable to load user data.\n</div>\n<div class='my-fan-futurecast-scores' ng-if='!$ctrl.loading &amp;&amp; $ctrl.data'>\n<div class='header-row' ng-class='$ctrl.isNational ? &quot;national&quot; : &quot;subdomain&quot;'>\n<div class='year'></div>\n<div class='score'>Score</div>\n<div class='accuracy'>Acc</div>\n<div class='rank-title-row'>\nRank\n<div class='subdomain-rank-title' ng-if='!$ctrl.isNational'>\n<div>NATIONAL</div>\n<div class='subdomain-school-name' ng-mouseleave='$ctrl.showNameHover = false' ng-mouseover='$ctrl.showNameHover = true'>\n{{ $ctrl.siteName }}\n<div class='tooltip' ng-show='($ctrl.fullSiteName.length &gt; 14) &amp;&amp; $ctrl.showNameHover'>\n{{ $ctrl.fullSiteName }}\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='statistic-row' ng-class='$ctrl.isNational ? &quot;national&quot; : &quot;subdomain&quot;' ng-repeat='data in $ctrl.data'>\n<div class='year'>{{ data['year'] == 'all' ? \"life\" : data['year'] }}</div>\n<div class='score'>{{ data['score'] }}</div>\n<div class='accuracy'>{{ data['accuracy'] }}</div>\n<div class='split-ranks' ng-if='!$ctrl.isNational'>\n<div class='inner-rank'>{{ data['national_rank'] }}</div>\n<div class='inner-rank'>{{ data['site_rank'] }}</div>\n</div>\n<div class='single-rank' ng-if='$ctrl.isNational'>{{ data['national_rank'] }}</div>\n</div>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvSidebarFanFuturecastStats",{bindings:{user:"=",site:"=",isNational:"="},templateUrl:"content/rvSidebarFanFuturecastStats.html",controller:["$scope","userService","userContentsService","$filter",function(e,t,n,i){var r=this;r.$onInit=function(){r.data=null,r.loading=!0,r.showNameHover=!1,r.formatSiteName(r.site.name),r.getUserStatistics()},r.formatSiteName=function(e){e.includes(".rivals.com")?r.fullSiteName=e.replace(".rivals.com",""):r.fullSiteName=e.replace(".com",""),r.siteName=i("ellipsifyString")(r.fullSiteName,14)},r.getUserStatistics=function(){var e=r.isNational?null:r.site.id;n.getFanFuturecastStats(r.user,e).then(function(e){r.data=e,r.loading=!1})}}]})}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvSlidingArticle.html","<div class='sliding-article-display-container' ng-class='{&#39;highlighted-article&#39;:  $ctrl.programmingTextHover || $ctrl.selectedId == $ctrl.article.id}' ng-click='$ctrl.itemClick()' ng-mouseenter='$ctrl.slideUp()' ng-mouseleave='$ctrl.slideDown()'>\n<div class='gradient-layer'></div>\n<a class='edit-article' ng-href='{{ $ctrl.editLink($ctrl.article) }}' ng-if='!$ctrl.isPreview &amp;&amp; $ctrl.isPublisher'>Edit</a>\n<a class='article-link' ng-href='{{$ctrl.viewLink($ctrl.article)}}{{ $ctrl.gaSource ? &quot;?ga_source=&quot; + $ctrl.gaSource : &quot;&quot; }}'>\n<div class='hoverable-details-wrapper top' id='{{ $ctrl.article.id }}'>\n<div class='top-details'>\n<div class='animated-container' ng-cloak>\n<div class='title' ng-cloak>\n{{ $ctrl.article.title }}\n</div>\n<div class='byline'>\n<div class='forum-icon-white' ng-if='$ctrl.forumThread($ctrl.article.content_type)'></div>\n<div class='link-icon-white' ng-if='$ctrl.link($ctrl.article.content_type)'></div>\n<div class='premium-icon-white' ng-if='$ctrl.article.kind === &quot;premium&quot; || $ctrl.article.premium'>\n<svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg>\n</div>\n<span ng-cloak ng-if='!$ctrl.crossViewArticle'>\n{{ $ctrl.article.author_name }}\n</span>\n<span ng-cloak ng-if='$ctrl.crossViewArticle'>\n{{ $ctrl.article.site_name }}\n</span>\n&bull;\n<time datetime='{{$ctrl.article.live_at}}' ng-cloak>\n{{ $ctrl.timeAgo($ctrl.article.live_at) }}\n</time>\n</div>\n<div class='stats' ng-if='$ctrl.trending'>\n<span class='views-icon-white'></span>\n<span class='view-count' ng-cloak>\n{{ $ctrl.article.view_count }}\n</span>\n</div>\n<div class='summary' ng-cloak></div>\n<div class='hidden-summary'>\n{{ $ctrl.article.summary }}\n</div>\n</div>\n</div>\n</div>\n</a>\n<div class='image-4-3-container'>\n<img class='image-4-3' ng-if='$ctrl.hero' ng-src='{{ $ctrl.article.headline_primary_url }}'>\n<img class='image-4-3' ng-if='!$ctrl.hero' ng-src='{{ $ctrl.article.hero_desktop_url }}'>\n</div>\n</div>\n<div class='summary-container' ng-if='$ctrl.hero'>\n<a alt='$ctrl.article.title' class='clickable-summary' ng-href='{{ $ctrl.viewLink($ctrl.article) }}{{ $ctrl.gaSource ? &quot;?ga_source=&quot; + $ctrl.gaSource : &quot;&quot; }}'>\n<div class='summary' ng-cloak>\n{{ $ctrl.article.summary }}\n</div>\n</a>\n</div>\n<div class='panel-programming-label' ng-show='$ctrl.isProgrammed &amp;&amp; !$ctrl.programmingTextHover'>\n<div class='short-program-text'>\nP\n</div>\n</div>\n<div class='panel-programming-label hover' ng-show='$ctrl.isProgrammed &amp;&amp; ($ctrl.programmingTextHover || $ctrl.selectedId == $ctrl.article.id)'>\n<div class='long-program-text' ng-if='!$ctrl.programmingExpiration'>\nProgrammed\n</div>\n<div class='long-program-text' ng-if='$ctrl.programmingExpiration'>\nProgram expires {{ $ctrl.programmingExpiration | timestampToDate }}\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvSlidingArticle",{templateUrl:"content/rvSlidingArticle.html",restrict:"E",bindings:{article:"<",hero:"<",forumThread:"<",gaSource:"<",link:"<",trending:"<",siteId:"<",isPublisher:"<",viewLink:"<",isPreview:"<",selectedId:"<",timeAgo:"<"},controller:["$scope","$element","userPaths","$document","googleAnalyticsFactory",function(e,t,n,i){var r=this;r.$onInit=function(){r.isPreview&&(r.viewLink=null,r.programmingTextHover=!1)},r.$onChanges=function(){r.hero&&r.setupSummary()},i.ready(function(){r.hero||r.setupSummary()}),e.$watch("article",function(e){e&&(r.imageUrl=r.hero?r.article.headline_primary_url:r.article.hero_desktop_url,r.crossViewArticle=r.siteId!==r.article.site_id,r.isPreview&&(r.isProgrammed=_.include(r.article.programming[0],r.siteId),r.programmingExpiration=r.article.programming[0][1]))}),r.editLink=function(e){return e?n.siteUrl(e.site.short_name)+"/publishing/contents/"+e.id+"/edit":void 0},r.setupSummary=function(){if(r.article){r.wrapper=t.find("#"+r.article.id),r.animatedContainer=r.wrapper.find(".animated-container");var e=r.wrapper.find(".summary"),n=r.wrapper.find(".hidden-summary");0===e.text().length&&(r.height=n.height(),e.text(r.article.summary),r.bottomAdjustment=12+(e.height()-n.height()),r.animatedContainer.css({bottom:-(r.height+r.bottomAdjustment)+"px"}))}},r.slideUp=function(){r.isPreview&&(r.programmingTextHover=!0),r.article&&r.animatedContainer.css({bottom:"0",transition:"bottom 0.3s linear"})},r.slideDown=function(){r.isPreview&&(r.programmingTextHover=!1),r.article&&r.animatedContainer.css({bottom:-(r.height+r.bottomAdjustment)+"px",transition:"bottom 0.3s linear"})},r.itemClick=function(){e.$root.$broadcast("selectedBox",r.article)}}]})}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvSlidingGallery.html","<div class='sliding-article-display-container sliding-gallery' ng-click='$ctrl.showGalleryModal()' ng-mouseenter='$ctrl.slideUp()' ng-mouseleave='$ctrl.slideDown()'>\n<div class='gradient-layer'></div>\n<a class='edit-article' href='/publishing/media/galleries/{{$ctrl.gallery.id}}/edit' ng-if='$ctrl.isPublisher'>Edit</a>\n<div class='hoverable-details-wrapper top' id='{{ $ctrl.gallery.id }}'>\n<div class='top-details' ng-cloak>\n<div class='animated-container'>\n<div class='title' ng-if='$ctrl.isLargeGallery == false'>\n<div class='premium-icon-white' ng-if='$ctrl.gallery.premium'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n{{ $ctrl.gallery.name }}\n</div>\n<div class='title large' ng-if='$ctrl.isLargeGallery == true'>\n<div class='premium-icon-white' ng-if='$ctrl.gallery.premium'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n{{ $ctrl.gallery.name }}\n</div>\n<div class='date-count'>\n<div class='gallery-icon'></div>\n{{ $ctrl.gallery.live_at | timestampToDate }} - {{ $ctrl.gallery.images_count }} photos\n</div>\n<div class='summary'>{{ $ctrl.gallery.summary }}</div>\n</div>\n</div>\n</div>\n<div class='image-4-3-container'>\n<div class='image-4-3' style='background-image: url({{$ctrl.imageUrl}})'></div>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvSlidingGallery",{templateUrl:"content/rvSlidingGallery.html",bindings:{gallery:"<",isPublisher:"<",isLargeGallery:"<"},controller:["$scope","mediaModalService","$document",function(e,t,n){var i=this;i.$onInit=function(){i.imageUrl=i.gallery.images[0].gallery_preview_url},n.ready(function(){var e=n.find("#"+i.gallery.id);i.animatedContainer=e.find(".animated-container"),i.height=e.find(".summary").height(),i.animatedContainer.css({bottom:-(i.height+12)+"px"})}),i.showGalleryModal=function(){i.gallery&&t.showGalleryModal(i.gallery.id)},i.slideUp=function(){i.animatedContainer.css({bottom:"0",transition:"bottom 0.3s linear"})},i.slideDown=function(){i.animatedContainer.css({bottom:-(i.height+12)+"px",transition:"bottom 0.3s linear"})}}]})}.call(this),function(){"use strict";angular.module("rivals").directive("rvStars",function(){return{restrict:"E",scope:{numStars:"="},template:"<span class='stars' ng-repeat='star in range(numStars)'><i class='star-on' /></span><span class='stars' ng-repeat='star in range(5 - numStars)'><i class='star-off' /></span>",link:function(e){e.range=function(e){return _.times(e)}}}})}.call(this),function(){"use strict";angular.module("rivals").directive("rvStateRanking",["$q","$window","moment",function(e,t,n){return{restrict:"E",template:'<rv-sortable-table selected-sport="selectedSport" year="year" subject="subject" categories="categories" kind="kind" list-design="true">',scope:{state:"@",year:"@",prospects:"@",kind:"@"},link:function(t){t.subject="state_rankings",t.categories=[{visibleName:"#",name:"rank","class":"rank",dataType:"rank"},{visibleName:"Name",name:"name","class":"player-name-prospects",dataType:"link"},{visibleName:"Pos",name:"position_abbreviation","class":"position",dataType:"text"},{visibleName:"Location","class":"location-prospects",dataType:"breakText",textOne:"hometown",textTwo:"highschool"},{visibleName:"Ht",name:"height","class":"height",dataType:"height"},{visibleName:"Wt",name:"weight","class":"weight",dataType:"text"},{visibleName:"Commit Status",name:"school","class":"school-name-prospects",dataType:"school"}];var i=[];t.year=t.year||n().format("YYYY");var r=JSON.parse(t.prospects),o=[];r.map(function(e){return e=JSON.parse(e),e.name=e.first_name+" "+e.last_name,e.position=e.position_group_abbreviation,e.rank=e.ordinality,e.commit_date=n(e.commit_date).format("MM/DD/YY"),o.push(e),e}),o.sort(function(e,t){return e.ordinality-t.ordinality}),e.all(i).then(function(){t.selectedSport={state_rankings:o,kind:t.kind}})}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvSurveyMonkey.html","<div class='survey-monkey' ng-click='$ctrl.showSurvey()' ng-if='$ctrl.surveyUrl &amp;&amp; $ctrl.visible' ng-style='{&#39;background-color&#39;: &#39;{{$ctrl.primaryColor}}&#39;}'>\nGive Feedback\n<div class='tab-dismiss' ng-click='$ctrl.dismissSurveyTab($event)'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvSurveyMonkey",{bindings:{siteName:"=",surveyUrl:"=",primaryColor:"=",secondaryColor:"="},templateUrl:"content/rvSurveyMonkey.html",controller:["$scope","$window","$uibModal","cookies","responsiveService",function(e,t,n,i,r){var o=this;o.$onInit=function(){o.cookie=o.siteName+"-"+o.getSurveyId(),o.visible=!i.get(o.cookie)},o.showSurvey=function(){o.hideSurveyTab(),o.isMobile?t.open(o.surveyUrl,"_blank"):n.open({templateUrl:"modals/surveyMonkeyModal.html",controller:"surveyMonkeyModalController as ctrl",size:"sm",resolve:{ctrlScope:function(){return o}}})},o.dismissSurveyTab=function(e){o.hideSurveyTab(),e.stopPropagation()},r.subscribeScopeToResizeEvents(e,function(e,t){o.isMobile="mobile-large"==t.breakpoint||"mobile-small"==t.breakpoint}),o.hideSurveyTab=function(){o.visible=!1;var e=new Date,t=new Date(e.getFullYear()+1,e.getMonth(),e.getDate());i.set(o.cookie,!0,{expires:t})},o.getSurveyId=function(){return o.surveyUrl.split("/").pop()}}]})}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvSwipingArticle.html","<slick in_view='$ctrl.isInView($inview)' ng-if='$ctrl.slickOn' settings='$ctrl.slickConfig'>\n<div ng-repeat='currentArticle in $ctrl.articles track by $index'>\n<div class='sliding-article-display-container'>\n<div class='gradient-layer'></div>\n<img class='clickable-image' ng-cloak ng-src='{{currentArticle.headline_primary_url}}'>\n<a class='hoverable-details-wrapper top' ng-href='{{$ctrl.viewLink(currentArticle)}}{{ $ctrl.gaSource ? &quot;?ga_source=&quot; + $ctrl.gaSource : &quot;&quot; }}'>\n<div class='top-details' ng-class='$ctrl.headlineNews ? &quot;headline-news&quot; : &quot;&quot;'>\n<div class='title' ng-cloak>\n{{ currentArticle.title }}\n</div>\n<div class='byline'>\n<div class='forum-icon-white' ng-if='$ctrl.forumThread(currentArticle.content_type)'></div>\n<div class='link-icon-white' ng-if='$ctrl.link(currentArticle.content_type)'></div>\n<div class='premium-icon-white' ng-if='currentArticle.premium'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n<span ng-cloak ng-show='$ctrl.headlineNews'>\n{{currentArticle.author_name}}\n</span>\n<span ng-cloak ng-hide='$ctrl.headlineNews'>\n{{currentArticle.site.name}}\n</span>\n&bull;\n<time ng-cloak>\n{{ $ctrl.timeAgo(currentArticle.live_at) }}\n</time>\n</div>\n<div class='stats' ng-if='$ctrl.trending'>\n<div class='views-icon-white'></div>\n<span class='view-count' ng-cloak>\n{{currentArticle.view_count}}\n</span>\n</div>\n</div>\n</a>\n</div>\n<div class='mobile-summary-link-wrapper'>\n<div class='summary-container' ng-if='$ctrl.headlineNews'>\n<a class='clickable-summary' ng-alt='currentArticle.title' ng-href='{{$ctrl.viewLink(currentArticle)}}{{ $ctrl.gaSource ? &quot;?ga_source=&quot; + $ctrl.gaSource : &quot;&quot; }}'>\n<div class='summary' ng-cloak>\n{{currentArticle.summary}}\n</div>\n</a>\n</div>\n<div class='headline-nav-wrapper' ng-if='$ctrl.headlineNews &amp;&amp; currentArticle.associated_links.length &gt; 0'>\n<div class='headline-mobile-links-wrapper'>\n<span ng-repeat='link in currentArticle.associated_links'>\n<a class='associated-link' ng-href='{{link.url}}'>\n<span class='link-blue' ng-cloak>\n{{ link.display_text }}\n</span>\n</a>\n</span>\n</div>\n</div>\n</div>\n</div>\n</slick>")}]),function(){"use strict";angular.module("rivals").component("rvSwipingArticle",{template:'<div ng-include="getTemplate()">',restrict:"E",bindings:{articles:"<",galleries:"<",images:"<",headlineNews:"<",forumThread:"<",trending:"<",link:"<",viewLink:"<",isMediaPage:"<",gaSource:"<"},controller:["$element","mediaModalService","$scope","$timeout","contentHelpers",function(e,t,n,i,r){function o(){s.slick&&s.slick.slickPause()}function a(){s.slick&&s.slick.slickPlay()}var s=this;s.swiped=!1;var l=7,c=0;n.getTemplate=function(){return s.images?"content/rvSwipingImages.html":s.galleries?"content/rvSwipingGallery.html":"content/rvSwipingArticle.html"},s.$onInit=function(){s.reinit(),s.slickOn=!0},s.$onChanges=function(){(s.trending||s.headlineNews)&&s.onBindingLoad(s.reload)},s.reload=function(){s.slickOn=!1,i(s.finishReload,100)},s.finishReload=function(){s.slickOn=!0},s.onBindingLoad=function(e){s.images||s.articles||s.galleries?e():(c++,100>c&&_.debounce(s.onBindingLoad,1e3))},s.slickConfig={autoplay:!!s.headlineNews,infinite:!0,autoplaySpeed:6e3,slidesToShow:1,slidesToScroll:1,arrows:!1,method:{},dots:!0,dotsClass:"swiping-article-indicator",event:{init:function(t,n){s.slick=n,s.carousel=e.find("slick"),s.articleDisplay=s.carousel.find(".sliding-article-display-container").first(),s.indicator=e.find(".swiping-article-indicator")},swipe:function(){s.swiped=!0,o()}}},s.reinit=function(){s.galleries&&(s.galleries=s.galleries.slice(0,l)),s.articles&&(s.articles=s.articles.slice(0,l)),s.isInView=function(e){s.headlineNews&&!s.swiped&&(e?a():o())},s.showGalleryModal=function(e){e&&t.showGalleryModal(e.id)}},s.timeAgo=function(e){return r.timeAgo(e)}}]})}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvSwipingGallery.html","<slick in-view='$ctrl.isInView($inview)' ng-class='{&#39;gallery-module&#39;: $ctrl.isMediaPage }' settings='$ctrl.slickConfig'>\n<div ng-class='{&#39;gallery-module&#39;: $ctrl.isMediaPage }' ng-repeat='currentGallery in $ctrl.galleries track by $index'>\n<div class='sliding-article-display-container' ng-click='$ctrl.showGalleryModal(currentGallery)'>\n<div class='gradient-layer'></div>\n<div class='image-4-3-container'>\n<div class='image-4-3' style='background-image: url({{currentGallery.images[0].gallery_preview_url}})'></div>\n</div>\n<div class='hoverable-details-wrapper top'>\n<div class='top-details'>\n<div class='title' ng-cloak>\n<div class='premium-icon-white' ng-if='currentGallery.premium'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n{{ currentGallery.name }}\n</div>\n<div class='date-count'>\n<div class='gallery-icon'></div>\n{{ currentGallery.live_at | timestampToDate }} - {{ currentGallery.images_count }} photos\n</div>\n</div>\n</div>\n</div>\n</div>\n</slick>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvSwipingImages.html","<slick in-view='$ctrl.isInView($inview)' settings='$ctrl.slickConfig'>\n<div ng-repeat='image in $ctrl.images track by $index'>\n<div class='sliding-article-display-container'>\n<div class='gradient-layer'></div>\n<div class='image-4-3-container'>\n<div class='image-4-3' style='background-image: url({{image.data.large_url}})'></div>\n</div>\n<div class='hoverable-details-wrapper top'>\n<div class='top-details'>\n<div class='title' ng-cloak>\n{{ image.data.description }}\n</div>\n</div>\n</div>\n</div>\n</div>\n</slick>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvTableSelectorDropDown.html","<div class='table-filter'>\n<form>\n<select class='college-picker' id='collegeSelection' ng-change='onCollegeChange($event)' ng-if='showCollegePicker' ng-model='$parent.selectedCollege' ng-options='college.friendly_name for college in colleges'></select>\n<select class='conference-picker' id='conferenceSelection' ng-change='onConferenceChange($event)' ng-if='conference' ng-model='$parent.selectedConference' ng-options='c as c.name for c in conferences'></select>\n<select class='year-picker' id='yearSelection' ng-change='onYearChange($event)' ng-model='selectedYear' ng-options='&#39;CLASS OF &#39; + year for year in years' ng-show='years'></select>\n<select class='position-picker' id='positionSelection' ng-change='onPositionChange($event)' ng-if='position' ng-model='$parent.selectedPosition' ng-options='p as p for p in positions'></select>\n<select class='state-picker' id='stateSelection' ng-change='onStateChange($event)' ng-if='state' ng-model='$parent.selectedState' ng-options='s for s in states'></select>\n<select class='sport-picker' id='sportSelection' ng-change='onSportChange(selectedSport)' ng-if='sport != &quot;none&quot; &amp;&amp; !isBigThree' ng-model='selectedSport' ng-options='sport as (sport.name | capitalize) for sport in sports track by sport.kind'></select>\n<div class='ranklist-dropdown-picker' ng-class='hasDropdown ? &quot;official&quot; : &quot;&quot;' ng-if='isBigThree'>\n<img class='logo' src='https://cdn.rivals.com/production/assets/icons/Rivals100_150_250_Icon-8153d5e09a39a384f4fc2b626cdf828d992667072844e15949e423c9f98ed613.png'>\n<div class='prospect-rankings-title-box'>\n<rv-rivals-logo class='header-top-logo' is-horizontal='true' logo-type='{{ sport }}' ng-if='isBigThree'></rv-rivals-logo>\n<span class='prospect-rankings-name' ng-if='!isBigThree'>\n{{ listTitle | titleize }}\n</span>\n<span class='prospect-rankings-title'>\n{{ listSubtitle | titleize }}\n</span>\n</div>\n<select class='sport-in-picker' id='officialSportSelection' ng-change='onSportChange(selectedSport)' ng-if='isBigThree' ng-model='selectedSport' ng-options='sport as (sport.name | capitalize) for sport in sports track by sport.kind'></select>\n</div>\n<div class='presented-by' ng-if='isProspectRankings &amp;&amp; isFootball &amp;&amp; !(sponsorshipDisabled == 1)'>\npresented by\n<img class='sponsor-logo' src='https://cdn.rivals.com/production/assets/icons/UnderArmour_Logo-342d54cefcc79ba27337eb2c2729ef92db69d01ac58d5862a2a271c3bfbabff5.svg'>\n</div>\n</form>\n<a class='edit-link' href='/admin/lists/ranks/{{rank.id}}/edit' ng-if='canEdit'>Edit Rank List</a>\n</div>\n<div class='tabs-container' ng-if='!conference &amp;&amp; !isStateRankings'>\n<div class='sport-tab' ng-repeat='sport in sports'>\n<span ng-if='selectedSport.name === sport.name'>{{ (sport.mobileName || sport.name) | capitalize }}</span>\n<a ng-href='{{getSportUrl(sport.name)}}' ng-if='selectedSport.name !== sport.name'>{{ (sport.mobileName || sport.name) | capitalize}}</a>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").directive("rvTableSelectorDropDown",["$q","$window","siteFactory","moment","teamRankingsService","userListsFactory","rankType",function(e,t,n,i,r,o,a){return{restrict:"E",scope:{canEdit:"=",sponsorshipDisabled:"@",isProspectRankings:"@",isStateRankings:"@",isTeamRankings:"@",isCommitmentList:"@",isOfferList:"@",isPositionRankings:"@",showCollegePicker:"@",siteId:"@",sport:"@",state:"@",year:"@",type:"@",rank:"=",conference:"@",position:"@",states:"=",years:"=?",positions:"=?",onYearChangeCallback:"&?"},templateUrl:"content/rvTableSelectorDropDown.html",link:function(s){function l(){return t.location.pathname.split("/").map(function(e){return e.toLowerCase()})}function c(e){return t.location.port?t.location.hostname+":"+t.location.port+e.join("/"):t.location.hostname+e.join("/");
}if(s.sports=s.isProspectRankings?[{id:1,name:"rivals100",mobileName:"100",kind:"rivals100"},{id:2,name:"rivals150",mobileName:"150",kind:"rivals150"},{id:3,name:"rivals250",mobileName:"250",kind:"rivals250"}]:[{id:1,name:"football",kind:"football"},{id:2,name:"basketball",kind:"basketball"}],s.selectedSport=_.find(s.sports,{name:s.sport.toLowerCase()})||s.rank,s.isFootball="rivals100"===s.sport||"rivals250"===s.sport,s.isBigThree=a.isBigThree(s.sport),s.type&&(s.hasDropdown=a.hasDropdown(s.type),s.isOfficialRank=a.isOfficialRankType(s.type)),s.rank&&o.canEditList(s.rank.id).then(function(e){s.canEdit=e}),!s.years){var u=s.isProspectRankings||s.conference?Number(i().add(1,"years").format("YYYY")):Number(i().add(6,"years").format("YYYY")),d=2002;s.years=[];for(var p=d;u>=p;p++)s.years.push(String(p))}if(s.selectedYear=_.find(s.years,function(e){return e==s.year}),s.conference){var h=s.selectedSport&&s.selectedSport.name;angular.isUndefined(h)&&(h="football"),r.getConferences(s.selectedSport&&s.selectedSport.name).then(function(e){s.conferences=e.reduce(function(e,t){return"football"===h?1==t.football_division&&e.push(t):1==t.basketball_division&&e.push(t),e},[]),s.conferences.unshift({id:null,abbreviation:"all-teams",name:"All Teams"}),s.selectedConference=_.find(s.conferences,function(e){return e.abbreviation===s.conference})})}s.state&&(s.selectedState=_.find(s.states,function(e){return e.replace(" ","-").toLowerCase()===s.state.replace(" ","-").toLowerCase()})),s.position&&(s.selectedPosition=_.find(s.positions,function(e){return e===s.position})),s.onCollegeChange=function(){var e=s.selectedCollege.subdomain+"."+t.location.hostname.split(".").splice(1).join(".")+t.location.pathname;t.location.href="http://"+e},s.onYearChange=function(){if(angular.isFunction(s.onYearChangeCallback))s.onYearChangeCallback({year:s.selectedYear});else if(s.isPositionRankings)t.location.href=t.location.href.replace(/(.*\/position_rankings)((\/[A-z]+)((\/[0-9]+)(\/[A-Z]+)?)?)?/g,"$1$3/"+s.selectedYear+"$6");else{var e=t.location.pathname.split("/");"team_rankings"!=e[1]&&"state_rankings"!=e[1]?"admin"==e[1]?(e[3]||(e[3]=s.isProspectRankings?"rivals100":"football"),e[4]=s.selectedYear.replace(/ /g,"_")):(e[2]||(e[2]=s.isProspectRankings?"rivals100":"football"),e[3]=s.selectedYear):e[2]=s.selectedYear;var n=c(e);t.location.href=s.position?s.setPositionParam("http://"+n):"http://"+n}},s.onStateChange=function(){var e=l();e[2]||(e[2]="2016"),e[3]=s.selectedState.toLowerCase().split(" ").join("_");var n=c(e);t.location.href="http://"+n},s.onConferenceChange=function(){var e=l();e[2]||(e[2]="2016"),e[3]=s.selectedConference.abbreviation;var n=c(e);t.location.href="http://"+n},s.onPositionChange=function(){t.location.href=s.setPositionParam(t.location.href)},s.setPositionParam=function(e){if(s.isPositionRankings)return e.replace(/(.*\/position_rankings)((\/[A-z]+)((\/[0-9]+)(\/[A-Z]+)?)?)?/g,"$1$3$5/"+s.selectedPosition);if("ALL POSITIONS"==s.selectedPosition)return e.replace(/\?position\=([A-Z]+)/g,"");if(e.match(/position\=/))return e.replace(/position\=([A-Z]+)/g,"position="+s.selectedPosition);var t=e.match(/\?/)?"&":"?";return e+t+"position="+s.selectedPosition},s.getSportUrl=function(e){e=e.replace(/ /g,"_");var t=l();return"admin"!=t[1]?t[2]=e:t[3]=e,"http://"+c(t)},s.onSportChange=function(e){if(s.isTeamRankings){var n=t.location.pathname.split("/");n[4]||(n[4]=s.sport,n[3]||(n[3]=s.conference,n[2]||(n[2]=s.year)));var i="http://"+c(n);t.location.href=i.replace(/(.*\/team_rankings)\/(\d{4})\/([A-z,-]*)\/([A-z]*)/,"$1/$2/$3/"+e.name)}else s.isPositionRankings?t.location.href=t.location.href.replace(/(.*\/position_rankings)((\/[A-z]+)((\/[0-9]+)(\/[A-Z]+)?)?)?/g,"$1/"+e.name+"$5"):s.isProspectRankings?t.location.href=s.getSportUrl(e.kind):t.location.href=s.getSportUrl(e.name)},s.selectedSport&&(s.listTitle=s.selectedSport.name),s.listSubtitle="Ranking","true"===s.isProspectRankings&&(s.listSubtitle="Prospect Ranking"),e.resolve(n.getSites()).then(function(e){s.colleges=_.reject(e,function(e){return!e.maple_college_id}),s.selectedCollege=_.find(s.colleges,{id:Number(s.siteId)})})}}}])}.call(this),function(){"use strict";angular.module("rivals").directive("rvTeamRankings",["$q","moment","teamRankingsService",function(e,t,n){return{restrict:"E",template:'<rv-sortable-table selected-sport="selectedSport" subject="subject" categories="categories" year="year">',scope:{year:"@",conference:"@",sport:"@"},link:function(i){i.subject="team_rankings",i.categories=[{visibleName:"Rank",name:"rank","class":"rank-rankings",sortable:!0,dataType:"rank"},{visibleName:"",name:"logo","class":"logo",dataType:"logo"},{visibleName:"School",name:"school_name","class":"school-name-rankings",sortable:!0,dataType:"school"},{visibleName:"Total",name:"total","class":"total-stars",sortable:!0,dataType:"text"},{visibleName:"5 Stars",name:"fives","class":"total-stars",sortable:!0,dataType:"text"},{visibleName:"4 Stars",name:"fours","class":"total-stars",sortable:!0,dataType:"text"},{visibleName:"3 Stars",name:"threes","class":"total-stars",sortable:!0,dataType:"text"},{visibleName:"Avg",name:"average","class":"total-stars",sortable:!0,dataType:"text"},{visibleName:"Points",name:"points","class":"points",sortable:!0,dataType:"text"}];var r=[];i.year=i.year||t().format("YYYY"),r.push(n.getRankings(i.year,i.conference,i.sport)),e.all(r).then(function(e){e.length>0?(i.selectedSport={},i.selectedSport.team_rankings=e[0]):i.noResults=!0})}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvTeamTargetList.html","<div class='target-list-container'>\n<div class='target-list-title'>\n<div class='title-logo'></div>\n<div class='title-text'>{{$ctrl.years[$ctrl.activeSport]}} Top Targets</div>\n<div class='title-help-icon' ng-mouseleave='$ctrl.showTooltip = false' ng-mouseover='$ctrl.showTooltip = true'>\n?\n<div class='tooltip' ng-show='$ctrl.showTooltip'>\n<strong>Top Targets</strong> are unsigned prospects with a recent forecast trend for {{$ctrl.school[\"short_name\"]}}.\n</div>\n</div>\n<div class='sport-toggle tablet-desktop'>\n<div class='sport-label' ng-class='{&#39;active&#39;: $ctrl.activeSport === &#39;football&#39;}' ng-click='$ctrl.toggleSport(&quot;football&quot;)'>Football</div>\n<div class='sport-label' ng-class='{&#39;active&#39;: $ctrl.activeSport === &#39;basketball&#39;}' ng-click='$ctrl.toggleSport(&quot;basketball&quot;)'>Basketball</div>\n</div>\n</div>\n<div class='sport-toggle mobile'>\n<div class='sport-label' ng-class='{&#39;active&#39;: $ctrl.activeSport === &#39;football&#39;}' ng-click='$ctrl.toggleSport(&quot;football&quot;)'>Football</div>\n<div class='sport-label' ng-class='{&#39;active&#39;: $ctrl.activeSport === &#39;basketball&#39;}' ng-click='$ctrl.toggleSport(&quot;basketball&quot;)'>Basketball</div>\n</div>\n<div class='target-list' ng-if='$ctrl.loading'>\n<div class='spinner'></div>\n</div>\n<div class='target-list no-prospects' ng-if='!$ctrl.loading &amp;&amp; $ctrl.prospects.length === 0'>\nNo eligible {{ $ctrl.activeSport }} prospects.\n</div>\n<div ng-if='!$ctrl.loading &amp;&amp; $ctrl.prospects.length &gt; 0'>\n<div class='target-list mobile-only'>\n<div class='prospect-container' ng-class='{&#39;end-of-row&#39;: ($index == 4) }' ng-repeat='prospect in $ctrl.prospects'>\n<rv-prospect-target college-name='$ctrl.school[&quot;short_name&quot;]' prospect='prospect'></rv-prospect-target>\n</div>\n</div>\n<div class='target-list desktop'>\n<div class='prospect-container' ng-class='{&#39;end-of-row&#39;: ($index == 4) }' ng-repeat='prospect in $ctrl.firstRow'>\n<rv-prospect-target college-name='$ctrl.school[&quot;short_name&quot;]' prospect='prospect'></rv-prospect-target>\n</div>\n</div>\n<div class='target-list desktop' ng-if='$ctrl.showingMore'>\n<div class='prospect-container' ng-class='{&#39;end-of-row&#39;: ($index == 4) }' ng-repeat='prospect in $ctrl.secondRow'>\n<rv-prospect-target college-name='$ctrl.school[&quot;short_name&quot;]' prospect='prospect'></rv-prospect-target>\n</div>\n</div>\n<div class='more-targets-row' ng-click='$ctrl.toggleViewMore()' ng-if='$ctrl.secondRow &amp;&amp; $ctrl.secondRow.length &gt; 0'>\n<div class='drop-down-icon' ng-class='$ctrl.showingMore ? &#39;up&#39; : &#39;down&#39;'></div>\n<div class='drop-down-text'>{{ $ctrl.showingMore === true ? 'Fewer' : 'More' }} Targets</div>\n</div>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvTeamTargetList",{bindings:{school:"=",years:"="},templateUrl:"content/rvTeamTargetList.html",controller:["userContentsService","googleAnalyticsFactory",function(e,t){var n=this;n.$onInit=function(){n.prospects=null,n.loading=!0,n.firstRow=null,n.secondRow=null,n.showingMore=!1,n.showTooltip=!1,n.activeSport="football",n.getProspects()},n.getProspects=function(){n.loading=!0,e.getTargetProspects(n.school.id,n.activeSport).then(function(e){n.prospects=e.data,n.firstRow=n.prospects.slice(0,5),n.showingMore=!1,n.prospects.length>5&&(n.secondRow=n.prospects.slice(5)),n.loading=!1})},n.toggleSport=function(e){n.loading===!1&&(n.activeSport=e,t.sendEvent("targetListInteraction","sport toggle",e),n.getProspects())},n.toggleViewMore=function(){n.showingMore=!n.showingMore,n.showingMore&&t.sendEvent("targetListInteraction","view more",null)}}]})}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvTopForecasts.html","<rv-forecast-logos analysts='true' commitment='false' forecasts='$ctrl.analystsForecasts' ng-if='$ctrl.analystsForecasts'></rv-forecast-logos>\n<rv-forecast-logos analysts='false' commitment='false' forecasts='$ctrl.fansForecasts' ng-if='$ctrl.fansForecasts'></rv-forecast-logos>")}]),function(){"use strict";angular.module("rivals").component("rvTopForecasts",{bindings:{prospect:"=",forecastsReady:"="},templateUrl:"content/rvTopForecasts.html",controller:["$scope","userContentsService",function(e,t){var n=this;n.$onInit=function(){i(n.prospect.id)},e.$on("topForecasts:refresh",function(e,t){t&&"analysts"!=t||(n.analystsForecasts=[]),t&&"fans"!=t||(n.fansForecasts=[]),i(n.prospect.id,t)});var i=function(e,i){t.getTopForecasts(e,i).then(function(e){i&&"analysts"!=i||(n.analystsForecasts=e.analysts),i&&"fans"!=i||(n.fansForecasts=e.fans),n.forecastsReady=!0})}}]})}(),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvTrendingModule.html","<div class='custom-module-container' ng-hide='!$ctrl.trendingContentPresent'>\n<div class='trending-news custom-module homepage-module' ng-cloak ng-show='$ctrl.trendingContentPresent &amp;&amp; !$ctrl.trendingContentLoaded'>\n<div class='contents contents-placeholder'>\n<div class='section-header'>\nTrending\n</div><div class='content placeholder' ng-repeat='placeholder in $ctrl.placeholders'>\n<div class='spinner'></div>\n</div></div>\n</div>\n<div class='trending-news custom-module homepage-module' ng-cloak ng-show='$ctrl.trendingArticles'>\n<div class='module-wrapper'>\n<div class='section-header'>\nTrending\n</div>\n<div class='contents'><div class='content' ng-repeat='article in $ctrl.sectionContent($ctrl.trendingArticles).visible' ng-show='!$ctrl.isMobile'>\n<rv-sliding-article article='article' forum_thread='forumThread' ga-source='&quot;tm&quot;' is_publisher='isPublisher' link='link' site_id='siteId' time_ago='$ctrl.timeAgo' trending='true' view_link='$ctrl.viewLink'></rv-sliding-article>\n</div><div class='content' ng-cloak ng-if='$ctrl.isMobile'>\n<rv-swiping-article articles='$ctrl.trendingArticles' forum_thread='forumThread' ga-source='&quot;tm&quot;' link='link' trending='true' view_link='$ctrl.viewLink'></rv-swiping-article>\n</div>\n</div>\n<div class='extra-content' ng-show='!$ctrl.isMobile &amp;&amp; $ctrl.sectionContent($ctrl.trendingArticles).hidden.length &gt; 0'>\n<a class='content-module-link' ng-click='$ctrl.hideTrendingContent = false' ng-show='$ctrl.hideTrendingContent'>\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewbox=\"0 0 32 32\">\n    <g fill=\"none\" fill-rule=\"evenodd\" transform=\"rotate(90 16 16)\">\n        <rect width=\"31\" height=\"31\" x=\".5\" y=\".5\" stroke=\"#0D74CF\" rx=\"15.5\"></rect>\n        <path fill=\"#0D74CF\" d=\"M18 17.5L14.5 21 13 19.5l3.5-3.5-3.5-3.5 1.5-1.5 5 5-1.5 1.5z\"></path>\n    </g>\n</svg>\n\n<span class='link-blue'>\nMore trending\n</span>\n</a>\n<div class='hidden-content' ng-class='{&#39;last&#39;:$last, &#39;first&#39;: $first}' ng-repeat='article in $ctrl.sectionContent($ctrl.trendingArticles).hidden' ng-show='!$ctrl.hideTrendingContent'>\n<a ng-href='{{$ctrl.viewLink(article)}}'>\n<div class='content-title' ng-cloak>\n<div class='premium-icon' ng-if='article.kind === &quot;premium&quot; || article.premium'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n{{ article.title }}\n</div>\n<div class='stats'>\n<span class='views-icon-gray'></span>\n<span class='view-count' ng-cloak>\n{{ article.view_count }}\n</span>\n</div>\n<div class='byline'>\n<time datetime='{{article.live_at}}' ng-cloak>\n{{ $ctrl.timeAgo(article.live_at) }}\n</time>\n<span ng-cloak ng-show='article.site_id == siteId'>\n{{ article.author_name }}\n</span>\n<span ng-cloak ng-show='article.site_id != siteId'>\n{{ article.site_name }}\n</span>\n</div>\n</a>\n</div>\n<a class='content-module-link' ng-click='$ctrl.hideTrendingContent = true' ng-hide='$ctrl.hideTrendingContent'>\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewbox=\"0 0 32 32\">\n    <g fill=\"none\" fill-rule=\"evenodd\" transform=\"matrix(0 -1 -1 0 32 32)\">\n        <rect width=\"31\" height=\"31\" x=\".5\" y=\".5\" stroke=\"#0D74CF\" rx=\"15.5\"></rect>\n        <path fill=\"#0D74CF\" d=\"M18 17.5L14.5 21 13 19.5l3.5-3.5-3.5-3.5 1.5-1.5 5 5-1.5 1.5z\"></path>\n    </g>\n</svg>\n\n<span class='link-blue'>\nLess trending\n</span>\n</a>\n</div>\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("content/rvUserForecastBanner.html","<div class='forecast-bar' ng-if='$ctrl.showBanner'>\n<div class='forecast-logo' ng-class='$ctrl.user &amp;&amp; $ctrl.user.admin ? &#39;futurecast-logo-white&#39; : &#39;fan-futurecast-logo-white-with-rivals&#39;' ng-cloak></div>\n<div class='forecast-text' ng-if='$ctrl.prospect'>Forecast where {{$ctrl.prospect.first_name}} and all your favorite prospects will play.</div>\n<div class='forecast-text' ng-if='!$ctrl.prospect'>Forecast where your favorite prospects will play.</div>\n<div class='btn-gradient forecast-button' ng-click='$ctrl.open()' ng-if='$ctrl.canOpenModal()'>MAKE A FORECAST</div>\n<a class='btn-gradient forecast-button' ng-href='{{$ctrl.redirectPath}}' ng-if='!$ctrl.canOpenModal()'>MAKE A FORECAST</a>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvUserForecastBanner",{bindings:{prospect:"=",prospectInterests:"=",upsell:"="},templateUrl:"content/rvUserForecastBanner.html",controller:["$scope","forecastModalFactory","userPaths","userService","userContentsService",function(e,t,n,i,r){var o=this;o.$onInit=function(){i.getCurrentUserInfo().then(function(e){o.user=e.user,o.redirectPath=t.getRedirectPath(o.user),o.setShowBanner()})},o.open=function(){t.openModal(o.prospect,o.prospectInterests,o.user.admin,null,o.upsell)},o.canOpenModal=function(){return t.canOpenModal(o.user)},e.$on("myForecast:refresh",function(e,t){o.hideBanner=null!=t}),o.setShowBanner=function(){o.prospect?o.prospect.committed_college_name||!o.prospect.can_forecast?o.showBanner=!1:o.user?r.getCurrentForecast(o.prospect.id).then(function(e){o.showBanner=_.isEmpty(e)}):o.showBanner=!0:o.showBanner=!0}}]})}(),function(){"use strict";angular.module("rivals").controller("sessionPageController",["googleAnalyticsFactory",function(e){var t=this,n="Invalid username, email or password.";t.init=function(t){if(t==n)try{e.sendEvent("failedSignIn","user failed signed in")}catch(i){"ReferenceError"!==i.name?console.log(i):console.log("ga not defined")}}}])}.call(this),function(){angular.module("rivals").controller("subscribeButtonController",["googleAnalyticsFactory","$window",function(e,t){var n=this;n.init=function(e){n.subscribePath=e},n.subscribeEvent=function(){e.sendEvent("Premium Article Interaction","Subscribe",null),t.location.href=n.subscribePath}}])}.call(this),angular.module("rivals").controller("tableContainerController",["$scope","$window",function(e,t){var n=this;n.updateSortability=function(){angular.element(".table-scrollable table").width()>angular.element(".table-scrollable").width()?angular.element(".rv-table-container").hasClass("scrollable")||angular.element(".rv-table-container").addClass("scrollable"):angular.element(".rv-table-container").removeClass("scrollable")},angular.element(t).bind("resize",function(){n.updateSortability()}),n.updateSortability()}]),function(e,t,n){"use strict";e.module("rivals").controller("rvTableCtrl",["$scope","$timeout",function(e,t){this.minRows=1,this.minColumns=1,this.maxColumns=6;var i=function(){return n.size(e.table.headers)};e.addRow=function(){var r=[];n.times(i(),function(t){r.push({type:e.table.headers[t].type||"text",value:""})}),e.table.content.push(r),t(function(){e.$emit("Table.Row.Add")})},e.addCol=function(){if(!(i()>=this.maxColumns)){var r="Column "+(i()+1);e.table.headers.push({name:r,type:"text"}),n.each(e.table.content,function(e){e.push({value:"",type:"text"})}),t(function(){e.$emit("Table.Column.Add")})}}.bind(this),e.delRow=function(i,r){if(!(r.offsetX>=0||n.size(e.table.content)<=this.minRows)){var o=n.indexOf(e.table.content,i);e.table.content[o]=null,e.table.content=n.compact(e.table.content),t(function(){e.$emit("Table.Row.Delete")})}}.bind(this),e.delCol=function(i){n.size(e.table.headers)<=this.minColumns||(e.table.headers[i]=null,e.table.headers=n.compact(e.table.headers),e.table.content=n(e.table.content).map(function(e){return e[i]=null,n.compact(e)}).compact().value(),t(function(){e.$emit("Table.Column.Delete")}))}.bind(this),e.setColumnType=function(i,r){e.table.headers[i].type=r,n.each(e.table.content,function(e){e[i].type!=r&&(e[i].type=r,delete e[i].value)}),t(function(){e.$emit("Table.CloseColumnMenu")})}}])}(angular,jQuery,_),function(e,t){"use strict";e.module("rivals").directive("rvTable",["$timeout",function(n){return{restrict:"E",templateUrl:"rvTable.html",scope:{table:"=",stBlock:"=",onColAdded:"&",onRowAdded:"&"},controller:"rvTableCtrl",link:function(i,r){i.initColResizable=function(){var e=r.find("table");e.colResizable({disable:!0}),e.colResizable({liveDrag:!0,minWidth:50,draggingClass:"dragging",gripInnerHtml:'<div class="grip"></div>',onResize:i.onColResize})},i.onColResize=function(n){var r=e.element(n.currentTarget).find("tr:first th").map(function(t,n){return e.element(n).width()});t.each(i.table.headers,function(e,t){e.width=r[t]+"px"})},i.$on("Table.Column.Add",function(){r.find("table tr:first th").each(function(t,n){e.element(n).width("")}),i.onColResize({currentTarget:r}),i.initColResizable(),i.onColAdded()}),i.$on("Table.Row.Add",function(){i.onRowAdded()}),i.$on("Table.Column.Delete",function(){i.$emit("Table.CloseColumnMenu"),i.initColResizable()}),n(i.initColResizable),i.$on("Table.CloseColumnMenu",function(){r.find(".dropdown.open").removeClass("open")}),r.on("keydown","th[contenteditable], .table-title[contenteditable]",function(e){13==e.keyCode&&(e.preventDefault(),this.innerHTML=this.innerHTML.replace(/<br(?:\/)?>/gi,""))})}}}])}(angular,_),angular.module("templates").run(["$templateCache",function(e){e.put("content/universal_search/rvUniversalSearch.html","<div auto-close='outsideClick' class='search-dropdown dropdown' on-toggle='toggle(open)' uib-dropdown>\n<div class='search-dropdown-button'>\n<a class='search-icon' data-target='#' data-toggle='dropdown' uib-dropdown-toggle></a>\n</div>\n<ul class='navigation-dropdown search-box dropdown-menu' uib-dropdown-menu>\n<li>\n<form enter-key='search()'>\n<div class='search-bar'>\n<input autocomplete='off' class='search-input' name='searchText' ng-model='searchText' type='text'>\n<button class='search-button' ng-click='search()'></button>\n</div>\n</form>\n</li>\n<li class='search-results'>\n<div class='search-articles' ng-if='articles &amp;&amp; articles.length'>\n<h5>ARTICLES</h5>\n<ul class='search-article-results'>\n<li ng-repeat='article in articles'>\n<a class='article' ng-href='{{article.url}}'>\n<div class='article-heading'>\n<span class='article-byline'>\n{{timeAgo(article.live_at) | uppercase}}\n{{article.site.name | uppercase}}\n</span>\n<span class='article-title'>\n{{article.title}}\n</span>\n</div>\n<div class='summary'>\n<span>\n{{article.summary}}\n</span>\n</div>\n</a>\n</li>\n</ul>\n</div>\n<div class='search-prospects' ng-if='prospects &amp;&amp; prospects.length'>\n<h5>PROSPECTS</h5>\n<ul class='prospect-results'>\n<li ng-repeat='prospect in prospects'>\n<div class='prospect-profile'>\n<rv-prospect-profile is-prospect-card='true' prospect='prospect'></rv-prospect-profile>\n</div>\n</li>\n</ul>\n</div>\n</li>\n</ul>\n</div>")}]),function(){"use strict";angular.module("rivals").directive("rvUniversalSearch",["$timeout","userPeopleFactory","userContentsService","contentHelpers",function(e,t,n,i){return{scope:{searchText:"=?"},restrict:"E",templateUrl:"content/universal_search/rvUniversalSearch.html",link:function(r,o){r.prospectMember="Prospect",r.query=null,r.formValues={page_size:5},r.prospects=[],r.articles=[],r.timeAgo=i.timeAgo,r.$watch("searchText",function(t){r.searchThrottle&&e.cancel(r.searchThrottle),t&&t.length>3&&(r.searchThrottle=e(function(){r.search()},2e3))}),r.search=function(){t.fetchPeople(r.prospectMember,r.searchText,{page_size:5,full_prospect_profile:"true"}).then(function(e){e&&e.people&&(r.prospects=e.people)}),n.getContents(r.searchText,{page_size:5}).then(function(e){e&&e.contents&&(r.articles=e.contents)}),r.searchThrottle&&e.cancel(r.searchThrottle)},r.toggle=function(e){e&&o.find(".search-input").first().focus()}}}}])}.call(this),function(){"use strict";angular.module("rivals").factory("userContentsService",["$http","$q","userSearchParamService","userPaths","responseHandler",function(e,t,n,i,r){var o=function(e,t){var n="?";e&&(n+="search[query]="+e);var i={};if(t){for(var r in t)i["search["+r+"]"]=t[r];n+="&"+$.param(i)}return n},a=function(e,t){var i=n.buildUrl(e,t,"contents");return m(i)},s=function(t){return e.put("/publishing/breaking_news",{breaking_news:{text:t.text,url:t.url,big_font:t.big_font,site_color:t.site_color,title:t.title}}).then(r.handleSuccess,r.handleErrors)},l=function(t){return e.post(i.apiV1ContentForecastsPath,t).then(r.handleSuccess,r.handleErrors)},c=function(e){var t=i.apiV1ContentForecastsPath+"/"+e;return m(t)},u=function(e,t){var n=i.apiV1ContentTopForecastsPath+"?prospect_id="+e;return t&&(n=n+"&type="+t),m(n)},d=function(t){return e["delete"]("/publishing/breaking_news",{breaking_news:{text:t.text,url:t.url,big_font:t.big_font,site_color:t.site_color,title:t.title}}).then(r.handleSuccess,r.handleErrors)},p=function(e,t){var n=i.apiV1ContentContentsPath+o(e,t);return m(n)},h=function(e,t){if("trending"==e){var n=i.apiV1TrendingContentsPath;n=t?n+t:n}else"gallery"==e&&(n=i.apiV1GalleriesPath+"?module=true",n=t?n+t:n);return m(n)},f=function(){var e=i.apiV1TrendingContentsPath+"/chartbeat/check_data";return m(e)},m=function(t){return e.get(t).then(r.handleSuccess,r.handleUndefinedNullError)},g=function(t){var n="/api/v1/publishing/favorite_blocks.json?site_id="+t;return e.get(n).then(r.handleSuccess,r.handleErrors)},v=function(e){var t={categories:[]};return e.sort(function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}),_.each(e,function(e){var n=angular.fromJson(e.data),i=n.type;t.hasOwnProperty(i)?t[i].push(e):(t.categories.push(i),t[i]=[e])}),t.categories.sort(),t},b=function(t){var n=i.apiV1FavoriteBlocksPath;return e.post(n,t).then(r.handleSuccess,r.handleErrors)},y=function(t){return e.put("/publishing/headline_news",{headline_news:{slot:t.slot,article_id:t.article_id,program:t.program,bump:t.bump,swap:t.swap,expiration:t.expiration}}).then(r.handleSuccess,r.handleErrors)},w=function(e,t,n,i){var r=e.slice(0,t),o={visible:r,hidden:_.difference(e,r)};if(i){var a="desktop-large"==n&&o.visible.length>2,s="desktop-small"==n&&o.visible.length>1;(a||s)&&o.hidden.unshift(o.visible.pop())}return o},k=function(t,n){return e.get(i.targetListPath(t,n)).then(r.handleSuccess,r.handleErrors)},x=function(t,n){return e.get(i.apiV1FanFuturecastSidebarPath(t,n)).then(r.handleSuccess,r.handleErrors)};return{fetchContentsForSite:a,getContents:p,getModuleContents:h,chartbeatContent:f,saveFavoriteBlock:b,retrieveFavoriteBlocks:g,sortFavorites:v,sectionContent:w,programArticle:y,saveBreakingNews:s,deleteBreakingNews:d,saveNewForecast:l,getCurrentForecast:c,getTopForecasts:u,getTargetProspects:k,getFanFuturecastStats:x}}])}.call(this),angular.module("rivals").factory("userCustomModulesService",["$http","responseHandler","httpRequestService","userPaths","userService",function(e,t,n,i,r){return{fetchCustomModules:function(){return r.getAuthTokenHeader().then(function(n){return e.get(i.apiV1CustomModules,{headers:n}).then(t.handleSuccess,t.handleErrors)})},getCustomModule:function(r,o,a){var s=i.apiV1CustomModules+"/"+r;return s=o?s+"/"+o:s,a?n.getHttpRequestNoCache(s):e.get(s).then(t.handleSuccess,t.handleErrors)},getCustomModules:function(r,o){var a=i.apiV1HpCustomModules,s={params:{site_id:r}};return o?n.getHttpRequestNoCache(a,s):e.get(a,s).then(t.handleSuccess,t.handleErrors)}}}]),angular.module("rivals").factory("userForecastsService",["$http","userPaths","responseHandler",function(e,t,n){var i=function(i,r){var o=t.apiV1ForecastGraphPath(i);return r&&(o+="?user_types="+r),e.get(o).then(n.handleSuccess,n.handleErrors)},r=function(i){var r=t.apiV1ForecastTablePath(i);return e.get(r).then(n.handleSuccess,n.handleErrors)},o=function(i){var r=t.apiV1ContentForecastsPath+"?prospect_id="+i;return e.get(r).then(n.handleSuccess,n.handleErrors)},a=function(i){var r=t.apiV1ForecastsSearchPath+"?";for(var o in i)i[o]&&(r+=o+"="+i[o]+"&");return e.get(r,i).then(n.handleSuccess,n.handleErrors)};return{fetchForecastGraphData:i,fetchForecastTableData:r,fetchForecastsForProspect:o,forecastSearch:a}}]),angular.module("rivals").controller("DeleteGalleryModalController",["$scope","adminPaths","gallery","authTokenService",function(e,t,n,i){var r=this;e.csrfToken=i.getCsrfToken(),r.gallery=n,e.actionUrl=t.adminDeleteGalleryPath.replace("id",r.gallery.id)}]),function(){"use strict";angular.module("rivals").controller("editMediaController",["$scope","adminPaths","$window","mediaModalService","adminPeopleFactory",function(e,t,n,i,r){var o=this,a=angular.element(".bootstrap-form");o.init=function(e,t,n,i,r){if(o.isImage=i,o.search=r,o.isImage){o.image=e,o.imagesByDate=i,o.groupIds=_.map(i,function(e){return e.image_id}),o.imageCount=o.imagesByDate.length;var a=_.find(o.imagesByDate,{image_id:o.image.image_id});o.imageIndex=_.indexOf(o.imagesByDate,a),o.nextImage=o.imagesByDate[o.imageIndex+1],o.previousImage=o.imagesByDate[o.imageIndex-1],o.imageTags={selectedProspects:_.map(o.image.prospects,function(e){return e.data})},o.formatProspectData()}else o.galleryImage=e,o.previousImage=n,o.nextImage=t;o.inFocus=!1},o.showWarning=function(){o.edited?i.showWarningModal().then(function(e){e&&!e.discard?s():o.isImage&&e.discard?n.location.pathname=o.redirectImageId?t.publishingMediaPhotoEditPath.replace("id",o.redirectImageId):t.publishingMediaPhotosPath:!o.isImage&&e.discard&&(n.location.pathname=o.redirectImageId?t.publishingEditGalleryImagePath.replace("id",o.redirectImageId):t.publishingEditGalleryPath.replace("id",o.galleryImage.gallery_id))}):s()};var s=function(){o.returnToIndex&&(a[0]["image[redirect_index]"].value=!0),o.returnToGallery&&(a[0]["image[redirect_gallery]"].value=!0),o.redirectImageId&&(a[0]["image[redirect_image_id]"].value=o.redirectImageId),a.submit()},l=function(e){if(!o.inFocus){var t=37==e.keyCode&&o.previousImage,n=39==e.keyCode&&o.nextImage;t?o.redirectImageId=o.previousImage.id:n&&(o.redirectImageId=o.nextImage.id),(t||n)&&(o.returnToGallery=!1,o.showWarning())}},c=angular.element(n.document);c.on("keydown",l),e.$on("$destroy",function(){c.off("keydown",l)}),o.formatProspectData=function(){var e=_.map(o.imageTags.selectedProspects,function(e){return{id:e.prospect_id}});o.prospectData=angular.toJson(e)},o.matchingMembers=[],o.getMembers=function(e){return e&&e.length>=4?r.fullTextFetchPeople("Prospect",e).then(function(e){o.matchingMembers=_.reject(e.people,function(e){return _(o.imageTags.selectedProspects).any(function(t){return t.prospect_id==e.prospect_id})})}):void(o.matchingMembers=[])}}])}(),angular.module("rivals").service("galleriesService",["$http","userSearchParamService","responseHandler",function(e,t,n){this.fetchGalleries=function(i,r){var o=t.buildUrl(i,r,"galleries");return e.get(o).then(n.handleSuccess,n.handleErrors)},this.fetchGallery=function(t){return e.get("/api/v1/galleries/"+t).then(function(e){var t=e.data.gallery;return t.images=_.sortBy(t.images,function(e){return e.ordinality}),t.upsell=e.data.upsell,t.space_id=e.data.space_id,t.ad_referer=e.data.ad_referer,t.current_site_name=e.data.current_site_name,t},function(e){return{error:e.data.error,status:e.status}})}}]),angular.module("rivals").service("mediaModalService",["galleriesService","$uibModal","$rootScope",function(e,t,n){var i,r;this.modalButton=function(e,t){this.showEditSaveModal(e,t).result.then(function(t){e.gallery=t,e.ctrl.gallery=t})},this.showGalleryAdModal=function(){},this.showEditSaveModal=function(e,n){return t.open({templateUrl:"modals/editGalleryModal.html",controller:"galleryModalController",size:"sm",resolve:{directiveScope:function(){return e},isNew:n}})},this.showImageModal=function(e,n,i){return e.ctrl&&(e.siteId=e.ctrl.gallery.original_site_id),t.open({templateUrl:"modals/editImageModal.html",controller:"editImageModalController",size:"sm upload-edit",resolve:{directiveScope:function(){return e},filesUpload:function(){return n},singleUpload:function(){return i},existingImage:function(){return!1}}}).result.then(function(e){return e})},this.showSearchImagesModal=function(e){return t.open({templateUrl:"modals/searchMultipleImagesModal.html",controller:"SearchMultipleImagesModalController",scope:e,size:"image"}).result.then(function(e){return e})},this.showDeleteGalleryModal=function(e){return t.open({templateUrl:"modals/deleteGalleryModal.html",controller:"DeleteGalleryModalController",windowClass:"delete-gallery-modal",resolve:{gallery:function(){return e.gallery}}})},this.showRemoveGalleryImageModal=function(){return t.open({templateUrl:"modals/removeGalleryImageModal.html",controller:"RemoveGalleryImageModalController",windowClass:"remove-gallery-image-modal"})},this.showPreviewModal=function(e){return e.ctrl&&(e.images=e.ctrl.images,e.gallery=e.ctrl.gallery,e.preview=!0),t.open({templateUrl:"modals/galleryPreviewModal.html",controller:"galleryPreviewModalController",scope:e})},this.showGalleryModal=function(o){var a=this.adFrequency,s=n.$new();s.loading=!0,s.gallery={name:"",created_at:"",description:""},s.images=[];var l=t.open({templateUrl:"modals/galleryPreviewModal.html",controller:"galleryPreviewModalController",scope:s});return e.fetchGallery(o).then(function(e){l.close();var o=n.$new(),s=e;return o.images=s.images,o.gallery=s,o.preview=!1,o.adFrequency=a,i=e.space_id,r=e.ad_referer,o.previewUpsell=e.upsell,o.currentSiteName=e.current_site_name,t.open({templateUrl:"modals/galleryPreviewModal.html",controller:"galleryPreviewModalController",keyboard:!1,scope:o})},function(e){return{error:e.data.error,status:e.status}})},this.showWarningModal=function(e){return t.open({templateUrl:"modals/warningModal.html",controller:"warningModalController",size:"sm edit-warning",resolve:{numForecasts:function(){return e}}}).result.then(function(e){return e})},this.showUploadImageModal=function(e,n){return e.preventDefault(),t.open({templateUrl:"modals/imageUpload.html",controller:"ImageUploadModalController as ctrl",resolve:{cloudinaryPublicId:function(){return n}}}).result.then(function(e){return e})}}]),angular.module("rivals").controller("RemoveGalleryImageModalController",["$scope","$uibModalInstance",function(){}]),
function(){"use strict";angular.module("rivals").controller("rvEditGalleryController",["$rootScope","$scope","$controller","$timeout","mediaModalService","responsiveService","adminPaths","$window",function(e,t,n,i,r,o,a,s){var l=this,c=angular.element(".edit-gallery");l.galleryChanged=!1;var u=function(e){var t=angular.element(".edit-gallery");_.each(e,function(e){var n=document.createElement("input");Object.assign(n,{name:"gallery[gallery_images_attributes][][image_id]",value:e.image_id,type:"hidden"}),t[0].appendChild(n)}),t.submit()};l.startUpload=function(){r.showImageModal(t,!0).then(function(e){e&&(t.ctrl.images=t.ctrl.images.concat(e),t.ctrl.calculateImageOrdinalities(),u(e))})},l.sortableOptions={placeholder:"gallery-image-placeholder",handle:".thumbnail",activate:function(e,t){t.item.addClass("sorting")},stop:function(e,t){t.item.removeClass("sorting"),l.galleryChanged=!0,l.calculateImageOrdinalities()}},l.init=function(e,n,a){l.gallery=e,t.gallery=e,l.mediaModalService=r,l.images=n,t.sites=a,l.clearAbsoluteStyles={height:"0px"},o.subscribeScopeToResizeEvents(t,function(e,n){switch(n.breakpoint){case"desktop-large":case"desktop-small":t.ctrl.imagesPerRow=4;break;case"tablet":t.ctrl.imagesPerRow=2;break;default:t.ctrl.imagesPerRow=1}t.ctrl.clearAllVisibleDetails(),t.ctrl.calculateImageOrdinalities(),t.$$phase||t.$apply()}),i(function(){$(".success-alert").remove()},3e3)},l.modalButton=function(){r.modalButton(t)},l.deleteButton=function(){r.showDeleteGalleryModal(t)},l.submit=function(){},l.showPreview=function(e){e.preventDefault(),r.showPreviewModal(t)},l.isDesktop=function(){var e=o.currentState().breakpoint;return"desktop-large"==e||"desktop-small"==e},l.showImageUrlModal=function(){r.showImageModal(t,!1).then(function(e){e&&(t.ctrl.images.push(e),t.ctrl.calculateImageOrdinalities(),u([e]))})},l.showSearchImagesModal=function(){r.showSearchImagesModal(t).then(function(e){e&&(t.ctrl.images=t.ctrl.images.concat(e),t.ctrl.calculateImageOrdinalities(),u(e))})},l.calculateImageOrdinalities=function(){var e,t=[[],[]],n=0;_.each(l.images,function(i){i.deleted?e=t[1]:(i.ordinality=n+=1,e=t[0]),e.push(i)}),l.imageCount=t[0].length,l.images=_.flatten(t)};var d=function(e){var t=Math.floor(l.images.length/l.imagesPerRow)+l.images.length%l.imagesPerRow;return _.find(_.range(1,t+1),function(t){return e>=t-1&&e<l.imagesPerRow*t})};l.toggleCaptions=function(e){var t=l.images.indexOf(e);_.each(l.images,function(e){var n=l.images.indexOf(e);d(t)==d(n)&&(e.hideCaption=!e.hideCaption)})},l.toggleDetails=function(e){l.toggleCaptions(e);var t=!e.detailsVisible,n=angular.element("#details-"+e.image_id).height()+"px";l.clearAbsoluteStyles.height=t?n:"0px",l.clearAllVisibleDetails(),e.detailsVisible=t},l.clearAllVisibleDetails=function(){_.each(l.images,function(e){e.detailsVisible=!1})},l.moveImage=function(e,t){l.galleryChanged=!0;var n=l.images.indexOf(e),i=isNaN(t.target.value)?n:t.target.value-1;n!=i?(i=i>0?Math.min(i,l.imageCount-1):0,l.images.splice(i,0,l.images.splice(n,1)[0]),l.calculateImageOrdinalities()):t.target.value=n+1},l.promptSave=function(e){var t=e?e:l.images[0];l.galleryChanged?r.showWarningModal().then(function(e){if(e&&e.discard)s.location.href=l.editGalleryImagePath(t);else{var n=document.createElement("input");Object.assign(n,{name:"gallery[redirect_captions]",value:t.ordinality-1,type:"hidden"}),c[0].appendChild(n),c.submit()}}):s.location.href=l.editGalleryImagePath(t)},l.editGalleryImagePath=function(e){return s.location.protocol+"//"+a.basePath+a.publishingEditGalleryImagePath.replace("id",e.gallery_image_id)}}])}(),function(){"use strict";angular.module("rivals").controller("rvFullImageController",["$uibModal",function(e){function t(e,t){var i=new Image;i.onload=function(){t?(n.fullSizeLoaded=!0,n.fullImageWidth=this.width,n.fullImageHeight=this.height):(n.largeSizeLoaded=!0,n.largeImageWidth=this.width,n.largeImageHeight=this.height)},i.src=e}var n=this;n.init=function(e,i){n.largeSizeImage=e,n.fullSizeImage=i,n.fullSizeLoaded=!1,n.largeSizeLoaded=!1,t(e,!1),t(i,!0)},n.showModal=function(){n.isFullSizeBigger()&&e.open({templateUrl:"modals/fullImageModal.html",controller:"rvFullImageModalController as ctrl",resolve:{imageUrl:function(){return n.fullSizeImage}}})},n.isFullSizeBigger=function(){return n.fullSizeLoaded&&n.largeSizeLoaded&&n.fullImageWidth>n.largeImageWidth||n.fullImageHeight>n.largeImageHeight}}])}(),angular.module("templates").run(["$templateCache",function(e){e.put("media/rvGalleryFlyout.html","<div class='gallery-flyout' id='gallery-{{index}}' ng-cloak ng-show='currentIndex == index'>\n<div class='hide-icon' ng-click='hideFlyout()' ng-hide='isMobile'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n<div class='flyout-content'>\n<div class='flyout-image'>\n<img ng-if='image.gallery_preview_url' ng-src='{{image.gallery_preview_url}}'>\n</div>\n<div class='stub-image' ng-if='!image.gallery_preview_url'>\nNo images\n</div>\n<div class='info'>\n<div class='detail'>\n<div class='name'>\n<div class='premium-white-icon' ng-if='gallery.premium'><svg id=\"Layer_2\" data-name=\"Layer 2\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 14.54 12\"><defs><style>.cls-1{fill:#777f85;}.cls-2{fill:#fff;}</style></defs><title>premium-icon</title>\n<polygon class=\"cls-1\" points=\"12.54 12 0 12 2 0 14.54 0 12.54 12\"></polygon><path class=\"cls-2\" d=\"M10.68,5.28H10.44A4.46,4.46,0,0,0,9,5.5a3.8,3.8,0,0,0-1.19.65,3.87,3.87,0,0,0-.53.51,2.64,2.64,0,0,0-.37.56,3.48,3.48,0,0,0-.2.53,4.28,4.28,0,0,0-.18.58L6.27,9.54H3.18l1.43-6H7.68L7.37,4.77a8,8,0,0,1,.8-0.88A4.6,4.6,0,0,1,9,3.32,3.8,3.8,0,0,1,9.85,3a4.6,4.6,0,0,1,1-.12h0.69l-0.49,2.4H10.71\"></path></svg></div>\n{{ gallery.name }}\n</div>\n<div class='flyout-content' ng-if='gallery.summary'>\n{{ gallery.summary }}\n</div>\n</div>\n<div class='detail'>\n<div class='flyout-label'>\nCreated\n</div>\n<div class='flyout-content'>\n{{ gallery.created_at | timestampToDate }}\n</div>\n<div class='flyout-content'>\n{{ gallery.author_name }} - {{ gallery.original_site }}\n</div>\n</div>\n<div class='detail' ng-if='gallery.modifying_author_name'>\n<div class='flyout-label'>\nModified\n</div>\n<div class='flyout-content'>\n{{ gallery.updated_at | timestampToDate }}\n</div>\n<div class='flyout-content'>\n{{ gallery.modifying_author_name }} - {{ gallery.modifying_site }}\n</div>\n</div>\n<div class='detail info-description' ng-if='gallery.description'>\n<div class='flyout-label'>\nGallery Search Keywords\n</div>\n<div class='flyout-content'>\n{{ gallery.description }}\n</div>\n</div>\n</div>\n</div>\n</div>")}]),angular.module("rivals").directive("rvGalleryFlyout",function(){return{restrict:"E",scope:{gallery:"=",index:"=",currentIndex:"=",isMobile:"="},templateUrl:"media/rvGalleryFlyout.html",link:function(e){e.image=e.gallery.images[0],e.hideFlyout=function(){e.$emit("galleryFlyout:hide")}}}}),angular.module("templates").run(["$templateCache",function(e){e.put("media/rvGalleryPreviewUpsell.html","<div class='gallery-slideshow'>\n<div class='slider-for' settings='slickSliderConfig'>\n<div class='upsell-content'>\n<div class='slide'>\n<div class='upsell-overlay'></div>\n<div class='upsell-image'>\n<img ng-cloak ng-src='{{image.full_image_url}}'>\n<div class='caption'>\n<div class='image-count'>\n{{ $index+1 }} of {{ imagesCount }} photos\n</div>\n<div class='info'>\n<div class='prospects' ng-if='image.prospect'>\n{{ getProspects(image) }}\n</div>\n<div class='img-caption' ng-if='image.caption'>\n{{ image.caption }}\n</div>\n<div class='credit' ng-if='image.credit'>\nCredit: {{ image.credit }}\n</div>\n</div>\n</div>\n</div>\n<rv-gallery-upsell site-name='currentSiteName'></rv-gallery-upsell>\n</div>\n</div>\n</div>\n</div>")}]),angular.module("templates").run(["$templateCache",function(e){e.put("media/rvGallerySlideshow.html","<div class='gallery-slideshow' ng-click='toggleArrowsCaption()' ng-show='showSlideshow'>\n<slick class='slider-for' settings='slickSliderConfig'>\n<div class='content-wrapper' ng-repeat='image in getGalleryImages() track by $index'>\n<div class='slide'>\n<div class='blurred-image'>\n<img class='desktop' data-lazy='{{image.full_image_url}}'>\n<img class='mobile' data-lazy='{{image.gallery_preview_url}}'>\n</div>\n</div>\n<div class='caption-bar caption-{{$index}}' ng-show='showCaption'>\n<div class='image-count'>\n{{ $index+1 }} of {{ imagesCount }} photos\n</div>\n<div class='info'>\n<div class='prospects' ng-if='image.prospect'>\n{{ getProspects(image) }}\n</div>\n<div class='gallery-caption' ng-if='image.caption'>\n{{ image.caption }}\n</div>\n<div class='credit' ng-if='image.credit'>\nCredit: {{ image.credit }}\n</div>\n</div>\n</div>\n<div class='slick-buttons' ng-show='showArrows'>\n<button class='slick-prev prev-gallery' ng-click='prevSlide($event)'><?xml version=\"1.0\" encoding=\"iso-8859-1\"?>\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewbox=\"0 0 240.823 240.823\" style=\"enable-background:new 0 0 240.823 240.823;\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\">\n<g>\n	<path id=\"Chevron_Right\" d=\"M57.633,129.007L165.93,237.268c4.752,4.74,12.451,4.74,17.215,0c4.752-4.74,4.752-12.439,0-17.179\n		l-99.707-99.671l99.695-99.671c4.752-4.74,4.752-12.439,0-17.191c-4.752-4.74-12.463-4.74-17.215,0L57.621,111.816\n		C52.942,116.507,52.942,124.327,57.633,129.007z\"></path>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n</button>\n<button class='slick-next next-gallery' ng-click='nextSlide($event)'><?xml version=\"1.0\" encoding=\"iso-8859-1\"?>\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewbox=\"0 0 240.823 240.823\" style=\"enable-background:new 0 0 240.823 240.823;\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\">\n<g>\n	<path id=\"Chevron_Right\" d=\"M57.633,129.007L165.93,237.268c4.752,4.74,12.451,4.74,17.215,0c4.752-4.74,4.752-12.439,0-17.179\n		l-99.707-99.671l99.695-99.671c4.752-4.74,4.752-12.439,0-17.191c-4.752-4.74-12.463-4.74-17.215,0L57.621,111.816\n		C52.942,116.507,52.942,124.327,57.633,129.007z\"></path>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n	<g>\n	</g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n</button>\n<button class='slick-prev prev-gallery-area' ng-click='prevSlide($event)'></button>\n<button class='slick-next next-gallery-area' ng-click='nextSlide($event)'></button>\n</div>\n</div>\n</slick>\n</div>\n<div class='slideshow-images-container' ng-show='!showSlideshow'>\n<div class='images-count'>\n{{imagesCount}} photos\n</div>\n<div class='slideshow-images'>\n<div class='row' ng-repeat='(key, value) in splitImages'>\n<div class='image-row'>\n<div class='modal-image-container' ng-click='showImage(key,$index)' ng-repeat='image in value track by $index' ng-style='{&#39;width&#39;: imgColumnWidth}'>\n<img ng-src='{{image.thumbnail_url}}'>\n<div class='hover-overlay'></div>\n</div>\n</div>\n</div>\n</div>\n</div>")}]),angular.module("rivals").directive("rvGallerySlideshow",["$window","responsiveService",function(e,t){return{restrict:"E",scope:{images:"=",gallery:"=",adFrequency:"="},templateUrl:"media/rvGallerySlideshow.html",link:function(n){function i(){var t=e.navigator.userAgent.toLowerCase();return-1!=t.indexOf("safari")&&-1==t.indexOf("chrome")}function r(){n.loadGalleryView&&(n.splitImages=_.groupBy(n.images,function(e,t){return Math.floor(t/n.imageRowCount)}))}function o(e){"landscape"===e.orientation?(n.imageRowCount=5,n.imgColumnWidth="20%"):"mobile-large"===e.breakpoint||"mobile-small"===e.breakpoint||"tablet"===e.breakpoint?(n.imageRowCount=3,n.imgColumnWidth="33%"):(n.imageRowCount=4,n.imgColumnWidth="25%")}var a=25,i=i(),s=!i,l=i?0:300;n.imagesCount=n.images.length,n.imgColumnWidth="25%",n.leftBoundary=!0,n.rightBoundary=!1,n.landscape=!0,n.showArrows=!0,n.showCaption=!1,n.imagesLoaded=!1,n.showSlideshow=!0,n.loadGalleryView=!1,t.subscribeScopeToResizeEvents(n,function(e,t){n.isMobile="mobile-large"==t.breakpoint||"mobile-small"==t.breakpoint,n.isTablet="tablet"==t.breakpoint,o(t),r()}),n.slickSliderConfig={arrows:!0,dots:!1,infinite:!0,speed:l,fade:s,cssEase:"linear",nextArrow:!1,prevArrow:!1,lazyLoad:"ondemand",lazyLoadBuffer:a,variableWidth:!1,swipeToSlide:!0},n.toggleArrowsCaption=function(){n.showArrows=!n.showArrows,n.showCaption=n.showArrows},n.nextSlide=function(e){$(".slider-for").slick("slickNext"),e.stopPropagation()},n.prevSlide=function(e){$(".slider-for").slick("slickPrev"),e.stopPropagation()},$(".slider-for").on("init",function(){1===n.imagesCount&&($(".slick-next").hide(),$(".slick-prev").hide())}),$(".slider-for").on("lazyLoaded",function(){if(n.imagesLoaded=!0,n.showArrows){var e=$(".slider-for").slick("slickCurrentSlide");$(".caption-"+e).show(),n.$apply(),n.showCaption=!0}}),n.getGalleryImages=function(){return n.images},n.showImage=function(e,t){var i=$(".slider-for").slick("getSlick"),r=e*n.imageRowCount+t;i.slickGoTo(r),n.$parent.showGallerySlideshow()},n.$on("gallerySlideshow:show",function(){n.showSlideshow=!0}),n.$on("gallerySlideshow:hide",function(){n.showSlideshow=!1,n.loadGalleryView=!0,r()}),n.getProspects=function(e){var t=[];return _.each(e.prospects,function(e){t.push(e.data.full_name)}),t.join(", ")},t.subscribeScopeToOrientationChangeEvents(n,function(e,t){n.landscape="landscape"===t.orientation,o(t),r(),_.defer(function(){n.$apply(),n.landscape?angular.element(".content-wrapper").addClass("scrollable"):angular.element(".content-wrapper").removeClass("scrollable")})}),$(document).keydown(function(e){39===e.which&&n.nextSlide(),37===e.which&&n.prevSlide()})}}}]),angular.module("templates").run(["$templateCache",function(e){e.put("media/rvGalleryUpsell.html","<div class='gallery-upsell upsell'>\n<div class='upsell-content'>\n<div class='premium-gallery'>\n<div class='premium-gallery-icon'><svg width=\"37\" height=\"30\" viewbox=\"0 0 37 30\">\n  <g fill=\"none\" fill-rule=\"evenodd\">\n    <g fill-rule=\"nonzero\">\n      <polygon fill=\"#FFF\" points=\"5 0 37 0 32 30 0 30\"></polygon>\n      <path fill=\"#777F85\" d=\"M26.6666667,13 L26.0693333,13 C24.8527318,12.9848003 23.6419185,13.1706115 22.4853333,13.55 C21.4090685,13.9089276 20.405841,14.4593554 19.5235556,15.175 C19.0445499,15.5569697 18.6028518,15.9838974 18.2044444,16.45 C17.8394322,16.8754111 17.5299688,17.3458791 17.2835556,17.85 C17.082058,18.2773451 16.9155807,18.7204795 16.7857778,19.175 C16.6024521,19.6470684 16.452742,20.1316212 16.3377778,20.625 L15.6906667,23.65 L8,23.65 L11.5591111,8.65 L19.2,8.65 L18.4284444,11.725 C19.036887,10.9430602 19.7024293,10.2076954 20.4195556,9.525 C21.0541634,8.97550477 21.7469048,8.49764288 22.4853333,8.1 C23.1561421,7.74933832 23.8663991,7.48075373 24.6008889,7.3 C25.417086,7.10879688 26.2517172,7.00819402 27.0897778,7 L28.8071111,7 L27.5875556,13 L26.7413333,13\"></path>\n    </g>\n  </g>\n</svg>\n</div>\n<div class='content font-yahoo-h3'>Premium Content</div>\n</div>\n<h3 class='upsell-headline'>\nSubscribe today for access to the gallery and get everything Rivals has to offer.\n</h3>\n<div class='row buttons'>\n<div class='subscribe-columns'>\n<a class='subscribe' href='{{registerPath}}'>Subscribe to Rivals</a>\n<div class='sign-in'>\n<a class=\"btn\" href=\"{{signInPath}}\">Log in</a>\n</div>\n</div>\n</div>\n<div class='value-props'>\n<ul>\n<li class='value-prop fa-before fa-check'>Members-only forums</li>\n<li class='value-prop fa-before fa-check'>Predict prospect commits with FanFutureCast</li>\n<li class='value-prop fa-before fa-check'>Exclusive highlights and interviews</li>\n<li class='value-prop fa-before fa-check'>Exclusive coverage of Rivals Camp Series</li>\n<li class='value-prop fa-before fa-check'>Breaking recruiting news</li>\n</ul>\n</div>\n</div>\n</div>")}]),angular.module("rivals").directive("rvGalleryUpsell",["userPaths",function(e){return{restrict:"E",scope:{siteName:"="},templateUrl:"media/rvGalleryUpsell.html",link:function(t){var n="";t.siteName&&(n="?utm_source="+t.siteName+"&utm_medium=on_site&utm_campaign=gallery_upsell"),t.signInPath=e.signInPath+n,t.registerPath=e.subscriptionFunnelPath+n}}}]),angular.module("templates").run(["$templateCache",function(e){e.put("media/rvImageDetails.html","<div class='details' ng-if='image != undefined'>\n<div class='hide-icon' ng-click='closeDetails()'>\n<img src='https://cdn.rivals.com/production/assets/icons/icons_close-67b6ae12c851f79976b47b4f1473d1cecf574baaa627fd3046b3b6c431f10ed2.png'>\n</div>\n<div class='detail-image'>\n<span class='helper'></span>\n<img ng-hide='isMobile &amp;&amp; isGallery' ng-src='{{image.search_preview_url}}'>\n<div class='btn btn-thin remove-button' ng-click='removeImage(image)' ng-if='isGallery'>\nRemove from Gallery\n</div>\n</div>\n<div class='image-details'>\n<div class='detail' ng-if='isGallery'>\n<div class='flyout-label'>Photo Caption</div>\n<div>\n<div class='flyout-content' ng-if='image.caption'>\n{{image.caption}}\n</div>\n<a class='admin-btn-gray btn btn-thin caption' ng-click='outerScope.promptSave(image)'>\n<span ng-if='!image.caption'>\nAdd Caption\n</span>\n<span ng-if='image.caption'>\nEdit Caption\n</span>\n</a>\n</div>\n</div>\n<div class='detail'>\n<div class='flyout-label'>\nPhoto Search Keywords\n</div>\n<div class='flyout-content' ng-if='image.description'>\n{{image.description}}\n</div>\n<div class='flyout-content' ng-if='!image.description'>\nN/A\n</div>\n</div>\n<div class='detail'>\n<div class='flyout-label'>\nTags\n</div>\n<div class='flyout-content' ng-if='image.prospects.length &gt; 0'>\n<span ng-repeat='tag in image.prospects'>\n{{tag.data.full_name}}{{$last ? '' : ', '}}\n</span>\n</div>\n<div class='flyout-content' ng-if='image.prospects.length === 0'>\nN/A\n</div>\n</div>\n<div class='detail'>\n<div class='flyout-label'>\nPhoto Credit\n</div>\n<div class='flyout-content' ng-if='image.credit'>\n{{image.credit}}\n</div>\n<div class='flyout-content' ng-if='!image.credit'>\nN/A\n</div>\n</div>\n<div class='detail'>\n<div class='flyout-label'>\nUploaded\n</div>\n<div class='flyout-content'>\n{{image.created_at | timestampToDate}}\n</div>\n<div class='flyout-content' ng-if='image.uploader_name'>\n{{image.uploader_name}} - {{image.site_name}}\n</div>\n<div class='flyout-content' ng-if='!image.uploader_name'>\nN/A\n</div>\n</div>\n<div class='detail'>\n<div class='flyout-label'>\nSite\n</div>\n<div class='flyout-content' ng-if='image.site_name'>\n{{image.site_name}}\n</div>\n<div class='flyout-content' ng-if='!image.site_name'>\nN/A\n</div>\n</div>\n<div class='detail' ng-if='!isPublishing'>\n<div class='flyout-label'>\nGalleries\n</div>\n<div class='flyout-content' ng-if='image.galleries.length &gt; 0'>\n<span ng-repeat='gallery in image.galleries'>\n{{gallery.name}}{{$last ? '' : ', '}}\n</span>\n</div>\n<div class='flyout-content' ng-if='image.galleries.length === 0'>\nN/A\n</div>\n</div>\n<div class='detail' ng-if='!isGallery &amp;&amp; !isPublishing'>\n<a class='admin-btn-gray btn btn-thin caption' href='{{image.edit_url}}?search={{searchParams}}&amp;group_ids={{groupImageIds}}'>\n<span>Edit Metadata</span>\n</a>\n</div>\n</div>\n</div>")}]),angular.module("rivals").directive("rvImageDetails",["responsiveService",function(e){return{restrict:"E",scope:{image:"=?",isGallery:"=",outerScope:"=",searchParams:"=",groupImageIds:"=",isPublishing:"="},templateUrl:"media/rvImageDetails.html",link:function(t){t.closeDetails=function(){t.isGallery&&t.outerScope.toggleCaptions(t.image),t.image.detailsVisible=!1},t.removeImage=function(e){var n=t.outerScope.mediaModalService.showRemoveGalleryImageModal(e,t.outerScope,t);n.result.then(function(n){n&&(e.deleted=!0,t.closeDetails(),t.outerScope.calculateImageOrdinalities())})},e.subscribeScopeToResizeEvents(t,function(e,n){t.isMobile="mobile-large"==n.breakpoint||"mobile-small"==n.breakpoint})}}}]),angular.module("rivals").controller("EditRankHistoryModalController",["$scope","$http","$uibModalInstance","directiveScope","authTokenService","adminListsFactory","categories",function(e,t,n,i,r,o,a){var s=this;s.selectedSport={},s.subject="history",s.loading=!0,s.categories=a[s.subject],s.rankName=i.list.name,o.getHistory(i.originalVersionId).then(function(e){if(e.errors)s.total=0;else{s.selectedSport.history=e.ranks,i.list.canEdit=!0;var t=0==i.list.draft?i.list:s.selectedSport.history[0];t.current=!0,t.publish_status+=" (CURRENT)",s.selectedSport.history.unshift(i.list),s.noResuls=0===e.ranks.length,s.total=e.ranks.total}s.loading=!1}),s.updateList=function(){s.$parent.rank=s.list,n.close(s.list)},s.onChangeSelection=function(e){s.showRanking=e.label==s.types[0].label},s.onChangeRank=function(){s.list.position=null,s.list.sport=null,s.list.state=null},s.submitList=function(){s.typeSelected==s.types[0]?s.actionUrl="/admin/lists/ranks":s.typeSelected==s.types[1]?s.actionUrl="/admin/lists/rosters":s.typeSelected==s.types[2]&&(s.actionUrl="/admin/lists/depth_charts")},s.changeRankKind=function(){s.officialRank="other"!=s.list.kind}}]),angular.module("rivals").controller("AddProspectForecastModalController",["$uibModalInstance","$uibModal","$rootScope","colleges","isMyForecasts","selectedPublisher","adminPeopleFactory","adminContentsService","alertFactory",function(e,t,n,i,r,o,a,s,l){var c=this;c.prospect=null,c.colleges=i,c.forecastReason="",c.isMyForecasts=r,c.selectedPublisher=o,c.getProspects=function(e){return a.fullTextFetchPeople("Prospect",e).then(function(e){return e.people})},c.onProspectSelect=function(e){c.prospect=e},c.clearProspect=function(){c.prospect=null},c.cancel=function(){e.close()},c.prospectInvalid=function(){return!c.prospect||c.prospect.committed_college_id},c.forecastInvalid=function(){return c.prospectInvalid()||!c.forecastSchool},c.addProspect=function(){var t=_.find(c.prospect.prospect_colleges,function(e){return e.college_id==c.forecastSchool.college_id}),i={prospect_college_id:t.id,reason:c.forecastReason,prospect_id:c.prospect.prospect_id,college_id:t.college_id,year:c.prospect.year,author_id:c.selectedPublisher.id,no_longer_likely:!1};s.saveNewForecast(i).then(function(t){t.saved?(l.displayAlert("Successfully Updated","success"),n.$broadcast("refreshForecastsAfterNewForecastCreation"),e.close()):(l.displayAlert(c.errorSchoolMessage=t.errors.join(" "),"severe"),e.close())})},c.save=function(){return e.close(),c.forecastSchool.short_name=c.forecastSchool.college_short_name,c.forecastSchool.large_team_logo=c.forecastSchool.college_large_logo,t.open({templateUrl:"modals/forecastsConfirmationModal.html",controller:"forecastsConfirmationModalController as ctrl",size:"sm",resolve:{actionType:function(){return"add"},forecastSchool:function(){return c.forecastSchool},forecastReason:function(){return c.forecastReason},forecastAuthorId:function(){return""},isMyForecasts:function(){return c.isMyForecasts},selectedPublisher:function(){return c.selectedPublisher},forecastDate:function(){return Date.now()}}}).result.then(function(e){e.result&&c.addProspect()})}}]),angular.module("rivals").controller("AdjustCompModalController",["$uibModalInstance","$http","userId","subscription","subscriptionService","moment","datePickerFactory",function(e,t,n,i,r,o,a){var s=this;s.userId=n,s.subscription=i,s.datePickerOpen={},s.datePickerOpen.compedUntil=!1,s.compedUntil=o(new Date).add(1,"d").toDate(),s.submitting=!1,s.extendComp=function(){s.submitting=!0,r.adjustComp(s.userId,s.subscription.id,o(s.compedUntil).format()).then(e.close)["catch"](function(e){s.errorMessage="Could not adjust comp: "+e})},s.openDatePicker=function(e,t){a.openDatePicker(e,t,s.datePickerOpen)},s.dismiss=function(){e.close()},s.datePickerOptions={minDate:o(new Date).add(1,"d").toDate()}}]),angular.module("rivals").controller("CancelSubscriptionModalController",["$scope","$uibModalInstance","subscriptionService","subscription","gaClientId",function(e,t,n,i,r){e.subscription=i,e.gaClientId=r,e.submitting=!1,e.cancelSubscription=function(){e.submitting=!0,n.cancelSubscription(i.id,e.cancellationReason,e.refundType,e.note,i.subscription_period,e.gaClientId).then(t.close)["catch"](function(t){e.submitting=!1,e.errorMessage="Could not cancel subscription: "+t})}}]),angular.module("rivals").controller("ChangeSiteSubscriptionModalController",["$scope","$uibModalInstance","siteFactory","subscription","availableSites","subscriptionService",function(e,t,n,i,r,o){e.subscription=i,e.sites=r.filter(function(e){return e.availableForChange}),e.submitting=!1,e.changeSubscription=function(){e.submitting=!0,o.changeSite(e.subscription.id,e.newSite.id).then(t.close)["catch"](function(t){e.errorMessage="Could not change site for subscription: "+t+". User should update their payment method and try again."})}}]),angular.module("rivals").controller("CompAllSitesModalController",["$scope","$uibModalInstance","subscriptionService","currentSubscriber","compedUntil",function(e,t,n,i,r){e.submitting=!1,e.errorMessage="",e.compUntilDate=Date(),e.compedUntil=r,e.compAllSites=function(){e.submitting=!0,n.createComp(i.id,{allSites:!0,compedUntil:r}).then(t.close)["catch"](function(t){e.errorMessage="Could not comp all sites: "+t})}}]),angular.module("rivals").controller("confirmationModalController",["$uibModalInstance","text",function(e,t){var n=this;n.confirmationText=t,n.save=function(){e.close(!0)},n.cancel=function(){e.close(!1)}}]),angular.module("rivals").controller("DowngradeSubscriptionModalController",["$scope","$http","$uibModalInstance","subscriptionService","subscription","userAddress",function(e,t,n,i,r,o){e.subscription=r,e.userAddress=o,e.siteId=r.site_id,e.selectedPlan="monthly",e.properties={},e.submitting=!1,e.downgradeSubscription=function(){e.submitting=!0,i.downgrade(r.id,e.note,r.refundType).then(n.close)["catch"](function(t){e.errorMessage="Could not downgrade subscription: "+t})}}]),angular.module("rivals").controller("editBillingInfoModalController",["$uibModalInstance","userPaths","$http","obiIframeFunctions","parentForm","alertFactory","$rootScope",function(e,t,n,i,r,o,a){var s=this;s.parentForm=r,s.isLoading=!1,i(s),s.annualCustomer=function(){var e=angular.element("#div_annual_data");return angular.isDefined(e)?"true"===e.attr("data_annual_sub"):!1},s.editBillingView=function(){return s.parentForm.hasClass("billing-info-form")?!0:void 0},s.isValid=function(){var e=!0;return s.editBillingView()&&s.annualCustomer()&&s.vermontCustomer&&!s.vermontOptedIn&&(e=!1),s.usingDebitCard&&!s.debitCardAgreement&&(e=!1),e},s.cancel=function(){e.dismiss()},s.finishSubmit=function(){var i={};s.setFields(i),n.put(t.apiV1UserBillingInfoUpdatePath,i).then(function(t){e.dismiss(),a.$broadcast("updateBillingInfo",t.data),a.$broadcast("summary:change_address",s.getAddress())},function(e){_.each(e.data.messages,function(e){o.displayAlert(e,"severe",30)}),console.log("Unable to update template params"),s.isLoading=!1})},s.setFields=function(e){e.obi_token=s.token,e.card_exp=s.expiryDate,e.card_type=s.cardType,_.each(s.addressFields,function(t){e[t]=s[t],s.addHiddenField(t,s[t])})}}]),angular.module("rivals").controller("EditListModalController",["$scope","$http","$uibModalInstance","directiveScope","authTokenService",function(e,t,n,i,r){e.types=[{label:"Ranking",name:"rank"},{label:"Roster",name:"roster"},{label:"Depth Chart",name:"depth_chart"}];var o=i.list?i.list.type:i.initialSelection;switch(o){case e.types[0].name:e.typeSelected=e.types[0],e.showRanking=!0;break;case e.types[1].name:e.typeSelected=e.types[1],e.showRanking=!1;break;case e.types[2].name:e.typeSelected=e.types[2],e.showRanking=!1}e.list=i.list?i.list:{},e.isSuperAdmin=i.isSuperAdmin,e.isNewList=i.isNewList,e.sites=i.sites,e.positions=i.positions,e.states=i.states,e.sports=i.sports,e.kinds=i.kinds,e.years=i.years,e.prospectSelected=!0,e.officialRank=e.isSuperAdmin&&"other"!=e.list.kind,e.csrfToken=r.getCsrfToken(),e.isNewList||(e.list=angular.copy(i.list),e.actionUrl="",e.handleSubmit=function(t){t.preventDefault(),e.updateList()}),e.updateList=function(){e.$parent.rank=e.list,n.close(e.list)},e.onChangeSelection=function(t){e.showRanking=t.label==e.types[0].label},e.onChangeRank=function(){e.list.position=null,e.list.sport=null,e.list.state=null},e.submitList=function(){e.typeSelected==e.types[0]?e.actionUrl="/admin/lists/ranks":e.typeSelected==e.types[1]?e.actionUrl="/admin/lists/rosters":e.typeSelected==e.types[2]&&(e.actionUrl="/admin/lists/depth_charts")},e.changeRankKind=function(){e.officialRank="other"!=e.list.kind}}]),angular.module("rivals").controller("EditProspectModalController",["$scope","$http","$uibModalInstance","adminSchoolsService","prospect","collegePlayer","note","sports","positions","states","years","teams","person","isSuperAdmin","isNewProspect","cloudinaryPublicId","type","authTokenService",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,m,g,v){e.sports=s,e.positions=l,e.states=c,e.years=u,e.teams=d,e.isSuperAdmin=h,e.isNewProspect=f,e.selectedTab="prospect",e.cloudinaryPublicId=m,e.type=g,e.person=p,e.errorProfileImageMessage=null,e.errorBackgroundImageMessage=null;var b=5.2,y=6.1;if(e.csrfToken=v.getCsrfToken(),e.prospectTabClicked=function(){e.selectedTab="prospect",e.isNewProspect?(e.prospect={},e.note=a,e.actionUrl="/admin/prospects",e.handleSubmit=function(){}):(e.prospect=angular.copy(r),e.prospect.rivals_rating=parseFloat(e.prospect.rivals_rating).toFixed(1),e.note=angular.copy(a),e.prospect.heightFeet=Math.floor(e.prospect.height/12),e.prospect.heightInches=Math.floor(e.prospect.height%12),e.actionUrl="/admin/prospects/"+e.prospect.id,e.profileUrl=e.prospect.profile_url,e.handleSubmit=function(){e.updateProspect()})},e.collegeTabClicked=function(){e.selectedTab="college",e.actionUrl="/admin/college_players",o?(e.college_player=angular.copy(o),e.note=angular.copy(a),e.collegeHeightFeet=Math.floor(e.college_player.height/12),e.collegeHeightInches=Math.floor(e.college_player.height%12),e.actionUrl+="/"+e.college_player.id,e.profileUrl=e.college_player.profile_url,e.handleSubmit=function(){e.updateCollegePlayer()}):e.type&&(e.college_player={person:e.person})},e.type)switch(e.type){case"prospect":e.prospectTabClicked();break;case"college":e.collegeTabClicked()}else r||e.isNewProspect?e.prospectTabClicked():e.collegeTabClicked();e.selectState=function(){r||e.isNewProspect?delete e.prospect.highschool:delete e.college_player.highschool},e.getSchools=function(t){var n={query:t};return(r||e.prospect)&&angular.isDefined(e.prospect.person)&&angular.isDefined(e.prospect.person.state)&&(n.state_id=e.prospect.person.state.id),o&&angular.isDefined(e.college_player.person.state)&&(n.state_id=e.college_player.person.state.id),i.fetchAllHighschools(n.query,n).then(function(e){return e.highschools&&e.highschools.forEach(function(e){"junior_college"==e.classification&&(e.display_name=e.display_name+" (JUCO)"),"prep_school"==e.classification&&(e.display_name=e.display_name+" (PREP)")}),e.highschools})},e.setStateForHighschool=function(){var t=e.prospect.highschool.state_id;e.prospect.person||(e.prospect.person={});for(var n=0;n<e.states.length;n++)if(e.states[n].id===t)return void(e.prospect.person.state=e.states[n])},e.calculateHeight=function(){e.prospect.height=12*parseInt(e.prospect.heightFeet)+parseInt(e.prospect.heightInches)||0},e.calculateCollegeHeight=function(){e.college_player.height=12*parseInt(this.collegeHeightFeet)+parseInt(this.collegeHeightInches)||0},e.fetchRatings=function(){!e.isNewProspect&&e.prospect.rivals_rating&&e.prospect.rivals_rating<b&&e.prospect.rivals_rating>0&&(b=e.prospect.rivals_rating);var t=[];_.each(_.range(10*b,10*y+1),function(e){var n=(e/10).toFixed(1);t.push(n)});var n=0;return t.unshift(n.toFixed(1)),t},e.updateProspect=function(){angular.copy(e.prospect,r),angular.copy(e.note,a);var t=$("#edit_modal_cloudinary_public_id").last().attr("value");$(cloudinary_public_id).each(function(){$(this).attr("value",t)}),n.close(t)},e.updateCollegePlayer=function(){angular.copy(e.college_player,o),angular.copy(e.note,a);var t=$("#edit_modal_cloudinary_public_id").last().attr("value");$(cloudinary_public_id).each(function(){$(this).attr("value",t)}),n.close(t)}}]),angular.module("rivals").controller("ExtendSubscriptionModalController",["$scope","$uibModalInstance","$http","subscription","subscriptionService","moment",function(e,t,n,i,r,o){
e.subscription=i,e.submitting=!1,e.extendSubscription=function(){e.submitting=!0,r.extend(e.subscription.id,e.note,o(e.renewalDate).format(),e.isASave).then(t.close)["catch"](function(t){e.errorMessage="Could not extend subscription: "+t})};var a=18;if(e.startDate=i.next_billing_date,e.endDate=o(i.next_billing_date,"MM-DD-YYYY").add(a,"months").format("YYYY-MM-DD"),e.datesDisabled=[],"obi"===i.service_name){for(var s=o(i.next_billing_date,"MM-DD-YYYY"),l=[],c=1;a>=c;c++)l.push(s.clone().add(c,"month").format("YYYY-MM-DD"));for(var u=o(i.next_billing_date,"MM-DD-YYYY");u.isBefore(e.endDate);){var d=u.add(1,"day").format("YYYY-MM-DD");_.include(l,d)||e.datesDisabled.push(d)}}}]),function(){angular.module("rivals").factory("forecastModalFactory",["$uibModal","userPaths",function(e,t){return{openModal:function(t,n,i,r,o){var a={prospect:t,currentForecast:r,prospectInterests:n,isAdmin:i,upsell:o};return e.open({templateUrl:"modals/userForecastModal.html",controller:"UserForecastModalController as ctrl",size:"xsm",resolve:{params:function(){return a}}})},getRedirectPath:function(e){return e?t.subscribePath:t.signInPath+"?from=forecast"},canOpenModal:function(e){return e&&(e.subscriptions.length>0||e.admin)}}}])}.call(this),angular.module("rivals").controller("forecastsConfirmationModalController",["$uibModalInstance","actionType","forecastSchool","forecastReason","forecastAuthorId","isMyForecasts","selectedPublisher","forecastDate","adminUserService",function(e,t,n,i,r,o,a,s,l){var c=this;c.actionType=t,c.forecastSchool=n,c.forecastReason=i,c.forecastAuthorId=r,c.isMyForecasts=o,c.selectedPublisher=a,c.unlikely="unlikely"===t,c.previousForecastDate=s,"unlikely"===c.actionType&&(c.previousReason=i,c.forecastReason=null),l.info(r).then(function(e){c.publisherName(e)}),c.publisherName=function(e){_.isEmpty(e.first_name&&e.last_name)?c.authorName=e.username:c.authorName=e.first_name+" "+e.last_name},c.save=function(){e.close({result:!0,reason:c.forecastReason})},c.cancel=function(){e.close({result:!1,reason:null})}}]),angular.module("rivals").controller("galleryAdModalController",["$scope","$uibModalInstance","spaceId",function(e,t){e.modal=t}]),angular.module("rivals").controller("galleryModalController",["$scope","$http","$uibModalInstance","directiveScope","isNew",function(e,t,n,i,r){e.isNew=r,e.gallery=i.gallery?angular.copy(i.gallery):{},e.sites=i.sites,e.selectedSite=_.find(i.sites,function(t){return t.id===e.gallery.last_modifying_site_id}),e.csrfToken=$('meta[name="csrf-token"]').attr("content"),r?(e.actionUrl="/publishing/media/galleries",e.handleSubmit=function(){}):(e.actionUrl="/publishing/media/galleries/"+e.gallery.id,e.handleSubmit=function(){e.updateGallery()}),e.updateGallery=function(){e.gallery.last_modifying_site_id=e.selectedSite.id,e.gallery.modifying_site=e.selectedSite.name,e.$parent.gallery=e.gallery,n.close(e.gallery)},e.onChangeSelection=function(t){e.showRanking=t.label==e.types[0].label}}]),angular.module("rivals").controller("galleryPreviewModalController",["$scope","responsiveService","sharingService","$window","userPaths",function(e,t,n,i,r){e.galleryView=!1,e.showButtons=!1,e.activeButton=!1,e.activeTwitter=!1,t.subscribeScopeToResizeEvents(e,function(t,n){e.isMobile="mobile-large"==n.breakpoint||"mobile-small"==n.breakpoint,e.isTablet="tablet"==n.breakpoint}),e.showGallerySlideshow=function(){e.galleryView=!1,e.$broadcast("gallerySlideshow:show")},e.showGalleryIndex=function(){e.galleryView=!0,e.$broadcast("gallerySlideshow:hide")},e.showButtons=function(){e.isMobile||e.isTablet?(e.showFooterIcons=!e.showFooterIcons,e.activeButtonMobile=!e.activeButtonMobile):(e.showPreviewIcons=!e.showPreviewIcons,e.activeButton=!e.activeButton)},e.openShareWindow=function(t){var o=i.location.origin+r.galleriesPath+"/"+e.gallery.id;"facebook"==t?n.shareFacebook(o):"twitter"==t?(n.shareTwitter(o,e.gallery.name),e.activeTwitter=!e.activeTwitter):"reddit"==t&&n.shareReddit(o)},e.buildEmailLink=function(){var t="Check out this gallery from "+e.gallery.original_site,o=e.gallery.name+"\n"+e.gallery.summary+"\n \n"+i.location.origin+r.galleriesPath+"/"+e.gallery.id;return n.emailLink(t,o)}}]),angular.module("rivals").controller("ImageUploadModalController",["$scope","$uibModalInstance","mediaModalService",function(e,t,n){var i=this;i.modal=t,i.openSearchModal=function(){n.showSearchImagesModal().then(function(e){i.modal.close(e[0])})},i.startUpload=function(){n.showImageModal(i,!0,!0).then(function(e){e&&e.length&&i.modal.close(e[0])})},i.showThumbnailImageEditModal=function(e){n.showImageModal(i,e,!0).then(function(e){i.modal.close(e)})}}]),angular.module("rivals").controller("ImpersonatePublisherForecastModalController",["$uibModalInstance","$uibModal","$rootScope","publishers","currentUser",function(e,t,n,i,r){var o=this;o.publishers=i,o.currentUser=r,o.groupPublishers=function(e){return e.id==o.currentUser.user_id?"Return to my Forecasts":"All Publishers"},o.impersonate=function(){e.close({publisher:o.selectedPublisher})},o.cancel=function(){e.close({publisher:null})}}]),angular.module("rivals").controller("inappropriateUserModalController",["$uibModalInstance","cookies","userPaths",function(e,t,n){var i=this;i.customerServicePath=n.customerServicePath(),i.dismiss=function(){e.dismiss(),t.set("inappropriateUserModal",!0,{domain:".rivals.com"})}}]),angular.module("rivals").controller("loadAutoSavePublishingDataContoller",["$scope","$uibModalInstance",function(e,t){e.deleteContent=function(){t.close(!1),e.recoverContent=!1},e.recoverContent=function(){t.close(!0),e.recoverContent=!0}}]),angular.module("rivals").controller("NewTemplateModal",["$scope","$uibModalInstance","$http","adminPaths",function(e,t,n,i){e.modal=t,e.errors={},e.csrfToken=$('meta[name="csrf-token"]').attr("content"),e.createTemplate=function(){n.post(i.apiV1TemplateCreatePath,{name:e.templateName}).then(function(t){e.modal.close(t.data.url)},function(t){e.errors=t.data.errors})},e.resetErrors=function(){e.errors={}}}]),angular.module("rivals").controller("promoUpsellModalController",["$scope","$uibModalInstance","settings","site","cloudinaryEnv","user","userPaths",function(e,t,n,i,r,o,a){var s=this;s.modal=t,s.settings=n,s.site=i,s.headerStyles={"background-color":"#"+n.primary_color,"border-bottom":"#"+n.secondary_color+" 5px solid"},s.shortenedSiteName=s.site.name.replace(".com",""),s.settings.header_name&&""!==s.settings.header_name?s.displayName=s.settings.header_name:s.displayName=s.shortenedSiteName,s.promoCode="99CYBER",s.headerLogoImg="https://res-4.cloudinary.com/"+r+"/image/upload/"+s.settings.header_logo_cloudinary,o?s.promoLink=a.addSubscriptionPromoPath(s.site.friendly_name,"99CYBER"):s.promoLink=a.newUserPromotionPath("99CYBER")}]),function(){"use strict";angular.module("rivals").controller("ReactivateSubscriptionModalController",["$scope","$uibModalInstance","subscriptionService","subscription",function(e,t,n,i){e.subscription=i,e.submitting=!1,e.reactivateSubscription=function(){return e.submitting=!0,n.reactivateSubscription(i.id,window.location.pathname.indexOf("admin")>-1).then(t.close)["catch"](function(t){e.submitting=!1,e.errorMessage="Could not reactivate subscription: "+t})}}])}.call(this),angular.module("rivals").controller("referralModalController",["$scope","$uibModalInstance","settings","site","userPaths","cloudinaryEnv",function(e,t,n,i,r,o){function a(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,i,r="#";for(i=0;3>i;i++)n=parseInt(e.substr(2*i,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),r+=("00"+n).substr(n.length);return r}var s=this;s.modal=t,s.settings=n,s.site=i,s.headerStyles={"background-color":"#"+n.primary_color,"border-bottom":"#"+n.secondary_color+" 5px solid"},s.shortenedSiteName=s.site.name.replace(".com",""),s.modalTitle="Welcome Fantasy Football Fans!!",s.subtitleText="Get 50% off your first year",s.bodyText="Get the edge you need for a successful fantasy sports season with in-depth game previews of your opponent, exclusive access to our in-the-know community, and other valuable premium content!",s.promoCode="CFBFantasy",s.headerLogoImg="https://res-4.cloudinary.com/"+o+"/image/upload/"+s.settings.header_logo_cloudinary,s.signUpPath=r.newUserRegistrationPath,s.signInPath=r.signInPath,s.gradientStyles={"background-image":"linear-gradient(97deg, #"+s.settings.primary_color+", "+a(s.settings.primary_color,-.5)+")"}}]),angular.module("rivals").controller("schoolModalController",["$scope","$http","$uibModalInstance","adminPaths","ctrlScope","authTokenService",function(e,t,n,i,r,o){var a=this;a.states=r.states,a.types=r.types,a.type=r.type,a.sites=r.sites,a.collegeSite=r.collegeSite,a.isNew=!r.highschool&&!r.college,a.highschool=r.highschool?angular.copy(r.highschool):{},a.college=r.college?angular.copy(r.college):{},a.csrfToken=o.getCsrfToken(),a.isNew?(a.actionUrl="highschool"==a.type?i.adminHighschoolsPath:i.adminCollegesPath,"colleges"==a.type&&(a.college.interest_eligible=!1),a.submit=function(){}):(_.isEmpty(a.highschool)?(a.college.state=_.find(a.states,function(e){return e.name==a.college.state||e.abbr==a.college.state}),a.college.site=r.collegeSite,a.college.state=r.collegeState,a.actionUrl=i.adminCollegesPath+"/"+a.college.id):(a.highschool.state=_.find(a.states,{id:a.highschool.state_id}),a.actionUrl=i.adminHighschoolsPath+"/"+a.highschool.id),a.submit=function(){a.updateSchool()}),a.updateSchool=function(){_.isEmpty(a.highschool)?(a.$parent.college=a.college,n.close(a.college)):(a.$parent.highschool=a.highschool,n.close(a.highschool))}}]),angular.module("rivals").controller("SelectListModalController",["$scope","$uibModalInstance","userListsFactory","$uibModal",function(e,t,n,i){e.close=function(){t.dismiss("cancel")},e.findList=function(){var i=$("input.list-url")[0].value,r=i.split("/");if(listsFactory.validateUrl(i)){var o=parseInt(r[r.length-1]);n.getList(o).then(function(n){if(e.isValidListForEnrichment(n.list)){var i={active:!1,football:!1,list_id:parseInt(n.list.id),type:n.list.list_type,list_title:n.list.name};t.close(i)}})}},e.openSearchListModal=function(){i.open({templateUrl:"modals/searchListModal.html",controller:"SearchListModalController",resolve:{title:function(){return"Search Lists"}},windowClass:"list-search-modal"}).result.then(function(n){if(e.isValidListForEnrichment(n)){var i={active:!1,football:!1,list_id:parseInt(n.id),type:n.list_type,list_title:n.name};t.close(i)}})},e.isValidListForEnrichment=function(e){var t=["id","list_type","name"];for(var n in t)if("undefined"==typeof e[t[n]])return!1;return _.include(["Rank","Roster"],e.list_type)?!0:void 0}}]),angular.module("rivals").controller("shareProspectModalController",["$uibModalInstance","$window","sharingService","googleAnalyticsFactory","prospectUrl","prospectId","prospectName","userPaths",function(e,t,n,i,r,o,a,s){var l=this;l.prospectUrl=r,l.prospectName=a,l.prospectId=o,l.shareFacebook=function(){l.shareProspectAnalyticsTrigger("facebook"),n.shareFacebook(l.prospectUrl),e.close()},l.shareTwitter=function(){l.shareProspectAnalyticsTrigger("twitter"),n.shareTwitter(l.prospectUrl,l.prospectName+" - Rivals.com"),e.close()},l.shareReddit=function(){l.shareProspectAnalyticsTrigger("reddit"),n.shareReddit(l.prospectUrl,l.prospectName+" - Rivals.com"),e.close()},l.showEmbed=function(){l.shareProspectAnalyticsTrigger("embed");var t=s.baseSiteUrl();n.showEmbed(l.prospectId,t),e.close()},l.buildEmailLink=function(){return n.emailLink(l.prospectName,l.prospectUrl)},l.shareProspectAnalyticsTrigger=function(e){i.sendEvent("shareProspectInteraction",e+" clicked on prospect card",l.prospectId)},l.close=function(){e.close()},l.prospectCardImage=s.prospectCardPath.replace("id",o)}]),angular.module("rivals").controller("surveyMonkeyModalController",["$uibModalInstance","$sce","ctrlScope",function(e,t,n){var i=this;i.getSurveySrc=function(){return t.trustAsResourceUrl(n.surveyUrl)}}]),angular.module("rivals").controller("UpgradeSubscriptionModalController",["$scope","$uibModalInstance","$http","subscriptionService","subscription","userAddress","obiStatus","obiPromotions",function(e,t,n,i,r,o,a,s){e.subscription=r,e.obiPromotions=s,e.obiStatus=a,e.userAddress=o,e.siteId=r.site_id,e.selectedPlan="annual",e.promotion=null,e.properties={},e.submitting=!1,e.upgradeSubscription=function(){e.submitting=!0,i.upgrade(e.subscription.id,e.note,e.properties.promoCode,e.subscription.refundType).then(t.close)["catch"](function(t){e.errorMessage="Could not upgrade subscription: "+t})}}]),angular.module("rivals").controller("UserForecastModalController",["$uibModalInstance","$rootScope","$timeout","params","userPeopleFactory","userContentsService",function(e,t,n,i,r,o){var a=this;a.prospect=i.prospect,a.prospectInterests=i.prospectInterests,a.selectedSchoolInterest="",a.currentForecast=i.currentForecast,a.upsell=i.upsell,a.errorSchoolMessage=null,a.errorProspectMessage=null,a.isAdmin=i.isAdmin,a.disableForm=!1,a.selectCollege=function(e){a.currentForecast&&e.id===a.currentForecast.prospect_college_id&&!a.currentForecast.no_longer_likely&&(a.errorSchoolMessage="Forecasted School matches the current forecast.")},a.save=function(){if(a.prospect||(a.errorProspectMessage="Select a prospect"),a.selectedSchoolInterest||(a.errorSchoolMessage="Select a school"),!a.hasError()&&!a.disableForm){var i={prospect_college_id:a.selectedSchoolInterest.id,reason:a.forecastReason,prospect_id:a.prospect.id};a.currentForecast&&(i.previous_prospect_college_id=a.currentForecast.prospect_college_id),a.upsell||(a.disableForm=!0),o.saveNewForecast(i).then(function(i){if(i.saved){a.saved=!0;var r=a.isAdmin?"analysts":"fans";t.$broadcast("topForecasts:refresh",r),a.upsell||(t.$broadcast("myForecast:refresh",i.current_forecast),n(e.dismiss,3e3))}else a.errorSchoolMessage=i.errors.join(" "),a.disableForm=!1,a.saved=!1})}},a.getProspects=function(e){return r.fetchPeople("Prospect",e).then(function(e){return e.people})},a.onProspectSelect=function(e){e.can_forecast?e.committed_college_name?a.errorProspectMessage="You cannot make this forecast, "+e.first_name+" has already committed":a.errorProspectMessage=null:e.year<2019?a.errorProspectMessage="The prospect cannot be forecasted":a.errorProspectMessage="You cannot make this forecast, "+e.first_name+" is about to announce a commitment",a.saved=!1,a.prospect=e,a.prospect.id=e.prospect_id,a.selectedSchoolInterest=null,a.forecastReason=null,a.prospectInterests=_.map(e.prospect_colleges,function(e){return e.team_logo=e.college_large_logo,e.team_name=e.college_common_name,e})},a.clearProspect=function(){a.prospect=null,a.prospectInterests=null,a.selectedSchoolInterest=null,a.forecastReason=null,a.errorProspectMessage=null,a.errorSchoolMessage=null,a.saved=!1},a.showTitle=function(){return!a.hasError()&&!a.saved},a.dismiss=function(){e.dismiss()},a.hasError=function(){return a.errorSchoolMessage||a.errorProspectMessage}}]),angular.module("rivals").controller("warningModalController",["$scope","$uibModalInstance","numForecasts",function(e,t,n){if(e.modal=t,n){if(1===n)var i="there is "+n+" user forecast";else i="there are "+n+" user forecasts";e.lineOne="",e.lineTwo="This school cannot be deleted because "+i+" made on it.",e.cancelButton="Close",e.confirmButton=null}else e.lineOne="You have unsaved changes.",e.lineTwo="Would you like to save before leaving the page?",e.cancelButton="Discard changes",e.confirmButton="Save"}]),function(){"use strict";angular.module("rivals").factory("commitmentsService",["$http","responseHandler","httpRequestService",function(e,t,n){var i=function(i){var r="/api/v1/commitments";return i?n.getHttpRequestNoCache(r):e.get(r).then(t.handleSuccess,t.handleErrors)};return{getCommitments:i}}])}.call(this),function(){"use strict";angular.module("rivals").factory("forecastDisplayDatesService",["moment",function(e){var t=function(t,i,r){if(r)var o=new Date(r);else{var a=new Date,s=new Date("3/1/"+t);o=a>s?s:a}var l={};if(2019===t)var c=new Date("6/1/2018");else c=new Date("3/1/"+(t-2).toString());var u=e(c),d=[];for(i.forEach(function(e){for(;new Date(e.forecast_date)-u._d>=0;)u=n(l,u,d),d=[];d.push(e)});o-u._d>=0;)u=n(l,u,d),d=[];return l[e(o).format("MM/DD/YYYY")]=d,l},n=function(t,n,i){return t[e(n._d).subtract(1,"d").format("MM/DD/YYYY")]=i,n.add(7,"d"),n};return{parseData:t}}])}.call(this),function(){"use strict";angular.module("rivals").factory("prospectRankingsService",["$http","responseHandler","httpRequestService","userPaths",function(e,t,n,i){var r=function(r){var o=i.apiV1ProspectRankingsPath;return r?n.getHttpRequestNoCache(o):e.get(o).then(t.handleSuccess,t.handleErrors)};return{getProspectRankings:r}}])}.call(this),function(){"use strict";angular.module("rivals").component("rvCommitStatus",{templateUrl:"rvCommitStatus.html",bindings:{status:"="}})}(),function(){"use strict";angular.module("rivals").directive("rvShareProspect",["$uibModal","googleAnalyticsFactory",function(e,t){return{restrict:"A",scope:{prospectId:"@",prospectUrl:"@",prospectName:"@"},link:function(n,i){function r(){t.sendEvent("shareProspectInteraction","share menu opened from prospect card",null),e.open({templateUrl:"modals/shareProspectModal.html",controller:"shareProspectModalController",controllerAs:"ctrl",windowClass:"share-modal",size:"sm",resolve:{prospectId:function(){return n.prospectId},prospectUrl:function(){return n.prospectUrl},prospectName:function(){return n.prospectName}}})}i.on("click",r)}}}])}.call(this),function(){"use strict";angular.module("rivals").directive("rvUserProspectSearch",["$q","$timeout","search","userPeopleFactory",function(e,t,n,i){return{restrict:"E",scope:{member:"=",query:"=",formValues:"=",sortSideEffect:"="},template:'<rv-sortable-table selected-sport="selectedSport" sort-side-effect="sortSideEffect" subject="subject" categories="categories" no-results="noResults" loading="loading">',link:function(e){function n(){e.subject="people",e.$emit("search:prospects:start"),!e.query&&_.isEmpty(e.formValues)||(i.fetchPeople(e.member,e.query,e.formValues).then(function(t){e.loading=!1,e.noResults=!1,t.error?(e.noResults=!0,e.$emit("search:prospects:done",0)):e.$emit("search:prospects:done",t.total),e.selectedSport=t}),e.loading=!0)}e.categories=[{visibleName:"Name",name:"full_name","class":"player-name-prospects",sortable:!0,dataType:"link"},{visibleName:"Year",name:"year","class":"year",sortable:!0,dataType:"text"},{visibleName:"Pos",name:"position_group_abbreviation",prefix:"prospect_profiles","class":"position",sortable:!0,dataType:"text"},{visibleName:"Stars",name:"stars",prefix:"prospect_profiles","class":"stars",sortable:!0,dataType:"stars"},{visibleName:"RR",name:"rivals_rating",prefix:"prospect_profiles","class":"rating",sortable:!0,dataType:"text"},{visibleName:"Ht",name:"height","class":"",sortable:!0,dataType:"height"},{visibleName:"Wt",name:"weight","class":"",sortable:!0,dataType:"text"},{visibleName:"Hometown",name:"hometown","class":"hometown",dataType:"breakText",textOne:"hometown",sortable:!0,textTwo:"highschool"},{visibleName:"Rank",name:"national_rank","class":"rank",sortable:!0,dataType:"rank"},{visibleName:"School",name:"committed_college_name",prefix:"prospect_profiles","class":"school-name-prospects",sortable:!0,dataType:"text"}],e.$on("search:prospects",n),t(function(){(e.query||Object.keys(e.formValues)>3)&&n()})}}}])}.call(this),function(){"use strict";function e(e,t){var n=e[0][0].team;return n.team_id.substr(8)==t?n.images[1].image.url:e[1][0].team.images[1].image.url}function t(e,t,n,i){var r=n+".t."+t;if(e.isAwayGame=e.team_ids[0].away_team_id===r,2==e.teams.length)var o=e.isAwayGame?e.teams[1][0].team:e.teams[0][0].team,a=e.isAwayGame?e.team_ids[1].home_team_id:e.team_ids[0].away_team_id;e.opponentOverallRecord=o?o.team_standing.team_record.display:"";var s=_.find(i,function(e){return a?"ncaab"===n?Number(a.substr(8))===e.maple_ncaab_team_id:Number(a.substr(8))===e.maple_ncaaf_team_id:void 0}),l=_.find(e.teams,function(e){return a===e[0].team.team_id});s?(e.opponentName=s.friendly_name,e.opponentSiteLink="https://"+s.subdomain+".rivals.com"):(e.noLink=!0,e.opponentName=l?l[0].team.first_name:"TDB"),l&&(e.opponentLogoUrl=_.chain(l[0].team.images).pluck("image").find({type:"image.type.team_logo_medium"}).value().url)}angular.module("rivals").factory("scheduleService",["$http",function(n){var i=function(e,t,n){return"https://api-secure.sports.yahoo.com/v1/editorial/team/:league.t.:collegeId;out=standings,rankings/games;out=teams;season=:season?format=json".replace(":league",e).replace(":collegeId",t).replace(":season",n)},r=function(r,o,a,s){return n.get(i(o,r,s)).then(function(n){var i=n.data,l=i.team.games,c=i.team.team_alias,u="https://sports.yahoo.com"+c+"schedule/"+(s?"?season="+s:"");if(!l.length)return{league:o,games:[],seeMoreUrl:u,noScheduleText:"schedule not available"};var d=a?e(l[0].game.teams,r):"",p=i.team.team_standing.team_record.display,h=i.team.team_standing.team_conference_record.display;return l=_.map(l,function(e){var n=e.game;return t(n,r,o,a),n}),{league:o,games:l,seeMoreUrl:u,siteLogoUrl:d,overallRecord:p,conferenceRecord:h}},function(e,t){return{error:e.error,status:t}})};return{getSchedule:r}}])}.call(this),function(){"use strict";angular.module("rivals").factory("teamRankingsService",["$http","states","moment",function(e,t,n){var i=function(e,t,n,i){var r="/api/v1/content/team_rankings?year="+e+"&conference="+t+"&sport="+n;return angular.isDefined(i)&&(r+="&limit="+i),r},r=function(t,r,o,a){return t=t||n().format("YYYY"),r=r||"All Teams",o=o||"Football",a=a||void 0,e.get(i(t,r,o,a)).then(function(e){return e.data},function(e){return{error:e.data.error,status:e.status}})},o=function(t){var n=t?"/api/v1/conferences.json?sport="+t:"/api/v1/conferences.json";return e.get(n).then(function(e){return e.data},function(e){return{error:e.data.error,status:e.status}})};return{getConferences:o,getRankings:r}}])}.call(this),angular.module("rivals").factory("userPeopleFactory",["$http","userPaths","states","responseHandler",function(e,t,n,i){function r(t,n){return e.post(t,n).then(i.handleSuccess,i.handleErrors)}function o(t){return e.get(t).then(i.handleSuccess,i.handleErrors)}return{buildPayload:function(e,t,n){var i={search:{member:e}};if(t&&t.length>0&&(i.search.query=t),n)for(var r in n)"number"==typeof n[r]||"boolean"==typeof n[r]?i.search[r]=n[r].toString():i.search[r]=n[r];return i},fetchPeople:function(e,t,n){var i="/api/v1/people",o=this.buildPayload(e,t,n);return r(i,o)},fullTextFetchPeople:function(e,t){var n="/api/v1/publishing/people?search[member]="+e;return t&&t.length>0&&(n+="&search[query]="+t),o(n)},getProspect:function(n){return e.get(t.prospectApiPath+"/"+n).then(i.handleSuccess,i.handleErrors)}}}]),angular.module("rivals").service("braintreeService",["$http","responseHandler",function(e,t){this.getBraintreeClientToken=function(){return e.get("/api/v1/braintree_client_token.json").then(t.handleBraintree,t.handleErrors)}}]),angular.module("rivals").directive("braintreeForm",["$window","$http","$templateCache","$timeout","braintreeService","braintreeConfig",function(e,t,n,i,r,o){return{restrict:"A",link:function(i,a,s){function l(e){var i;e.append(n.get("fakeBraintreeForm.html")),e.closest("form")[0].addEventListener("submit",function(n){if(!i){n.preventDefault();var r={};e.find(".card-field").each(function(e,t){r[$(t).attr("id")]=$(t).val()}),t.post("/arborbellum/store_billing",r).then(function(t){var n=$("<input type=hidden name=payment_method_nonce>");i=t.data.payment_method_nonce,n.val(i);var r=e.closest("form");r.append(n),r.submit()})}})}function c(t){var n=a.closest("form")[0],r=n.addEventListener;n.addEventListener=function(e,t,o,a){if("submit"===e){var s=t;t=function(){i.$apply(function(){i[n.name].submitting=!0}),angular.element("#"+u).is(":visible")&&s.apply(this,arguments)}}return r.call(n,e,t,o,a)};var s=angular.element("#"+u);s.length>0&&(o.fakeBraintree?l(s):e.braintree.setup(t,"dropin",{container:u,onError:function(){i.$apply(function(){i[n.name].submitting=!1})}}))}var u=s.braintreeForm||"dropin";r.getBraintreeClientToken().then(c)}}}]),function(){"use strict";angular.module("rivals").controller("GiftController",["giftService","$location","userService","userPaths",function(e,t,n,i){var r=this;r.redeemForm=angular.element("#gift-redeem-form"),r.formSubmitted=!1,r.validUserEmail=!0,r.validPassword=!0,n.getCurrentUserInfo().then(function(e){var t=e.user;t&&(r.hasExistingSub=_.find(t.subscriptions,function(e){return e.id===r.site.id}))}),r.init=function(t){r.site=t,e.retrieveGiftToken().then(function(e){r.token=e.token,o(r.token)})};var o=function(t){e.getGiftInfo(t).then(function(e){200===e.status_code?(r.durationUnit=e.duration_unit,r.duration=e.duration,r.expirationDate=e.end_date,r.message=a()):(r.error=e.errors[0].raw_text,r.customerServicePath=i.customerServicePath())})},a=function(){if(r.duration>1)var e="s";else e="";return r.hasExistingSub?"This gift adds "+r.duration+" "+r.durationUnit+e+" to your "+r.site.friendly_name+" subscription. You will not be billed again until "+r.expirationDate+".":"You have been gifted a subscription to "+r.site.friendly_name+". Enjoy your gift subscription for "+r.duration+" "+r.durationUnit+e+"."};r.showError=function(e){return r.formSubmitted&&_.isEmpty(e)},r.emailValidation=function(e){var t=/^[A-Za-z0-9_%+-](?:\.?[A-Za-z0-9_%+-]+)*@[A-Za-z0-9-](?:\.?[A-Za-z0-9-]+)*\.[A-Za-z]+$/;r.validUserEmail=t.test(e)},r.validatePassword=function(e){r.validPassword=e.length>=9&&/\d/.test(e)},r.isValid=function(){var e=!0,t=angular.element("input.input-block.required");return _.each(t,function(t){""===t.value&&(e=!1)}),(r.validUserEmail===!1||r.validPassword===!1||angular.element("div.error-reason").length>0||r.formSubmitted&&!r.redeemForm.get(0).checkValidity())&&(e=!1),e},r.submit=function(){r.redeemForm.get(0).checkValidity()&&r.isValid()?(r.submitting=!0,r.redeemForm.submit()):(r.submitting=!1,r.formSubmitted=!0)}}])}.call(this),angular.module("rivals").factory("giftService",["$http","responseHandler",function(e,t){var n=function(n){return e.get("/api/v1/gifts/gift_info.json",{params:{token:n}}).then(t.handleSuccess,t.handleErrors)},i=function(){return e.get("/api/v1/gifts/retreive_token").then(t.handleSuccess)};return{getGiftInfo:n,retrieveGiftToken:i}}]),angular.module("rivals").factory("obiIframeFunctions",["$timeout","userSubscriptionService","alertFactory","$window","$interval","$location","$anchorScroll",function(e,t,n,i,r,o,a){return function(t){t.addressFields=["first_name","last_name","street_1","street_2","city","state","country","zip"],t.obiTokenWait=0,t.taxFields=["street_1","city","state","country","zip"],t.usingDebitCard=!1,t.debitCardAgreement=!1,t.vermontCustomer=!1,t.vermontOptedIn=!1,t.address={},t.getAddress=function(){return _.each(t.taxFields,function(e){angular.isDefined(t[e])&&t.address[e]!==t[e]&&(t.address[e]=t[e])}),t.address},t.addHiddenField=function(e,n){var i=angular.element('[name="'+e+'"]');angular.isDefined(n)&&(0===i.length&&(i=document.createElement("input"),i.type="hidden",i.name=e,t.parentForm.append(i)),i.value=n)},t.addHiddenTokenField=function(){t.addHiddenField(t.tokenFieldName||"obi_token",t.token),t.addHiddenField(t.expiryDateFieldName||"card_exp",t.expiryDate),t.addHiddenField(t.paymentTypeFieldName||"card_type",t.cardType),_.each(t.addressFields,function(e){t.addHiddenField(e,t[e])})},t.checkModalErrors=function(){var n=document.getElementById("modal-submit-button");if(null!==n){var i=!1;e(function(){if(t.obiForm){var e=t.obiForm.querySelectorAll("#reset-modal")[0];angular.isDefined(e)&&e.disabled&&(t.isLoading=!1,t.submitting=!1),_.each(t.obiForm.find(".error-msg"),function(e){""!==e.innerText&&(i=!0)})}n.disabled=i,t.submitting===!0&&(n.disabled=!0),t.checkModalErrors()},500)}},t.checkForms=function(){0===angular.element(".obi-iframe").contents().find("#checkout-form").length?e(function(){t.checkForms()},500):t.setForms()},t.formatExpiryDate=function(e){return e=e.replace(/\//g,""),3!==e.length&&5!==e.length||(e="0"+e),4===e.length&&(e=e.substring(0,2)+"20"+e.substring(2,4)),e},t.getOtherParams=function(){t.formExpiryDate=t.obiForm.find("#card-expiry-date").val(),t.expiryDate=t.formatExpiryDate(t.formExpiryDate)},t.setVTCustomer=function(e){t.parentForm.hasClass("gift-purchase-form")||(t.vermontCustomer="VT"===e)},t.setAddressField=function(e){var n=t.obiForm.find("#obi-"+e);"state"===e&&t.setVTCustomer(n.val()),t[e]="free"==t.planType?null:n.val()},t.setAddressFields=function(){t.setAddressField("country"),_.each(t.addressFields,function(e){var n=t.obiForm.find("#obi-"+e);angular.isUndefined(n[0].onChange)&&(n[0].onchange=function(){t.setAddressField(e)})})},t.setForms=function(){t.obiForm=angular.element(".obi-iframe").contents().find("#checkout-form"),t.setAddressFields(),t.parentForm.hasClass("gift-purchase-form")&&t.hideDebitInfo()},t.submit=function(e,n){n&&n.preventDefault(),t.isLoading=!0,t.submitting=!0,t.planType=e,t.updateAddressFields(),t.getOtherParams(),t.obiForm.contents().find("#submit-button").click(),t.token=t.waitForObiToken(t.finishSubmit,e)},t.updateAddressFields=function(){t.setAddressField("country"),_.each(t.addressFields,function(e){t.obiForm.find("#obi-"+e);angular.isUndefined(t.item)&&t.setAddressField(e)})},t.waitForObiToken=function(i,r){e(function(){var e=t.obiForm.find("#token").text(),s=t.obiForm.find("#card_type").text(),l=t.usingDebitCard,c=t.obiForm.find("#error").text();"free"===r?i():e?(t.token=e,t.cardType=s,l&&(t.cardType=t.cardType+"_DEBIT"),i()):c?(c.split(":").length>1&&(c=c.split(":")[1]),n.displayAlert(c,"severe",10),"alert"===o.hash()?o.hash("modal-header"):o.hash("alert"),a(),t.submitting=!1):(t.obiTokenWait=t.obiTokenWait+500,t.obiTokenWait>=3e4?(t.submitting=!1,alert("Your payment is taking too long to go through, please check your internet connection, refresh the page and try again")):t.waitForObiToken(i))},500)},t.collectFormValues=function(){var e=angular.element(".obi-iframe").contents();t.usingDebitCard=e.find("#obi-debit_card").prop("checked")},r(t.collectFormValues,500),e(function(){t.checkForms(),t.checkModalErrors()})}}]),function(){"use strict";angular.module("rivals").directive("orderSummary",["planService","siteFactory","userSubscriptionService","userService",function(e,t,n,i){return{restrict:"E",templateUrl:"orderSummary.html",scope:{promotion:"=",siteId:"=",selectedPlan:"=",change:"=",refund:"=",subscription:"=",newUser:"=",address:"<"},link:function(r){r.subscription||t.getSites().then(function(e){r.sites=e.reduce(function(e,t){return e[t.id]=t,e},{})}),e.getPlans().then(function(e){r.plans=e}),angular.isDefined(r.subscription)&&!r.subscription.actions.already_billed?r.default_refund="cancel_now_full_refund":angular.isDefined(r.subscription)&&(r.default_refund="cancel_now_no_refund"),r.discountForPlan=function(){if(!r.plans||!r.promotion)return 0;if(_.include(["free_trial","sale_promo"],r.promotion.type))return 0;if("amount"===r.promotion.unit)return parseFloat(r.promotion.amount);if("percent"===r.promotion.unit){var e=r.plans[r.selectedPlan].upfront_cost,t=e*(r.promotion.amount/100);return Math.round(100*t)/100}},r.totalForPlan=function(){if(!r.plans)return 0;var e=r.priceForPlan()-r.discountForSite()-r.discountForPlan();return 0>=e?0:e+r.getEstimatedTax()},r.getUserAddress=function(){r.fetchingUser=!0,i.getCurrentUserInfo().then(function(e){r.fetchingUser=!1,""!==e&&(r.address=e.user.location)},function(){r.fetchingUser=!1})},r.setParams=function(){var e=parseInt(""+r.siteId);if(!angular.isDefined(r.siteId)||!isFinite(e))return!1;var t=["street_1","city","state","zip"],n={site_id:e,plan:r.selectedPlan};n=r.setPromo(n);var i=!0,o=angular.element("iframe.obi-iframe");return _.each(t,function(e){if(angular.isDefined(o[0])){var t=o[0].contentWindow.document.getElementById("obi-"+e);if(angular.isDefined(t)&&null!==t)var a=t.value}angular.isDefined(t)&&""!==a?n[e]=a:angular.isDefined(r.address[e])?n[e]=r.address[e]:i=!1}),i?n:!1},r.setPromo=function(e){return angular.isDefined(r.promotion)&&null!==r.promotion&&r.promotion.valid===!0&&(e.promo_code=r.promotion.code),e},r.getEstimatedTax=function(){if(r.newUser||!angular.isUndefined(r.address)||r.fetchingUser||r.getUserAddress(),angular.isUndefined(r.address)||null===r.address)return 0;var e=r.setParams();if(!e)return 0;if(!/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(r.address.zip))return 0;if(_.isEqual(r.cacheParams,e)){if(angular.isDefined(r.estimatedTax))return r.estimatedTax;if(r.addressError)return 0}else angular.isDefined(r.selectedPlan)&&!r.fetching&&(r.fetching=!0,r.cacheParams=e,n.estimateTax(e).then(function(e){r.fetching=!1,r.addressError=!1,r.estimatedTax=e.estimated_tax_amount},function(){r.addressError=!0,
r.fetching=!1}));return r.estimatedTax?r.estimatedTax:0},r.priceForPlan=function(){return r.plans?parseFloat(r.plans[r.selectedPlan].upfront_cost):void 0},r.discountForSite=function(){if(""===r.siteId)return 0;if(r.sites){var e=r.sites[r.siteId];if(e&&e.annual_discount&&"annual"==r.selectedPlan)return e.annual_discount}return 0},r.$on("summary:change_address",function(e,t){r.address=t})}}}])}.call(this),angular.module("rivals").service("planService",["$http","responseHandler",function(e,t){this.getPlans=function(){return e.get("/api/v1/plans.json").then(t.handleSuccess,t.handleErrors)}}]),function(){angular.module("rivals").component("promoCode",{transclude:!0,templateUrl:"promoCode.html",bindings:{promotionSuccess:"&",promotionError:"&",selectedPlan:"<",siteId:"<",existingSubscriptionId:"<",initialError:"<",promoCode:"=?",userId:"<",isPromoPage:"<"},controller:["$scope","$element","$attrs","$window","promotionService",function(e,t,n,i,r){var o=this;o.btnApply=!0,o.promoAction="Apply",o.loading=!1,o.$onInit=function(){o.promotionDetails={valid:!0},o.initialError&&(o.promotionDetails={message:o.initialError[0],valid:!1}),e.$watch("$element.find('input').length",function(){t.find("input").length>0&&o.onInputInit()})},e.$parent.$watchGroup(["selectedPlan","siteId"],function(e,t){e!==t&&(o.selectedPlan=e[0],o.siteId=e[1],o.btnApply=!0,o.checkValid())}),o.onInputInit=function(){o.input=t.find("input"),o.input.on("keydown",function(e){13===e.keyCode&&(e.preventDefault(),o.checkValid())}),o.inputId=o.input.attr("id"),e.$watch(function(){return o.input[0]?o.input[0].value:void 0},function(e){o.promoCode=e}),o.input.val()&&(o.btnApply=!0,o.checkValid())},o.checkValid=function(){if(o.btnApply){o.promoAction="Apply";var e=a(),i=o.input.val()||t.find(".promo-code-block").val();if(o.siteId=o.siteId||n.promoCodeSiteId,!i||"free"===o.selectedPlan||!o.siteId)return;o.loading=!0,r.validatePromoCode(i,o.selectedPlan,o.siteId,o.existingSubscriptionId,o.userId,e).then(function(e){e.error?(o.promotionDetails={valid:!1,message:e.error},o.promotionError()):(o.promotionDetails={valid:!0,code:e.code,message:e.description,name:e.name,type:e.type,plansAvailable:e.available_plan},"discount"==e.type?(o.promotionDetails.amount=e.amount,o.promotionDetails.unit=e.unit):(o.promotionDetails.duration=e.duration,o.promotionDetails.duration_unit=e.duration_unit),o.promotionSuccess({$promotion:o.promotionDetails,$promoCode:i})),o.btnApply=!o.btnApply,o.promoAction=o.btnApply?"Apply":"Remove",o.loading=!1})}else o.promotionDetails={valid:!0},o.promotionError(),o.btnApply=!o.btnApply,o.promoAction=o.btnApply?"Apply":"Remove"};var a=function(){var e=i.location.search.split("&"),t=_.find(e,function(e){return"ref"===e.split("=")[0]});return t&&(t=t.split("=")[1]),t}}]})}.call(this),angular.module("rivals").service("promotionService",["$http","responseHandler",function(e,t){this.validatePromoCode=function(n,i,r,o,a,s){var l={code:n,plan:i,site_id:r,existing_subscription_id:o,user_id:a,ref_code:s};return e.get("/api/v1/promotions/validate.json",{params:l}).then(t.handleSuccess,function(e){return e.data})},this.getPromotions=function(n,i,r){return e.post("/api/v1/promotions/search.json",{search_params:{page:n,sort_filters:i,search_filters:r}}).then(t.handleSuccess,t.handleErrors)}}]),angular.module("rivals").controller("purchaseGift",["obiIframeFunctions","$uibModal","userService","userSubscriptionService","$window",function(e,t,n,i,r){var o=this;o.init=function(e,t,n,i){o.plans=e,o.subscriptionLength=parseInt(e[n].display_name.split(" ")[0]),o.subscriptionLengthUnit=e[n].display_name.split(" ")[1],o.selectedPlan=o.subscriptionLength+" "+o.subscriptionLengthUnit,o.planPrice=e[n].display_name.split(" ")[3],o.salePrice=o.priceToInt(o.planPrice),o.plan=o.selectedPlan+" - "+o.planPrice,o.cardOnFile=!0,o.currentUser=i,o.validRecipientEmail=!0,o.validGiverEmail=!0,t&&(o.siteId=t.id),o.formSubmitted=!1,angular.isDefined(i)&&null!==i&&(o.giverName=i.full_name,o.giverEmail=i.email);try{FormAbandonmentTracker.init(ga,"obi-registration-form","GiftPurchaseDropOff","Form Abandonment")}catch(r){"ReferenceError"!==r.name?console.log(r):console.log("FormAbandonmentTracker not defined")}},o.parentForm=angular.element("#obi-registration-form");var a=angular.element(".obi-iframe");if(a.length>0){o.newUser=!0,e(o);var s=o.submit;o.submit=function(){giftPurchaseForm.checkValidity()&&o.validForm()?s():o.formSubmitted=!0}}else o.submit=function(){giftPurchaseForm.checkValidity()&&o.validForm()?o.finishSubmit():o.formSubmitted=!0};o.hideDebitInfo=function(){var e=angular.element("iframe.obi-iframe");if(angular.isDefined(e[0])){var t=e[0].contentWindow.document.getElementById("debit_input");angular.isDefined(t)&&null!==t&&angular.element(t).hide()}},o.priceToInt=function(e){var t=e.substr(1).split(".");return parseInt(t[0]+t[1])},o.selectPlan=function(e){var t=e.split(" ");o.selectedPlan=t[0]+" "+t[1],o.subscriptionLength=parseInt(t[0]),o.subscriptionLengthUnit=t[1],o.planPrice=t[3],o.salePrice=o.priceToInt(o.planPrice)},o.setParams=function(){if(!isFinite(o.siteId))return!1;var e=["street_1","city","state","zip"],t={site_id:o.siteId,plan:o.subscriptionLengthUnit},n=!0,i=angular.element("iframe.obi-iframe");return t.sale_price=o.salePrice,_.each(e,function(e){if(angular.isDefined(i[0])){var r=i[0].contentWindow.document.getElementById("obi-"+e);if(angular.isDefined(r)&&null!==r)var a=r.value}""!==t.site_id&&(angular.isDefined(r)&&""!==a&&angular.isDefined(a)?t[e]=a:o.address&&angular.isDefined(o.address[e])?t[e]=o.address[e]:null!==o.currentUser?t[e]=o.currentUser.location[e]:n=!1)}),n?t:void 0},o.getTotalPrice=function(){return angular.isDefined(o.totalPrice)?o.totalPrice:o.planPrice},o.getTaxEstimate=function(){var e=o.addressParams?o.addressParams:o.setParams();if(!e)return 0;if(!angular.isDefined(e)||!/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(e.zip))return null;if(_.isEqual(o.cacheParams,e)){if(angular.isDefined(o.estimatedTax))return o.estimatedTax;if(o.addressError)return 0}else angular.isDefined(o.subscriptionLengthUnit)&&!o.fetching&&(o.fetching=!0,o.cacheParams=e,i.estimateGiftTax(e).then(function(e){o.fetching=!1,o.addressError=!1,o.estimatedTax=e.totalTax,o.totalPrice=e.totalPrice},function(){o.addressError=!0,o.fetching=!1}));return o.estimatedTax?o.estimatedTax:0},o.emailValidation=function(e,t){var n=/^[A-Za-z0-9_%+-](?:\.?[A-Za-z0-9_%+-]+)*@[A-Za-z0-9-](?:\.?[A-Za-z0-9-]+)*\.[A-Za-z]+$/;"recipient"===t?o.validRecipientEmail=n.test(e):o.validGiverEmail=n.test(e)},o.scrollToError=function(){o.validForm()||r.scrollTo(0,550)},o.showError=function(e){return o.formSubmitted&&_.isEmpty(e)},o.validForm=function(){var e=!0,t=angular.element(".required");return _.each(t,function(t){""===t.value&&(e=!1)}),null===o.getTaxEstimate()&&(e=!1),o.validRecipientEmail||(e=!1),o.validGiverEmail||(e=!1),o.formSubmitted&&!giftPurchaseForm.checkValidity()&&(e=!1),e},o.finishSubmit=function(){$("#submit").html("<div class=spinner/>"),(o.newUser||o.newPaymentMethod)&&o.addHiddenTokenField(),o.parentForm.submit()}}]),angular.module("rivals").controller("registrationController",["obiIframeFunctions",function(e){var t=this,n=angular.element(".obi-iframe");t.parentForm=angular.element("#obi-registration-form"),t.editBilling=!1,t.submitting=!1,t.validPassword=!0,t.siteSelected=!1,t.validUserEmail=!0,t.validInput=!0,n.length>0?(t.newUser=!0,e(t)):t.submit=function(){t.submitting=!0,t.finishSubmit()};try{FormAbandonmentTracker.init(ga,"obi-registration-form","SubscriptionDropOff","Form Abandonment")}catch(i){"ReferenceError"!==i.name?console.log(i):console.log("FormAbandonmentTracker not defined")}t.editBillingInfo=function(){t.editBilling=!0,e(t)},t.finishSubmit=function(){(t.newUser||t.newPaymentMethod||t.editBilling)&&t.addHiddenTokenField(),t.parentForm.submit()},t.emailValidation=function(e){var n=/^[A-Za-z0-9_%+-](?:\.?[A-Za-z0-9_%+-]+)*@[A-Za-z0-9-](?:\.?[A-Za-z0-9-]+)*\.[A-Za-z]+$/;t.validUserEmail=n.test(e)},t.validatePassword=function(e){t.validPassword=e.length>=9&&/\d/.test(e)},t.siteSelectedValidation=function(e){t.siteSelected=!!e},t.vermontAddress=function(){var e=angular.element("#div_address_data"),n="";return angular.isDefined(e)&&(n=e.attr("data_address_state")),t.vermontCustomer===!1?!1:"VT"==n?!0:void 0},t.isValid=function(e){var n=!0,i=t.validUserEmail&&t.validPassword,r=angular.element(".registration-input-block");return _.each(r,function(e){""===e.value&&(n=!1)}),"annual"===e&&(t.vermontCustomer||t.vermontAddress())&&t.vermontAnnualOptedIn!==!0&&(n=!1),(t.usingDebitCard&&!t.debitCardAgreement||t.submitting||!i||angular.element(".input-error").length>0)&&(n=!1),n}}]),function(){"use strict";angular.module("rivals").directive("rvBraintreeForm",["$window","braintreeService","braintreeConfig","$templateCache","$http",function(e,t,n,i,r){var o=function(n,i,r){t.getBraintreeClientToken().then(function(t){i.empty(),e.braintree.setup(t,"dropin",{container:r,onError:function(e){n.onError({$error:e})},onPaymentMethodReceived:function(e){n.paymentMethodReceived({$paymentMethod:e})}})})},a=function(e,t){var n;t.append(i.get("fakeBraintreeForm.html")),t.closest("form")[0].addEventListener("submit",function(i){if(!n){i.preventDefault();var o={};t.find(".card-field").each(function(e,t){o[$(t).attr("id")]=$(t).val()}),r.post("/arborbellum/store_billing",o).then(function(i){var r=$("<input type=hidden name=payment_method_nonce>");n=i.data.payment_method_nonce,r.val(n);var o=t.closest("form");e.paymentMethodReceived&&e.paymentMethodReceived({$paymentMethod:{nonce:n}}),o.append(r),o.submit()})}})};return{restrict:"E",template:"<div></div>",scope:{paymentMethodReceived:"&",onError:"&"},link:function(e,t,i){var r=i.containerId||"dropin",s=t.children().first();s.attr("id",r),n.fakeBraintree?a(e,s,r):o(e,s,r)}}}])}.call(this),function(){"use strict";angular.module("rivals").component("rvObiSubscriptionForm",{restrict:"E",templateUrl:"rvObiSubscriptionForm.html",bindings:{userId:"<",outerForm:"=",selectedPlan:"<",siteId:"<",onPaymentChange:"<",obiPromotions:"<"},controller:["$http","userPaths","$scope","flipperService",function(e,t,n,i){var r=this;r.showingPaymentForm=!1,r.editBillingInfo=function(){r.outerForm.editBillingInfo()},r.paymentChange=function(e){r.showingPaymentForm=e,n.$emit("isShowingPaymentForm",e)},r.$onInit=function(){i.get(["obi_edit_billing_info"]).then(function(e){r.obiEditBillingInfo=e.obi_edit_billing_info}),e.get(t.apiV1UserBillingInfoShowPath).then(function(e){r.paymentMethod=e.data}),r.outerForm.paymentMethodMissing=r.paymentMethodMissing},n.$on("updateBillingInfo",function(e,t){r.paymentMethod=t.data}),r.paymentMethodMissing=function(){return angular.isUndefined(r.paymentMethod)?!0:15===r.paymentMethod.obfuscated_credit_card.length&&!r.paymentMethod.expiration_date&&!r.paymentMethod.postal_code}}]})}(),function(){"use strict";angular.module("rivals").component("rvSubscriptionReferral",{restrict:"E",templateUrl:"rvSubscriptionReferral.html",bindings:{referralPromotion:"<",referFriendId:"<"},controllerAs:"ctrl",controller:["$scope","userPaths","$document","$timeout",function(e,t,n,i){var r=this;r.$onInit=function(){r.referralUrl=t.referralPath(r.referFriendId)},angular.element(n).ready(function(){r.clipboard=new Clipboard(".clipboard"),r.copied=!1,r.clipboard.on("success",function(){r.copied=!0,i(function(){r.copied=!1},2e3),e.$digest()})})}]})}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("subscriptions/rvSubscriptionTicket.html","<div class='new-subscription-ticket' id='subscription-{{ctrl.subscription.id}}'>\n<div class='tri-shade-header' style='background-color: {{ ctrl.site.primary_color }}'></div>\n<div class='title'>{{ctrl.site.name}}</div>\n<div class='promo-info-container' ng-if='ctrl.subscription.promo_info'>\n<div class='promo-badge'>\n<span class='promo-badge-text'>\n{{ ctrl.subscription.promo_info.promo_type }}\n</span>\n</div>\n<div>\n{{ ctrl.subscription.promo_info.promo_description }}\n</div>\n</div>\n<div class='information-line subscription-type'>{{ctrl.subscription.description}}</div>\n<div class='information-line' ng-if='ctrl.subscription.nominal_plan_amount' ng-show='ctrl.subscription.nominal_plan_amount'>{{ctrl.subscription.nominal_plan_amount}}</div>\n<div class='information-line' ng-if='ctrl.subscription.next_billing_date'>Next billing date {{ctrl.subscription.next_billing_date | date:'M/d/yyyy' }}</div>\n<div class='information-line' ng-if='ctrl.subscription.status_details'>{{ctrl.subscription.status_details}}</div>\n<div class='information-line' ng-if='ctrl.subscription.is_web' ng-show='ctrl.subscription.tax'>Tax: {{ctrl.subscription.tax}}</div>\n<a class='information-line' ng-href='{{ctrl.mobileStoreLink}}' ng-if='!ctrl.subscription.is_web' target='_blank'>\n{{ctrl.subscription.service_display_name}} Subscription\n</a>\n<div class='cancel-link-container' ng-if='ctrl.showCancelButton() &amp;&amp; !ctrl.upgradeFormVisible &amp;&amp; ctrl.subscription.isUpgradeable &amp;&amp; ctrl.showUpgradeButton() &amp;&amp; ctrl.subscription.is_web'>\n<button class='upgrade-subscription-button' href='' ng-click='ctrl.showUpgradeForm()' ng-disabled='ctrl.submitting'>Upgrade to Annual</button>\n<a class='cancel-subscription-link-with-upgrade' href='/users/subscriptions/{{ctrl.subscription.id}}/cancellation' ng-disabled='ctrl.submitting'>Cancel Subscription</a>\n</div>\n<div class='cancel-link-container' ng-if='ctrl.showCancelButton() &amp;&amp; !ctrl.upgradeFormVisible &amp;&amp; !ctrl.subscription.isUpgradeable &amp;&amp; ctrl.subscription.is_web'>\n<a class='cancel-subscription-link' href='/users/subscriptions/{{ctrl.subscription.id}}/cancellation' ng-disabled='ctrl.submitting'>Cancel Subscription</a>\n</div>\n<div class='information-line' ng-if='!ctrl.showCancelButton()'>\n<div class='upgrade-btn-container' ng-if='!ctrl.upgradeFormVisible &amp;&amp; ctrl.subscription.isUpgradeable &amp;&amp; ctrl.showUpgradeButton() &amp;&amp; ctrl.subscription.is_web'>\n<button class='upgrade-subscription-button' href='' ng-click='ctrl.showUpgradeForm()' ng-disabled='ctrl.submitting'>Upgrade to Annual</button>\n</div>\n</div>\n<form class='payment-information' name='upgradeForm' ng-if='ctrl.upgradeFormVisible &amp;&amp; ctrl.subscription.is_web' ng-submit='ctrl.onUpgradeSubmit($event, ctrl)'>\n<input name='site_id' ng-model='ctrl.site.id' type='hidden'>\n<input name='existing_subscription_id' ng-model='ctrl.subscription.id' type='hidden'>\n<div class='payment-header'>Billing Information</div>\n<div class='payment-method' ng-if='ctrl.paymentMethod &amp;&amp; !ctrl.editPaymentMethod'>\n<div class='payment-info-line'>\n<span class='payment-info-title'>Credit Card Number</span>\n<span class='payment-info-details'>{{ctrl.paymentMethod.obfuscated_credit_card}}</span>\n</div>\n<div class='payment-info-line'>\n<span class='payment-info-title'>Expiration Date</span>\n<span class='payment-info-details'>{{ctrl.paymentMethod.expiration_date}}</span>\n</div>\n<div class='payment-info-line'>\n<span class='payment-info-title'>Postal Code</span>\n<span class='payment-info-details'>{{ctrl.paymentMethod.postal_code}}</span>\n</div>\n</div>\n<div class='upgrade-button' ng-if='ctrl.subscription.isUpgradeable &amp;&amp; ctrl.showUpgradeButton() &amp;&amp; ctrl.subscription.is_web'>\n<a class='btn-update-billing-info' href='' ng-click='ctrl.editBillingInfo()' ng-if='!ctrl.obiStatus || ctrl.obiEditBillingInfo'>\nEdit Billing Info\n</a>\n</div>\n<div class='payment-info' ng-if='ctrl.braintreeStatus'>\n<div class='braintree-form-container' ng-if='ctrl.editBraintree'>\n<rv-braintree-form container-id='dropin_{{ctrl.subscription.id}}' on-error='ctrl.submitting = false' payment-method-received='ctrl.upgradeSubscription($paymentMethod, upgradeForm)'></rv-braintree-form>\n<a class='btn btn-default' href='' ng-click='ctrl.editBraintree = false'>\nCancel\n</a>\n</div>\n</div>\n<promo-code existing-subscription-id='$parent.ctrl.subscription.id' ng-hide='ctrl.obiStatus &amp;&amp; !ctrl.obiPromotions' promo-code='$parent.promoCode' promotion-error='promotion = null' promotion-success='$parent.promotion = $promotion' selected-plan='$parent.selectedPlan' site-id='$parent.ctrl.site.site.id' style='margin: 12px'>\n<input class='form-control string input-block' id='promo_code'>\n</promo-code>\n<order-summary address='ctrl.getAddress()' promotion='promotion' selected-plan='ctrl.selectedPlan' site-id='$parent.ctrl.siteId'></order-summary>\n<div id='vermont_annual_opt_in' ng-if='ctrl.vermontAddress'>\n<label class='form-group vermont_annual_opt_in'>\n<input ng-model='ctrl.vermontOptedIn' type='checkbox'>\nI understand and agree that my subscription will be automatically renewed on an annual basis at the then-current subscription rate.\n</input>\n</label>\n</div>\n<div class='finish-subscription-action'>\n<button class='complete-upgrade-button' ng-disabled='ctrl.submitting' ng-if='ctrl.braintreeStatus' type='submit'>Upgrade to Annual</button>\n<button class='complete-upgrade-button' ng-click='obiSubmit(ctrl)' ng-disabled='ctrl.submitting || (ctrl.vermontAddress &amp;&amp; !ctrl.vermontOptedIn)' ng-if='ctrl.obiStatus'>Upgrade to Annual</button>\n<a class='cancel-link' href='' ng-click='ctrl.hideUpgradeForm()' type='button'>Cancel</a>\n</div>\n</form>\n<form class='payment-information' name='upgradeForm' ng-if='ctrl.cancelFormVisible &amp;&amp; ctrl.subscription.is_web' ng-submit='ctrl.onCancelSubmit($event, ctrl)'>\n<input name='site_id' ng-model='ctrl.site.id' type='hidden'>\n<input name='existing_subscription_id' ng-model='ctrl.subscription.id' type='hidden'>\n<div class='user-cancellation-prompt header'>We are sorry to see you go!</div>\n<div class='user-cancellation-prompt'>By canceling your subscription you will lose access to all premium content including exclusive news and members-only forums at the end of your current billing cycle. <br/><br/>You will also be ineligible for FanFutureCast participation and prizes, premium functionality on the web and mobile apps will no longer be available to you.</div>\n<div class='cancellation-details row'>\n<div class='details-group col-sm-24'>\n<select class='cancellation-reason-select form-control form-group' name='cancellation_reason' ng-model='ctrl.cancellationReason' required>\n<option value=''>\nCancellation Reason\n</option>\n<option value='dont_use'>\nDon't use\n</option>\n<option value='dont_want_to_pay'>\nDon't want to pay for it\n</option>\n<option value='dissatisfied_with_content'>\nDissatisfied with content\n</option>\n<option value='dissatisfied_with_forums'>\nDissatisfied with forums\n</option>\n<option value='other'>\nOther\n</option>\n</select>\n<div class='user-cancellation-prompt'>Any feedback on how we can improve?</div>\n<textarea class='note form-control' name='note' ng-model='ctrl.note' placeholder='Feedback (optional)' rows='3' type='text'></textarea>\n</div>\n</div>\n<div class='user-cancellation-prompt'>Please confirm your choice to cancel this subscription:</div>\n<div class='finish-subscription-action'>\n<button class='go-back-button' href='' ng-click='ctrl.hideCancelForm()' type='button'>\nNo, Go Back\n</button>\n<button class='user-cancellation-submit' ng-disabled='ctrl.submitting' type='submit'>\nYes I want to cancel\n</button>\n</div>\n</form>\n<div class='reactivate-subscription' ng-if='!ctrl.freezeSubscription() &amp;&amp; ctrl.subscription.isCancelling &amp;&amp; (ctrl.subscription.plan != &quot;comped&quot;) &amp;&amp; ctrl.subscription.is_web'>\n<a href='' ng-click='ctrl.showReactivateModal(ctrl.subscription.id)'>\nReactivate Subscription\n</a>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvSubscriptionTicket",{restrict:"E",templateUrl:"subscriptions/rvSubscriptionTicket.html",bindings:{subscription:"<",paymentMethod:"<",currentUserId:"<",obiStatus:"<",obiPromotions:"<",obiUpgradeSubscriptions:"<",obiEditBillingInfo:"<",obiSignup:"<",braintreeStatus:"<",userInitiatedCancellations:"<"},controllerAs:"ctrl",controller:["$scope","$rootScope","$uibModal","userSubscriptionService","$log","subscriptionsConstants","alertFactory",function(e,t,n,i,r,o,a){var s=this;s.editBraintree=!1,s.$onInit=function(){s.site=s.subscription.site,s.siteId=s.site.site.id,s.selectedPlan="annual",s.upgradeFormVisible=!1,s.editPaymentMethod=!1,s.promotion=null,s.promoCode="",s.gaClientId=$(".ga-client-id").val(),s.obiGiftNoPayment=s.subscription.isGift&&!s.paymentMethod,s.mobileStoreLink=s.mobileStoreLink(o),s.vermontAddress=s.checkVermontAddress()},s.freezeSubscription=function(){return"obi"==s.subscription.service_name&&!s.subscription.service_id},s.showCancelButton=function(){return s.submitting?s.cancelButtonVisible=!1:angular.isDefined(s.subscription)&&s.subscription.cancellable&&s.userInitiatedCancellations&&s.cancelFormVisible!==!0?s.cancelButtonVisible=!0:s.cancelButtonVisible=!1},s.showUpgradeButton=function(){return s.freezeSubscription()?!1:!(s.obiStatus&&!s.obiUpgradeSubscriptions)},s.showCancelForm=function(){s.cancelFormVisible=!0},s.showUpgradeForm=function(){t.$broadcast("subscriptionTicket.showUpgradeForm",s.subscription),s.upgradeFormVisible=!0},s.hideCancelForm=function(){s.cancelFormVisible=!1},s.hideUpgradeForm=function(){s.upgradeFormVisible=!1},s.onCancelSubmit=function(e,t){t.cancelSiteSubscription()},s.onUpgradeSubmit=function(e,t){!t.obiStatus&&t.editBraintree||t.upgradeSubscription()},s.obiSubmit=function(e){e.newPaymentMethod=e.upgradeFormVisible,e.submit()},s.mobileStoreLink=function(e){switch(s.subscription.service_name){case"apple":return e.APPLE_SUBSCRIPTION_LINK;case"google":return e.GOOGLE_SUBSCRIPTION_LINK;default:return""}},s.cancelSiteSubscription=function(){s.submitting=!0,s.errors=null,s.hideCancelForm(),i.cancelSiteSubscription(s.currentUserId,s.subscription.id,s.cancellationReason,s.note,s.selectedPlan).then(function(){a.displayAlert("You have successfully canceled this subscription, reloading.","success",300),s.submitting=!0,window.location.reload()})["catch"](function(e){a.displayAlert("An error occurred canceling this subscription. Please do not retry. Contact us at the link below for assistance.","severe",300),r.error("Error cancelling subscription: ",e),s.errors=e,s.showCancelForm(),s.submitting=!1})},s.upgradeSubscription=function(e){var t=e&&e.nonce;s.submitting=!0,s.errors=null,s.hideUpgradeForm(),i.upgradeToAnnual(s.currentUserId,s.subscription.id,s.promoCode,t,s.gaClientId,s.selectedPlan).then(function(e){s.subscription=e.subscription})["catch"](function(e){r.error("Error upgrading subscription: ",e),s.errors=e,s.showUpgradeForm()})["finally"](function(){s.submitting=!1})},s.showReactivateModal=function(){n.open({templateUrl:"modals/reactivateSubscription.html",controller:"ReactivateSubscriptionModalController",resolve:{subscription:function(){return s.subscription}}}).result.then(function(e){s.subscription=e})},s.showPaymentMethodForm=function(){s.editPaymentMethod=!0},s.hidePaymentMethodForm=function(){s.editPaymentMethod=!1},s.editBillingInfo=function(){s.obiEditBillingInfo||s.obiGiftNoPayment?n.open({templateUrl:"modals/editBillingInfoModal.html",controller:"editBillingInfoModalController as ctrl",size:"sm edit-billing-modal",resolve:{parentForm:function(){return angular.element("#subscription-"+s.subscription.id).find("form")}}}):s.editBraintree=!0},s.checkVermontAddress=function(){return s.vermontAddress="VT"==s.paymentMethod.state},e.$on("subscriptionTicket.showUpgradeForm",function(e,t){t.id!=s.subscription.id&&s.hideUpgradeForm()}),e.$watch("promoCode",function(){s.promoCode=e.promoCode}),e.$watch("upgradeFormVisible",function(e){e===!0&&(s.form=elem.find("form.upgrade-subscription"))}),e.$on("updateBillingInfo",function(e,t){s.paymentMethod=t.data,s.checkVermontAddress()})}]})}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("subscriptions/rvSubscriptionTicketList.html","<div class='subscription-ticket-list'>\n<rv-subscription-ticket braintree-status='ctrl.braintreeStatus' current-user-id='ctrl.currentUserId' ng-repeat='subscription in ctrl.subscriptions' obi-additional-subscriptions='ctrl.obiAdditionalSubscriptions' obi-edit-billing-info='ctrl.obiEditBillingInfo' obi-promotions='ctrl.obiPromotions' obi-status='ctrl.obiStatus' obi-upgrade-subscriptions='ctrl.obiUpgradeSubscriptions' payment-method='ctrl.paymentMethod' subscription='subscription' user-initiated-cancellations='ctrl.userInitiatedCancellations'></rv-subscription-ticket>\n<cancel-all-subs ng-if='!ctrl.userInitiatedCancellations'>\n<a class='cancel-subscriptions' href='https://io.help.yahoo.com/contact/index?page=contact&amp;locale=en_US&amp;y=PROD_SPORTS_RIVAL#'>Cancel Subscription</a>\n</cancel-all-subs>\n<cancel-all-subs ng-if='ctrl.userInitiatedCancellations'>\n<div class='having-trouble'>\nHave other billing or account questions?\n<a class='cancel-subscriptions' href='https://io.help.yahoo.com/contact/index?page=contact&amp;locale=en_US&amp;y=PROD_SPORTS_RIVAL#'>Contact Us</a>\n</div>\n</cancel-all-subs>\n</div>")}]),function(){"use strict";angular.module("rivals").component("rvSubscriptionTicketList",{restrict:"E",templateUrl:"subscriptions/rvSubscriptionTicketList.html",bindings:{subscriptions:"<",paymentMethod:"<",currentUserId:"<"},controllerAs:"ctrl",controller:["$http","userPaths","flipperService",function(e,t,n){var i=this;n.get(["obi_upgrade_subscriptions","obi_edit_billing_info","obi_signup","obi_promotions","user_initiated_cancellations"]).then(function(e){i.obiUpgradeSubscriptions=e.obi_upgrade_subscriptions,i.obiEditBillingInfo=e.obi_edit_billing_info,i.obiSignup=e.obi_signup,i.obiPromotions=e.obi_promotions,i.userInitiatedCancellations=e.user_initiated_cancellations}),e.get(t.apiV1UserBillingInfoObiPaymentProviderPath).then(function(e){i.obiStatus=e.data.obi_status,i.braintreeStatus=e.data.braintree_status})}]})}.call(this),angular.module("rivals").controller("subscriptionController",["$scope","$http","userPaths",function(e,t,n){var i=this;i.init=function(e,t,n){i.siteSubdomain=e,i.dropDownOptions=n;var r={friendly_name:"Select a Team",short_name:"rivals"};i.dropDownOptions.unshift(r),i.isCurrentlySubscribed(t,r),i.disableSubscription=!0},e.$watch("ctrl.siteSubdomain",function(){i.disableSubscription="Select a Team"===i.siteSubdomain.friendly_name}),i.isCurrentlySubscribed=function(e,t){if("Rivals"===i.siteSubdomain.friendly_name)i.siteSubdomain=t;else for(var n=0;n<e.length;n++){var r=e[n].site.site.id;i.siteSubdomain.id===r&&(i.siteSubdomain=t)}},i.getSubscriptionUrl=function(e){return n.addSubscriptionPath(e.short_name)},i.isValid=function(e,t,n){if(n)var i=n();return!(e>0)||t.$invalid||t.submitting||i}}]),function(){angular.module("rivals").controller("subscriptionFunnelController",["$window","googleAnalyticsFactory",function(e,t){var n=this,i={annual:"annual",monthly:"monthly",all:"all"};n.annualPlanSelected=!0,n.selectedPlan=i.annual,n.annualPlanClass="",n.monthlyPlanClass="",n.init=function(e){e&&(n.setPlanClass(e),e=e==i.all?i.annual:e,n.annualPlanSelected=e==i.annual),n.forumsEvent()},n.setPlanClass=function(e){e!=i.annual&&e!=i.monthly?(n.annualPlanClass,n.monthlyPlanClass=""):(n.annualPlanClass=e==i.monthly?"no-select":"",n.monthlyPlanClass=e==i.annual?"no-select":"")},n.togglePlan=function(e){n.annualPlanSelected=e==i.annual,n.selectedPlan=n.annualPlanSelected?i.annual:i.monthly},n.forumsEvent=function(){e.location.origin.includes("forums")&&t.sendEvent("Forums Interaction","Subscribe",null)}}])}.call(this),angular.module("rivals").service("subscriptionService",["$http","responseHandler",function(e,t){this.subscriptionsForUser=function(n){return e.get("/api/v1/admin/users/"+n+"/subscriptions",{}).then(t.handleSuccess,t.handleWithServerSideErrors)},this.upgrade=function(n,i,r,o){return e.put("/api/v1/admin/subscriptions/"+n+"/upgrade_to_annual",{note:i,promo_code:r,refund_type:o}).then(t.handleSuccess,t.handleErrors)},this.downgrade=function(n,i,r){return e.put("/api/v1/admin/subscriptions/"+n+"/downgrade_to_monthly",{note:i,refund_type:r}).then(t.handleSuccess,t.handleErrors)},this.createComp=function(n,i){var r;if("allSites"in i)r={comped_all_sites:i.allSites,expires_at:i.compedUntil};else{var o=i.compedSites.map(function(e){return e.id});r={comped_sites:o,expires_at:i.compedUntil}}return e.post("/api/v1/admin/users/"+n+"/subscriptions/comp_any_site",r).then(t.handleSuccess,t.handleErrors)},this.cancelComp=function(n,i){var r={subscription_id:i};return e.post("/api/v1/admin/users/"+n+"/subscriptions/cancel_comp",r).then(t.handleSuccess,t.handleErrors)},this.adjustComp=function(n,i,r){var o={subscription_id:i,expires_at:r};return e.post("/api/v1/admin/users/"+n+"/subscriptions/adjust_comp",o).then(t.handleSuccess,t.handleErrors)},this.createPublisherComp=function(n,i,r){return e.post("/api/v1/admin/users/"+n+"/subscriptions/comp_publisher_site",{subscription_id:i,expires_at:r}).then(t.handleSuccess,t.handleErrors)},this.cancelSubscription=function(n,i,r,o,a,s){return e.put("/api/v1/admin/subscriptions/"+n+"/cancel",{cancellation_reason:i,refund_type:r,note:o,subscription_plan:a,ga_client_id:s}).then(t.handleSuccess,t.handleErrors)},this.reactivateSubscription=function(n,i){var r=i?"/api/v1/admin/subscriptions/":"/users/subscriptions/";return e.put(r+n+"/reactivate").then(t.handleSuccess,t.handleErrors)},this.changeSite=function(n,i){return e.put("/api/v1/admin/subscriptions/"+n,{site_id:i}).then(t.handleSuccess,t.handleErrors)},this.extend=function(n,i,r,o){return e.put("/api/v1/admin/subscriptions/"+n+"/extend_renewal_date",{note:i,renewal_date:r,is_a_save:o}).then(t.handleSuccess,t.handleErrors)}}]),function(){"use strict";angular.module("rivals").factory("userSubscriptionService",["$http","$q","authTokenService","responseHandler","userPaths",function(e,t,n,i,r){var o=function(n,i,r,o,a){var s="/api/v2/users/"+n+"/subscriptions/"+i+"?reason="+r+"&note="+o+"&plan="+a;return e["delete"](s,{format:"json"}).then(function(e){return e.data},function(e){return t.reject(e.data.errors)})},a=function(i,r,o,a,s,l){var c="/api/v1/user/"+i+"/subscriptions/"+r,u=n.getCsrfToken();return e.put(c,{format:"json",subscription:{promo_code:o||"",ga_client_id:s,subscription_plan:l},payment_method_nonce:a||"",authenticity_token:u}).then(function(e){return e.data},function(e){return t.reject(e.data.errors)})},s=function(t){return e.get(r.estimateTaxPath,{params:t}).then(i.handleSuccess,i.handleErrors)},l=function(t){return e.get(r.apiV1EstimateTaxPath,{params:t}).then(i.handleSuccess,i.handleErrors)};return{cancelSiteSubscription:o,upgradeToAnnual:a,estimateTax:s,estimateGiftTax:l}}])}.call(this),angular.module("rivals").directive("changePassword",function(){return{controllerAs:"ctrl",templateUrl:"changePassword.html",controller:["passwordService",function(e){this.changing=!1;var t=this;t.validPassword=!1,this.showChangeForm=function(){this.changing=!0},this.hideChangeForm=function(){this.changing=!1},this.validatePassword=function(e){this.validPassword=e.length>=9&&/\d/.test(e)},this.changePassword=function(){e.change(this.newPassword).then(function(){t.changing=!1,t.changed=!0})["catch"](function(e){t.errors=e})},this.passwordInputType=function(){return this.showPassword?"text":"password"}}]}}),angular.module("rivals").factory("fanCastLeaderboardFactory",["$http","userPaths","responseHandler",function(e,t,n){return{getLeaderboardUsers:function(i){var r;return r="national"==i.tab?t.apiV1FancastLeaderboardNationalsPath(i):t.apiV1FancastLeaderboardPath(i),e.get(r).then(n.handleSuccess,n.handleErrors)},getUserIcon:function(i){var r=t.apiV1UserForumIconPath(i);return e.get(r).then(n.handleSuccess,n.handleWithServerSideErrors)}}}]),angular.module("rivals").service("passwordService",["$http","responseHandler",function(e,t){this.change=function(n){return e.put("/api/user/password",{password:n}).then(t.handleSuccess,function(e){return e.errors})}}]),angular.module("rivals").controller("productFaqController",function(){var e=this;e.setData=function(t){e.faq=t,e.faq.forEach(function(e){e.show_answer=!1})}}),angular.module("rivals").controller("rvBillingInfoController",["obiIframeFunctions","$timeout","flipperService","$http","userPaths","$uibModal","$scope","$window",function(e,t,n,i,r,o,a,s){var l=this;n.get(["obi_edit_billing_info"]).then(function(e){l.obiEditBillingInfo=e.obi_edit_billing_info}),i.get(r.apiV1UserBillingInfoObiPaymentProviderPath).then(function(e){l.obiStatus=e.data.obi_status,l.braintreeStatus=e.data.braintree_status}),a.$on("updateBillingInfo",function(){s.location.reload()}),l.editBillingInfo=function(){l.obiEditBillingInfo?o.open({templateUrl:"modals/editBillingInfoModal.html",controller:"editBillingInfoModalController as ctrl",size:"sm edit-billing-modal",resolve:{
parentForm:function(){return angular.element(".billing-info-form")}}}):l.editBraintree=!0}}]),angular.module("templates").run(["$templateCache",function(e){e.put("user/rvForumsInfo.html","<rv-nav-notification notification-class='&#39;user-conversation&#39;' notification-count='forumsInfo.unreadConversations' notification-link='forumConvoUrl'></rv-nav-notification>\n<rv-nav-notification notification-class='&#39;user-alerts&#39;' notification-count='forumsInfo.unreadAlerts' notification-link='forumAlertUrl'></rv-nav-notification>")}]),function(){"use strict";angular.module("rivals").directive("rvForumsInfo",["userService","userPaths",function(e,t){return{restrict:"E",scope:{currentUser:"="},templateUrl:"user/rvForumsInfo.html",link:function(n){n.forumConvoUrl=t.forumsPath+"/conversations",n.forumAlertUrl=t.forumsPath+"/account/alerts",n.forumsInfo={},e.forumsInfo().then(function(e){n.forumsInfo=e})}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("user/rvUserDropdown.html","<div class='user-items' ng-if='isDesktopOrTablet'>\n<div class='user-menu-container' ng-hide='waitingUserStatus()'>\n<div class='user-menu dropdown' ng-if='currentUser' uib-dropdown>\n<a aria-expanded='false' aria-haspopup='true' class='dropdown-toggle' data-target='#' data-toggle='dropdown' ng-click='toggleUserNav()' ng-if='currentUser' role='button' uib-dropdown-toggle>\n&nbsp;\n<span>{{ currentUser.username | ellipsifyString: 10 }}</span>\n</a>\n<ul class='dropdown-menu navigation-dropdown'>\n<rv-user-menu-items current-user='currentUser'></rv-user-menu-items>\n</ul>\n</div>\n</div>\n<div class='user-menu dropdown' ng-if='!currentUser &amp;&amp; !waitingUserStatus()' uib-dropdown>\n<ul class='sign-in-register-links'>\n<li id='sign-in'>\n<a ng-click='menuEvent(&quot;Log In&quot;)'>\nLog in\n</a>\n</li>\n</ul>\n<a aria-expanded='false' aria-haspopup='true' class='dropdown-toggle' data-target='#' data-toggle='dropdown' role='button' uib-dropdown-toggle>&nbsp;</a>\n<ul class='dropdown-menu navigation-dropdown'>\n<li class='dropdown-item'>\n<a ng-click='menuEvent(&quot;Log In&quot;)'>\nLog in\n</a>\n</li>\n<li class='dropdown-item'>\n<a ng-click='menuEvent(&quot;Subscribe&quot;)'>\nSubscribe\n</a>\n</li>\n</ul>\n</div>\n</div>")}]),function(){"use strict";angular.module("rivals").directive("rvUserDropdown",["$rootScope","userPaths","userService","responsiveService","$timeout","alertFactory","googleAnalyticsFactory","$window",function(e,t,n,i,r,o,a,s){return{restrict:"E",scope:{currentUser:"=?"},templateUrl:"user/rvUserDropdown.html",link:function(l){function c(e){e&&!_.isEmpty(e.lapsed_subs)&&r(function(){e.lapsed_subs.forEach(function(e){o.displayAlert(e,"info",300)})})}function u(t){t&&(t.show_admin_portal||t.publishing_sites.length>0)&&e.$broadcast("editProspects",!0)}function d(e){var t=window._cbq||[],n=e?e.chartbeat_user_type:"anon";t.push(["_acct",n]),window._cbq=t;try{loadChartbeat()}catch(i){}var r=e?e.google_analytics_user_type:"Anonymous";try{ga("set","dimension1",r),ga("send","pageview")}catch(o){"ReferenceError"!==o.name?console.log(o):console.log("ga not defined")}}l.currentUser?(u(l.currentUser),c(l.currentUser),d(l.currentUser)):n.getCurrentUserInfo().then(function(e){var t=e.user;t=_.isEmpty(t)?null:t,l.currentUser=t,c(t),u(t),d(t)}),l.signInPath=t.signInPath,l.registerPath=t.subscriptionFunnelPath,l.waitingUserStatus=function(){return void 0===l.currentUser},l.menuEvent=function(e){a.sendEvent("headerInteraction",e,null),s.location.href="Log In"===e?l.signInPath:l.registerPath},i.subscribeScopeToResizeEvents(l,function(e,t){l.isDesktopOrTablet="mobile-large"!=t.breakpoint||"mobile-small"!=t.breakpoint})}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("user/rvUserMenuItems.html","<li class='dropdown-item user-item' ng-if-start='currentUser'>\n<a class='username-bar' ng_href='{{userProfilePath}}'>\n<div class='user-avatar' href='{{userProfilePath}}'></div>\n<div class='username' id='user-profile'>\n{{ currentUser.username | ellipsifyString: 15 }}\n</div>\n</a>\n</li>\n<li class='dropdown-item user-control' id='publishing-sites' ng_if='currentUser.show_publishing'>\n<div class='site-list-header' ng_if='currentUser.subscriptions.length &gt; 0 &amp;&amp; currentUser.publishing_sites.length &gt; 0'>\nPublishing\n</div>\n<ul class='site-list'>\n<li class='site-item' ng_repeat='site in currentUser.publishing_sites | orderBy:&quot;friendly_name&quot;'>\n<span class='site-line' style='background-color: {{&#39;#&#39; + site.primary_color}}'></span>\n<a ng_href='{{publishingDashboardUrl(site.subdomain)}}'>\n{{ site.friendly_name | ellipsifyString: 25 }}\n</a>\n</li>\n</ul>\n</li>\n<li class='dropdown-item top-nav-btn subscribe-btn' ng_if='currentUser.subscriptions.length == 0 &amp;&amp; currentUser.show_enduser &amp;&amp; !isDesktop'>\n<a id='subscribe-now' ng-class='isMobile ? &quot;btn btn-block btn-highlight btn-skinny&quot; : &quot;&quot;' ng-href='{{subscribePath}}'>Subscribe Now</a>\n</li>\n<li class='dropdown-item user-control'>\n<div class='site-list-header' ng_if='currentUser.subscriptions.length &gt; 0 &amp;&amp; currentUser.publishing_sites.length &gt; 0'>\nSubscriptions\n</div>\n<ul class='site-list' id='subscriptions' ng_if='currentUser.subscriptions.length &gt; 0'>\n<li class='site-item' ng_repeat='site in currentUser.subscriptions | orderBy:&quot;friendly_name&quot;'>\n<span class='site-line' style='background-color: {{&#39;#&#39; + site.primary_color}}'></span>\n<a ng_href='{{siteUrl(site.subdomain)}}'>\n{{ site.friendly_name | ellipsifyString: 25 }}\n</a>\n</li>\n</ul>\n</li>\n<li class='dropdown-item top-nav user-control' id='admin' ng-class='currentUser.show_publishing ? &#39;publisher&#39; : nil' ng-if='currentUser.show_admin_portal'>\n<a ng-class='currentUser.show_publishing ? &#39;publisher&#39; : nil' ng-href='{{adminHomePath}}'>Admin</a>\n</li>\n<li class='dropdown-item account-link top-nav user-control' id='user-profile' ng_class='currentUser.show_publishing ? &#39;publisher&#39; : nil'>\n<a ng_href='{{userProfilePath}}'>Account</a>\n</li>\n<li class='dropdown-item top-nav user-control' id='sign-out' ng-class='currentUser.show_publishing ? &#39;publisher&#39; : nil' ng-if-end>\n<a ng-click='clearCookie()' ng-href='{{signOutPath}}'>Log out</a>\n</li>\n<li class='dropdown-item top-nav-btn' id='sign-in' ng_if='!currentUser'>\n<a class='btn btn-skinny btn-primary btn-block' ng_href='{{signInPath}}'>Log in</a>\n</li>\n<li class='dropdown-item top-nav-btn' id='sign-in' ng_if='!currentUser'>\n<a class='btn btn-skinny btn-gray btn-block' ng_href='{{registerPath}}'>Subscribe</a>\n</li>")}]),function(){"use strict";angular.module("rivals").directive("rvUserMenuItems",["userPaths","responsiveService","cookies",function(e,t,n){return{restrict:"E",templateUrl:"user/rvUserMenuItems.html",scope:{currentUser:"="},link:function(i){i.publishingDashboardUrl=e.publishingDashboardUrl,i.adminHomePath=e.adminHomePath,i.subscribePath=e.subscribePath,i.userProfilePath=e.userProfilePath,i.signOutPath=e.signOutPath,i.signInPath=e.signInPath,i.registerPath=e.subscriptionFunnelPath,i.siteUrl=e.siteUrl,i.clearCookie=function(){n.set("inappropriateUserModal",!1,{domain:".rivals.com"})},t.subscribeScopeToResizeEvents(i,function(e,t){i.isMobile="mobile-large"==t.breakpoint||"mobile-small"==t.breakpoint,i.isDesktop="desktop-small"==t.breakpoint||"desktop-large"==t.breakpoint})}}}])}.call(this),angular.module("rivals").controller("UserEventController",["$scope","$window","eventService","eventId","visitorCookie","html","buttonTitle","$uibModalInstance",function(e,t,n,i,r,o,a,s){var l=this;l.eventId=i,l.visitorCookie=r,l.html=o,l.buttonTitle=a?a:"I agree to the terms above",l.agreeToTerms=function(){n.agreeToTerms(l.eventId,l.visitorCookie),s.close()}}]),angular.module("rivals").run(["$templateCache",function(e){e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match">         <span ng-repeat="$item in $select.selected track by $index">           <span             class="ui-select-match-item btn btn-default btn-xs"             tabindex="-1"             type="button"             ng-disabled="$select.disabled"             ng-click="$selectMultiple.removeChoice($index)"             ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}"             ui-select-sort="$select.selected">               <span uis-transclude-append></span>           </span>         </span>       </span>')}]),angular.module("rivals").controller("userSearchController",["$scope","$http","$location","$timeout","userPaths","moment","responsiveService","userSearchParamService",function(e,t,n,i,r,o,a,s){e.member="Prospect",e.emptySearch=!0,e.resultsCount=0,e.showFilters=!1,e.forms={},e.formValues={},e.months=o.months(),e.noFiltersSet=_.isEmpty(e.formValues),e.filtersCleared=!1,e.original_states,e.positionPlaceholder="Select a Position first";var l=["acc","big12","big10","pac12","sec"],c=["aac","cusa","sbelt","mwest","midam"],u={"All Mid-Atlantic":["ME","VT","NH","RI","MA","CT","NY","NJ","DE","PA","MD","DC","WV","VA","NC"],"All Southeast":["SC","GA","TN","KY","FL","AL","MS"],"All Mid-South":["LA","TX","AR","OK","KS","MO"],"All Midwest":["OH","IL","IN","IA","MI","WI","MN","NE","SD","ND"],"All West":["NM","AZ","CO","UT","WY","MT","ID","NV","CA","OR","WA","HI","AK"]};a.subscribeScopeToResizeEvents(e,function(t,n){e.isMobile="mobile-large"==n.breakpoint||"mobile-small"==n.breakpoint}),e.toggleShowFilters=function(t){t.preventDefault(),e.showFilters=!e.showFilters},e.$watch("formValues",function(t){e.noFiltersSet=_.isEmpty(t)},!0),e.resetAll=function(){n.search("query",null),n.search("formValues",null),e.formValues={sport:"Football"},e.noFiltersSet=!0,e.filtersCleared=!0,e.states=angular.copy(e.original_states),i(function(){e.fadeOut=!0},2e3)},e.sortResults=function(t){delete e.formValues.sort,t?(t=t,e.formValues.sort={},e.formValues.sort[t]={},e.formValues.sort[t].order=e.previousSortedField==t&&"asc"!==e.formValues.sort[t].order?"asc":"desc",e.previousSortedField=t):e.previousSortedField="",e.search()},e.filterPositionGroups=function(t){e.availablePositionGroups=_.select(e.position_groups,function(t){return t.sport===e.formValues.sport}),t||(e.formValues["prospect_profiles.position_group_abbreviation"]="",e.formValues["prospect_profiles.position_abbreviation"]="")},e.filterPositions=function(t){if(e.availablePositions=_.select(e.positions,function(t){return _.include(e.formValues["prospect_profiles.position_group_abbreviation"],t.position_group)}),e.formValues["prospect_profiles.position_group_abbreviation"].length>0?e.positionPlaceholder="All Variants":e.positionPlaceholder="Select a Position First",t){var n=[],i=_.map(e.availablePositions,"abbreviation");_(e.formValues["prospect_profiles.position_abbreviation"]).forEach(function(e){_.include(i,e)||n.push(e)}),_.remove(e.formValues["prospect_profiles.position_abbreviation"],function(e){return _.include(n,e)})}},e.selectRange=function(t){e.formValues[t]&&(!e.formValues[t].range&&angular.isDefined(e.formValues[t].number)?e.formValues[t].range="eq":e.formValues[t].number?angular.isUndefined(e.formValues[t].number)&&(e.formValues[t].range=""):e.formValues[t]=void 0)},e.deselectRange=function(t){e.formValues[t]&&(e.formValues[t].range||(e.formValues[t]=void 0))},e.rangeFilterPresent=function(t){return e.formValues[t]&&"number"==typeof e.formValues[t].number&&e.formValues[t].range},e.toggleConferenceGroups=function(t){var n;"power5"==t?n=l:"group5"==t&&(n=c),_.each(e.conferences,function(e){_.include(n,e.abbreviation)&&(e.status?e.status="active"==e.status?"inactive":"active":e.status="inactive")})},e.buildDate=function(){e.formValues.visit_year||(e.formValues.visit_year=o().year()),e.formValues["prospect_profiles.prospect_colleges.visits.visit_date"]=e.formValues.visit_month?e.formValues.visit_year+"-"+o(e.formValues.visit_month,"MMMM").format("MM"):e.formValues.visit_year},e.setOfferStatusVisitType=function(){e.formValues["prospect_profiles.prospect_colleges.offer"]=_.include(e.formValues.offer_and_visit_type,"Offer")?!0:null;var t=_.include(e.formValues.offer_and_visit_type,"Official Visit"),n=_.include(e.formValues.offer_and_visit_type,"Unofficial Visit");t&&n||!t&&!n?e.formValues["prospect_profiles.prospect_colleges.visits.visit_official"]=null:t&&!n?e.formValues["prospect_profiles.prospect_colleges.visits.visit_official"]=!0:!t&&n&&(e.formValues["prospect_profiles.prospect_colleges.visits.visit_official"]=!1)},e.refreshMultiSelects=function(){i(function(){var t=e.formValues["prospect_profiles.prospect_colleges.college_common_name"];e.formValues["prospect_profiles.prospect_colleges.college_common_name"]=[],e.formValues["prospect_profiles.prospect_colleges.college_common_name"]=t;var n=e.formValues["prospect_profiles.highschool_name"];e.formValues["prospect_profiles.highschool_name"]=[],e.formValues["prospect_profiles.highschool_name"]=n})},e.search=function(t){t&&(e.formValues.page_number=1,e.formValues.page_size=e.page_size),e.formValues=e.cleanupURL(e.formValues),n.search("query",e.query),n.search("formValues",JSON.stringify(e.formValues)),e.emptySearch=!1,e.$broadcast("search:prospects"),e.showFilters=!1},e.cleanupURL=function(e){var t=[];return _.each(e,function(e,n){(!e||angular.isArray(e)&&!e.length)&&t.push(n)}),_.omit(e,t)},e.init=function(t,i){_.each(["sports","position_groups","positions","years","stars","ranges","conferences","interests","statuses","states","types","rivals_ratings","page_size","offer_and_visit_types"],function(n){e[n]=JSON.parse(t[n])}),e.original_states=angular.copy(e.states),e.availablePositionGroups=e.position_groups,e.availablePositions=e.positions,e.query=n.search().query,_.isEmpty(n.search())||(e.formValues=JSON.parse(decodeURI(n.search().formValues))),!e.query&&_.isEmpty(e.formValues)||(e.emptySearch=!1,e.showFilters=!0),e.colleges=e.formValues["prospect_profiles.prospect_colleges.college_common_name"]?e.formValues["prospect_profiles.prospect_colleges.college_common_name"].map(function(e){return{common_name:e}}):[],e.highschools=e.formValues["prospect_profiles.highschool_name"]?e.formValues["prospect_profiles.highschool_name"].map(function(e){return{display_name:e}}):[],e.formValues.sport=e.formValues.sport||i,e.formValues.sport&&e.filterPositionGroups(!0),e.formValues["prospect_profiles.position_group_abbreviation"]&&e.filterPositions(),e.formValues["prospect_profiles.prospect_colleges.college_conference_abbreviation"]&&_.each(e.formValues["prospect_profiles.prospect_colleges.college_conference_abbreviation"],function(t){e.toggleConferenceGroups(t)})},e.$on("search:prospects:done",function(t,n){0==n?e.resultsMessage="No results found":(e.total_items=n,e.resultsMessage=n+" prospect(s) found")}),e.$on("search:prospects:start",function(){e.resultsMessage=null}),e.getColleges=function(n){if(n){var i=s.buildUrl(n,{},"colleges");return t.get(i).then(function(t){e.colleges=t.data.colleges})}},e.getHighschools=function(n){if(n){var i={q:n};return angular.isDefined(e.formValues["state.abbr"])&&(i.state_abbr=e.formValues["state.abbr"].join(",")),t.get(r.apiV1ContentHighschoolsPath,{params:i}).then(function(t){e.highschools=t.data})}};var d=l.concat("power5"),p=c.concat("group5");e.groupConferences=function(e){return _.include(d,e.abbreviation)?"Power Five":_.include(p,e.abbreviation)?"Group of Five":""},e.selectRegionOrState=function(t){if(_.has(u,t.name))e.formValues["state.abbr"].pop(),e.formValues["state.abbr"]=_.union(e.formValues["state.abbr"],u[t.name]),e.states.splice(_.findIndex(e.states,function(e){return e.name==t.name}),1);else{var n=_.findKey(u,function(t){return _.intersection(e.formValues["state.abbr"],t).length==t.length});n&&e.states.splice(_.findIndex(e.states,function(e){return e.name==n}),1)}},e.addRegionToDropDown=function(t){var n=_.findKey(u,function(n){return _.intersection([t],n)==t&&_.intersection(e.formValues["state.abbr"],n)!=n}),i={name:n,abbr:void 0};_.intersection(i,e.states)==i||_.find(e.states,function(e){return e.name==i.name})||e.states.unshift(i)},e.stateGroupFunction=function(e){return e.grouping}}]),angular.module("rivals").service("userService",["$http","$q","cookies","responseHandler","userPaths",function(e,t,n,i,r){function o(){return n.get("login_time")}function a(e){var t=o();return localStorage.setItem(s,angular.toJson(_.merge(e.data,{expiresAt:Date.now()+36e5,loginTimestamp:t}))),e}this.forumsInfo=function(){return r.forumsStatisticsPath?e.get(r.forumsStatisticsPath).then(i.handleSuccess,i.handleError):t(function(e){e({})})};var s="current_user_info";this.getCurrentUserInfo=function(){if(n.get("rivals_authenticated")){if(angular.isDefined(Storage)){var r=localStorage.getItem(s);if(r){var l=angular.fromJson(r);if(l){if(angular.isDefined(l.user)&&angular.isDefined(l.user.next_expiring_sub))var c=Date.now()/1e3+300>l.user.next_expiring_sub&&0!=l.user.next_expiring_sub;if(angular.isDefined(l.user)&&!_.isEmpty(l.user.lapsed_subs));else if(l.expiresAt>Date.now()&&l.loginTimestamp===o()&&!c)return t.resolve(l)}}return e.get("/api/v1/user/current").then(a).then(i.handleSuccess,i.handleErrors)}return e.get("/api/v1/user/current",{cache:!0}).then(i.handleSuccess,i.handleErrors)}return angular.isDefined(Storage)&&null!==localStorage.getItem(s)&&localStorage.removeItem(s),t.resolve("")},this.getAuthTokenHeader=function(){return this.getCurrentUserInfo().then(function(){return{Authorization:"token"}})},this.userJustLoggedIn=function(){var e=localStorage.getItem(s);return n.get("rivals_authenticated")&&!e}}]);